{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/contrib/editorState/browser/keybindingCancellation.js"],"sourcesContent":["import { registerEditorCommand, EditorCommand } from '../../../browser/editorExtensions.js';\nimport { RawContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { LinkedList } from '../../../../base/common/linkedList.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { localize } from '../../../../nls.js';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nconst IEditorCancellationTokens = createDecorator('IEditorCancelService');\nconst ctxCancellableOperation = new RawContextKey('cancellableOperation', false, localize(939, 'Whether the editor runs a cancellable operation, e.g. like \\'Peek References\\''));\nregisterSingleton(IEditorCancellationTokens, class {\n    constructor() {\n        this._tokens = new WeakMap();\n    }\n    add(editor, cts) {\n        let data = this._tokens.get(editor);\n        if (!data) {\n            data = editor.invokeWithinContext(accessor => {\n                const key = ctxCancellableOperation.bindTo(accessor.get(IContextKeyService));\n                const tokens = new LinkedList();\n                return { key, tokens };\n            });\n            this._tokens.set(editor, data);\n        }\n        let removeFn;\n        data.key.set(true);\n        removeFn = data.tokens.push(cts);\n        return () => {\n            // remove w/o cancellation\n            if (removeFn) {\n                removeFn();\n                data.key.set(!data.tokens.isEmpty());\n                removeFn = undefined;\n            }\n        };\n    }\n    cancel(editor) {\n        const data = this._tokens.get(editor);\n        if (!data) {\n            return;\n        }\n        // remove with cancellation\n        const cts = data.tokens.pop();\n        if (cts) {\n            cts.cancel();\n            data.key.set(!data.tokens.isEmpty());\n        }\n    }\n}, 1 /* InstantiationType.Delayed */);\nclass EditorKeybindingCancellationTokenSource extends CancellationTokenSource {\n    constructor(editor, parent) {\n        super(parent);\n        this.editor = editor;\n        this._unregister = editor.invokeWithinContext(accessor => accessor.get(IEditorCancellationTokens).add(editor, this));\n    }\n    dispose() {\n        this._unregister();\n        super.dispose();\n    }\n}\nregisterEditorCommand(new class extends EditorCommand {\n    constructor() {\n        super({\n            id: 'editor.cancelOperation',\n            kbOpts: {\n                weight: 100 /* KeybindingWeight.EditorContrib */,\n                primary: 9 /* KeyCode.Escape */\n            },\n            precondition: ctxCancellableOperation\n        });\n    }\n    runEditorCommand(accessor, editor) {\n        accessor.get(IEditorCancellationTokens).cancel(editor);\n    }\n});\n\nexport { EditorKeybindingCancellationTokenSource };\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAEA;;;8FAG8F,GAC9F,MAAM,4BAA4B,IAAA,yRAAe,EAAC;AAClD,MAAM,0BAA0B,IAAI,iRAAa,CAAC,wBAAwB,OAAO,IAAA,iPAAQ,EAAC,KAAK;AAC/F,IAAA,wRAAiB,EAAC,2BAA2B;IACzC,aAAc;QACV,IAAI,CAAC,OAAO,GAAG,IAAI;IACvB;IACA,IAAI,MAAM,EAAE,GAAG,EAAE;QACb,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC;QAC5B,IAAI,CAAC,MAAM;YACP,OAAO,OAAO,mBAAmB,CAAC,CAAA;gBAC9B,MAAM,MAAM,wBAAwB,MAAM,CAAC,SAAS,GAAG,CAAC,sRAAkB;gBAC1E,MAAM,SAAS,IAAI,4PAAU;gBAC7B,OAAO;oBAAE;oBAAK;gBAAO;YACzB;YACA,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ;QAC7B;QACA,IAAI;QACJ,KAAK,GAAG,CAAC,GAAG,CAAC;QACb,WAAW,KAAK,MAAM,CAAC,IAAI,CAAC;QAC5B,OAAO;YACH,0BAA0B;YAC1B,IAAI,UAAU;gBACV;gBACA,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,MAAM,CAAC,OAAO;gBACjC,WAAW;YACf;QACJ;IACJ;IACA,OAAO,MAAM,EAAE;QACX,MAAM,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC;QAC9B,IAAI,CAAC,MAAM;YACP;QACJ;QACA,2BAA2B;QAC3B,MAAM,MAAM,KAAK,MAAM,CAAC,GAAG;QAC3B,IAAI,KAAK;YACL,IAAI,MAAM;YACV,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,MAAM,CAAC,OAAO;QACrC;IACJ;AACJ,GAAG,EAAE,6BAA6B;AAClC,MAAM,gDAAgD,2QAAuB;IACzE,YAAY,MAAM,EAAE,MAAM,CAAE;QACxB,KAAK,CAAC;QACN,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,WAAW,GAAG,OAAO,mBAAmB,CAAC,CAAA,WAAY,SAAS,GAAG,CAAC,2BAA2B,GAAG,CAAC,QAAQ,IAAI;IACtH;IACA,UAAU;QACN,IAAI,CAAC,WAAW;QAChB,KAAK,CAAC;IACV;AACJ;AACA,IAAA,gRAAqB,EAAC,IAAI,cAAc,wQAAa;IACjD,aAAc;QACV,KAAK,CAAC;YACF,IAAI;YACJ,QAAQ;gBACJ,QAAQ,IAAI,kCAAkC;gBAC9C,SAAS,EAAE,kBAAkB;YACjC;YACA,cAAc;QAClB;IACJ;IACA,iBAAiB,QAAQ,EAAE,MAAM,EAAE;QAC/B,SAAS,GAAG,CAAC,2BAA2B,MAAM,CAAC;IACnD;AACJ","ignoreList":[0]}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/contrib/editorState/browser/editorState.js"],"sourcesContent":["import { format } from '../../../../base/common/strings.js';\nimport { Range } from '../../../common/core/range.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { EditorKeybindingCancellationTokenSource } from './keybindingCancellation.js';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nclass EditorState {\n    constructor(editor, flags) {\n        this.flags = flags;\n        if ((this.flags & 1 /* CodeEditorStateFlag.Value */) !== 0) {\n            const model = editor.getModel();\n            this.modelVersionId = model ? format('{0}#{1}', model.uri.toString(), model.getVersionId()) : null;\n        }\n        else {\n            this.modelVersionId = null;\n        }\n        if ((this.flags & 4 /* CodeEditorStateFlag.Position */) !== 0) {\n            this.position = editor.getPosition();\n        }\n        else {\n            this.position = null;\n        }\n        if ((this.flags & 2 /* CodeEditorStateFlag.Selection */) !== 0) {\n            this.selection = editor.getSelection();\n        }\n        else {\n            this.selection = null;\n        }\n        if ((this.flags & 8 /* CodeEditorStateFlag.Scroll */) !== 0) {\n            this.scrollLeft = editor.getScrollLeft();\n            this.scrollTop = editor.getScrollTop();\n        }\n        else {\n            this.scrollLeft = -1;\n            this.scrollTop = -1;\n        }\n    }\n    _equals(other) {\n        if (!(other instanceof EditorState)) {\n            return false;\n        }\n        const state = other;\n        if (this.modelVersionId !== state.modelVersionId) {\n            return false;\n        }\n        if (this.scrollLeft !== state.scrollLeft || this.scrollTop !== state.scrollTop) {\n            return false;\n        }\n        if (!this.position && state.position || this.position && !state.position || this.position && state.position && !this.position.equals(state.position)) {\n            return false;\n        }\n        if (!this.selection && state.selection || this.selection && !state.selection || this.selection && state.selection && !this.selection.equalsRange(state.selection)) {\n            return false;\n        }\n        return true;\n    }\n    validate(editor) {\n        return this._equals(new EditorState(editor, this.flags));\n    }\n}\n/**\n * A cancellation token source that cancels when the editor changes as expressed\n * by the provided flags\n * @param range If provided, changes in position and selection within this range will not trigger cancellation\n */\nclass EditorStateCancellationTokenSource extends EditorKeybindingCancellationTokenSource {\n    constructor(editor, flags, range, parent) {\n        super(editor, parent);\n        this._listener = new DisposableStore();\n        if (flags & 4 /* CodeEditorStateFlag.Position */) {\n            this._listener.add(editor.onDidChangeCursorPosition(e => {\n                if (!range || !Range.containsPosition(range, e.position)) {\n                    this.cancel();\n                }\n            }));\n        }\n        if (flags & 2 /* CodeEditorStateFlag.Selection */) {\n            this._listener.add(editor.onDidChangeCursorSelection(e => {\n                if (!range || !Range.containsRange(range, e.selection)) {\n                    this.cancel();\n                }\n            }));\n        }\n        if (flags & 8 /* CodeEditorStateFlag.Scroll */) {\n            this._listener.add(editor.onDidScrollChange(_ => this.cancel()));\n        }\n        if (flags & 1 /* CodeEditorStateFlag.Value */) {\n            this._listener.add(editor.onDidChangeModel(_ => this.cancel()));\n            this._listener.add(editor.onDidChangeModelContent(_ => this.cancel()));\n        }\n    }\n    dispose() {\n        this._listener.dispose();\n        super.dispose();\n    }\n}\n/**\n * A cancellation token source that cancels when the provided model changes\n */\nclass TextModelCancellationTokenSource extends CancellationTokenSource {\n    constructor(model, parent) {\n        super(parent);\n        this._listener = model.onDidChangeContent(() => this.cancel());\n    }\n    dispose() {\n        this._listener.dispose();\n        super.dispose();\n    }\n}\n\nexport { EditorState, EditorStateCancellationTokenSource, TextModelCancellationTokenSource };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/contrib/format/browser/formattingEdit.js"],"sourcesContent":["import { EditOperation } from '../../../common/core/editOperation.js';\nimport { Range } from '../../../common/core/range.js';\nimport { StableEditorScrollState } from '../../../browser/stableEditorScroll.js';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nclass FormattingEdit {\n    static _handleEolEdits(editor, edits) {\n        let newEol = undefined;\n        const singleEdits = [];\n        for (const edit of edits) {\n            if (typeof edit.eol === 'number') {\n                newEol = edit.eol;\n            }\n            if (edit.range && typeof edit.text === 'string') {\n                singleEdits.push(edit);\n            }\n        }\n        if (typeof newEol === 'number') {\n            if (editor.hasModel()) {\n                editor.getModel().pushEOL(newEol);\n            }\n        }\n        return singleEdits;\n    }\n    static _isFullModelReplaceEdit(editor, edit) {\n        if (!editor.hasModel()) {\n            return false;\n        }\n        const model = editor.getModel();\n        const editRange = model.validateRange(edit.range);\n        const fullModelRange = model.getFullModelRange();\n        return fullModelRange.equalsRange(editRange);\n    }\n    static execute(editor, _edits, addUndoStops) {\n        if (addUndoStops) {\n            editor.pushUndoStop();\n        }\n        const scrollState = StableEditorScrollState.capture(editor);\n        const edits = FormattingEdit._handleEolEdits(editor, _edits);\n        if (edits.length === 1 && FormattingEdit._isFullModelReplaceEdit(editor, edits[0])) {\n            // We use replace semantics and hope that markers stay put...\n            editor.executeEdits('formatEditsCommand', edits.map(edit => EditOperation.replace(Range.lift(edit.range), edit.text)));\n        }\n        else {\n            editor.executeEdits('formatEditsCommand', edits.map(edit => EditOperation.replaceMove(Range.lift(edit.range), edit.text)));\n        }\n        if (addUndoStops) {\n            editor.pushUndoStop();\n        }\n        scrollState.restoreRelativeVerticalPositionOfCursor(editor);\n    }\n}\n\nexport { FormattingEdit };\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA;;;8FAG8F,GAC9F,MAAM;IACF,OAAO,gBAAgB,MAAM,EAAE,KAAK,EAAE;QAClC,IAAI,SAAS;QACb,MAAM,cAAc,EAAE;QACtB,KAAK,MAAM,QAAQ,MAAO;YACtB,IAAI,OAAO,KAAK,GAAG,KAAK,UAAU;gBAC9B,SAAS,KAAK,GAAG;YACrB;YACA,IAAI,KAAK,KAAK,IAAI,OAAO,KAAK,IAAI,KAAK,UAAU;gBAC7C,YAAY,IAAI,CAAC;YACrB;QACJ;QACA,IAAI,OAAO,WAAW,UAAU;YAC5B,IAAI,OAAO,QAAQ,IAAI;gBACnB,OAAO,QAAQ,GAAG,OAAO,CAAC;YAC9B;QACJ;QACA,OAAO;IACX;IACA,OAAO,wBAAwB,MAAM,EAAE,IAAI,EAAE;QACzC,IAAI,CAAC,OAAO,QAAQ,IAAI;YACpB,OAAO;QACX;QACA,MAAM,QAAQ,OAAO,QAAQ;QAC7B,MAAM,YAAY,MAAM,aAAa,CAAC,KAAK,KAAK;QAChD,MAAM,iBAAiB,MAAM,iBAAiB;QAC9C,OAAO,eAAe,WAAW,CAAC;IACtC;IACA,OAAO,QAAQ,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE;QACzC,IAAI,cAAc;YACd,OAAO,YAAY;QACvB;QACA,MAAM,cAAc,oRAAuB,CAAC,OAAO,CAAC;QACpD,MAAM,QAAQ,eAAe,eAAe,CAAC,QAAQ;QACrD,IAAI,MAAM,MAAM,KAAK,KAAK,eAAe,uBAAuB,CAAC,QAAQ,KAAK,CAAC,EAAE,GAAG;YAChF,6DAA6D;YAC7D,OAAO,YAAY,CAAC,sBAAsB,MAAM,GAAG,CAAC,CAAA,OAAQ,4QAAa,CAAC,OAAO,CAAC,4PAAK,CAAC,IAAI,CAAC,KAAK,KAAK,GAAG,KAAK,IAAI;QACvH,OACK;YACD,OAAO,YAAY,CAAC,sBAAsB,MAAM,GAAG,CAAC,CAAA,OAAQ,4QAAa,CAAC,WAAW,CAAC,4PAAK,CAAC,IAAI,CAAC,KAAK,KAAK,GAAG,KAAK,IAAI;QAC3H;QACA,IAAI,cAAc;YACd,OAAO,YAAY;QACvB;QACA,YAAY,uCAAuC,CAAC;IACxD;AACJ","ignoreList":[0]}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/contrib/format/browser/format.js"],"sourcesContent":["import { isNonEmptyArray, asArray } from '../../../../base/common/arrays.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { LinkedList } from '../../../../base/common/linkedList.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { EditorStateCancellationTokenSource, TextModelCancellationTokenSource } from '../../editorState/browser/editorState.js';\nimport { isCodeEditor } from '../../../browser/editorBrowser.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { IEditorWorkerService } from '../../../common/services/editorWorker.js';\nimport { ITextModelService } from '../../../common/services/resolverService.js';\nimport { FormattingEdit } from './formattingEdit.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { ExtensionIdentifierSet } from '../../../../platform/extensions/common/extensions.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { IAccessibilitySignalService, AccessibilitySignal } from '../../../../platform/accessibilitySignal/browser/accessibilitySignalService.js';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nfunction getRealAndSyntheticDocumentFormattersOrdered(documentFormattingEditProvider, documentRangeFormattingEditProvider, model) {\n    const result = [];\n    const seen = new ExtensionIdentifierSet();\n    // (1) add all document formatter\n    const docFormatter = documentFormattingEditProvider.ordered(model);\n    for (const formatter of docFormatter) {\n        result.push(formatter);\n        if (formatter.extensionId) {\n            seen.add(formatter.extensionId);\n        }\n    }\n    // (2) add all range formatter as document formatter (unless the same extension already did that)\n    const rangeFormatter = documentRangeFormattingEditProvider.ordered(model);\n    for (const formatter of rangeFormatter) {\n        if (formatter.extensionId) {\n            if (seen.has(formatter.extensionId)) {\n                continue;\n            }\n            seen.add(formatter.extensionId);\n        }\n        result.push({\n            displayName: formatter.displayName,\n            extensionId: formatter.extensionId,\n            provideDocumentFormattingEdits(model, options, token) {\n                return formatter.provideDocumentRangeFormattingEdits(model, model.getFullModelRange(), options, token);\n            }\n        });\n    }\n    return result;\n}\nclass FormattingConflicts {\n    static { this._selectors = new LinkedList(); }\n    static setFormatterSelector(selector) {\n        const remove = FormattingConflicts._selectors.unshift(selector);\n        return { dispose: remove };\n    }\n    static async select(formatter, document, mode, kind) {\n        if (formatter.length === 0) {\n            return undefined;\n        }\n        const selector = Iterable.first(FormattingConflicts._selectors);\n        if (selector) {\n            return await selector(formatter, document, mode, kind);\n        }\n        return undefined;\n    }\n}\nasync function formatDocumentRangesWithSelectedProvider(accessor, editorOrModel, rangeOrRanges, mode, progress, token, userGesture) {\n    const instaService = accessor.get(IInstantiationService);\n    const { documentRangeFormattingEditProvider: documentRangeFormattingEditProviderRegistry } = accessor.get(ILanguageFeaturesService);\n    const model = isCodeEditor(editorOrModel) ? editorOrModel.getModel() : editorOrModel;\n    const provider = documentRangeFormattingEditProviderRegistry.ordered(model);\n    const selected = await FormattingConflicts.select(provider, model, mode, 2 /* FormattingKind.Selection */);\n    if (selected) {\n        progress.report(selected);\n        await instaService.invokeFunction(formatDocumentRangesWithProvider, selected, editorOrModel, rangeOrRanges, token, userGesture);\n    }\n}\nasync function formatDocumentRangesWithProvider(accessor, provider, editorOrModel, rangeOrRanges, token, userGesture) {\n    const workerService = accessor.get(IEditorWorkerService);\n    const logService = accessor.get(ILogService);\n    const accessibilitySignalService = accessor.get(IAccessibilitySignalService);\n    let model;\n    let cts;\n    if (isCodeEditor(editorOrModel)) {\n        model = editorOrModel.getModel();\n        cts = new EditorStateCancellationTokenSource(editorOrModel, 1 /* CodeEditorStateFlag.Value */ | 4 /* CodeEditorStateFlag.Position */, undefined, token);\n    }\n    else {\n        model = editorOrModel;\n        cts = new TextModelCancellationTokenSource(editorOrModel, token);\n    }\n    // make sure that ranges don't overlap nor touch each other\n    const ranges = [];\n    let len = 0;\n    for (const range of asArray(rangeOrRanges).sort(Range.compareRangesUsingStarts)) {\n        if (len > 0 && Range.areIntersectingOrTouching(ranges[len - 1], range)) {\n            ranges[len - 1] = Range.fromPositions(ranges[len - 1].getStartPosition(), range.getEndPosition());\n        }\n        else {\n            len = ranges.push(range);\n        }\n    }\n    const computeEdits = async (range) => {\n        logService.trace(`[format][provideDocumentRangeFormattingEdits] (request)`, provider.extensionId?.value, range);\n        const result = (await provider.provideDocumentRangeFormattingEdits(model, range, model.getFormattingOptions(), cts.token)) || [];\n        logService.trace(`[format][provideDocumentRangeFormattingEdits] (response)`, provider.extensionId?.value, result);\n        return result;\n    };\n    const hasIntersectingEdit = (a, b) => {\n        if (!a.length || !b.length) {\n            return false;\n        }\n        // quick exit if the list of ranges are completely unrelated [O(n)]\n        const mergedA = a.reduce((acc, val) => { return Range.plusRange(acc, val.range); }, a[0].range);\n        if (!b.some(x => { return Range.intersectRanges(mergedA, x.range); })) {\n            return false;\n        }\n        // fallback to a complete check [O(n^2)]\n        for (const edit of a) {\n            for (const otherEdit of b) {\n                if (Range.intersectRanges(edit.range, otherEdit.range)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    const allEdits = [];\n    const rawEditsList = [];\n    try {\n        if (typeof provider.provideDocumentRangesFormattingEdits === 'function') {\n            logService.trace(`[format][provideDocumentRangeFormattingEdits] (request)`, provider.extensionId?.value, ranges);\n            const result = (await provider.provideDocumentRangesFormattingEdits(model, ranges, model.getFormattingOptions(), cts.token)) || [];\n            logService.trace(`[format][provideDocumentRangeFormattingEdits] (response)`, provider.extensionId?.value, result);\n            rawEditsList.push(result);\n        }\n        else {\n            for (const range of ranges) {\n                if (cts.token.isCancellationRequested) {\n                    return true;\n                }\n                rawEditsList.push(await computeEdits(range));\n            }\n            for (let i = 0; i < ranges.length; ++i) {\n                for (let j = i + 1; j < ranges.length; ++j) {\n                    if (cts.token.isCancellationRequested) {\n                        return true;\n                    }\n                    if (hasIntersectingEdit(rawEditsList[i], rawEditsList[j])) {\n                        // Merge ranges i and j into a single range, recompute the associated edits\n                        const mergedRange = Range.plusRange(ranges[i], ranges[j]);\n                        const edits = await computeEdits(mergedRange);\n                        ranges.splice(j, 1);\n                        ranges.splice(i, 1);\n                        ranges.push(mergedRange);\n                        rawEditsList.splice(j, 1);\n                        rawEditsList.splice(i, 1);\n                        rawEditsList.push(edits);\n                        // Restart scanning\n                        i = 0;\n                        j = 0;\n                    }\n                }\n            }\n        }\n        for (const rawEdits of rawEditsList) {\n            if (cts.token.isCancellationRequested) {\n                return true;\n            }\n            const minimalEdits = await workerService.computeMoreMinimalEdits(model.uri, rawEdits);\n            if (minimalEdits) {\n                allEdits.push(...minimalEdits);\n            }\n        }\n        if (cts.token.isCancellationRequested) {\n            return true;\n        }\n    }\n    finally {\n        cts.dispose();\n    }\n    if (allEdits.length === 0) {\n        return false;\n    }\n    if (isCodeEditor(editorOrModel)) {\n        // use editor to apply edits\n        FormattingEdit.execute(editorOrModel, allEdits, true);\n        editorOrModel.revealPositionInCenterIfOutsideViewport(editorOrModel.getPosition(), 1 /* ScrollType.Immediate */);\n    }\n    else {\n        // use model to apply edits\n        const [{ range }] = allEdits;\n        const initialSelection = new Selection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn);\n        model.pushEditOperations([initialSelection], allEdits.map(edit => {\n            return {\n                text: edit.text,\n                range: Range.lift(edit.range),\n                forceMoveMarkers: true\n            };\n        }), undoEdits => {\n            for (const { range } of undoEdits) {\n                if (Range.areIntersectingOrTouching(range, initialSelection)) {\n                    return [new Selection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn)];\n                }\n            }\n            return null;\n        });\n    }\n    accessibilitySignalService.playSignal(AccessibilitySignal.format, { userGesture });\n    return true;\n}\nasync function formatDocumentWithSelectedProvider(accessor, editorOrModel, mode, progress, token, userGesture) {\n    const instaService = accessor.get(IInstantiationService);\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const model = isCodeEditor(editorOrModel) ? editorOrModel.getModel() : editorOrModel;\n    const provider = getRealAndSyntheticDocumentFormattersOrdered(languageFeaturesService.documentFormattingEditProvider, languageFeaturesService.documentRangeFormattingEditProvider, model);\n    const selected = await FormattingConflicts.select(provider, model, mode, 1 /* FormattingKind.File */);\n    if (selected) {\n        progress.report(selected);\n        await instaService.invokeFunction(formatDocumentWithProvider, selected, editorOrModel, mode, token, userGesture);\n    }\n}\nasync function formatDocumentWithProvider(accessor, provider, editorOrModel, mode, token, userGesture) {\n    const workerService = accessor.get(IEditorWorkerService);\n    const accessibilitySignalService = accessor.get(IAccessibilitySignalService);\n    let model;\n    let cts;\n    if (isCodeEditor(editorOrModel)) {\n        model = editorOrModel.getModel();\n        cts = new EditorStateCancellationTokenSource(editorOrModel, 1 /* CodeEditorStateFlag.Value */ | 4 /* CodeEditorStateFlag.Position */, undefined, token);\n    }\n    else {\n        model = editorOrModel;\n        cts = new TextModelCancellationTokenSource(editorOrModel, token);\n    }\n    let edits;\n    try {\n        const rawEdits = await provider.provideDocumentFormattingEdits(model, model.getFormattingOptions(), cts.token);\n        edits = await workerService.computeMoreMinimalEdits(model.uri, rawEdits);\n        if (cts.token.isCancellationRequested) {\n            return true;\n        }\n    }\n    finally {\n        cts.dispose();\n    }\n    if (!edits || edits.length === 0) {\n        return false;\n    }\n    if (isCodeEditor(editorOrModel)) {\n        // use editor to apply edits\n        FormattingEdit.execute(editorOrModel, edits, mode !== 2 /* FormattingMode.Silent */);\n        if (mode !== 2 /* FormattingMode.Silent */) {\n            editorOrModel.revealPositionInCenterIfOutsideViewport(editorOrModel.getPosition(), 1 /* ScrollType.Immediate */);\n        }\n    }\n    else {\n        // use model to apply edits\n        const [{ range }] = edits;\n        const initialSelection = new Selection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn);\n        model.pushEditOperations([initialSelection], edits.map(edit => {\n            return {\n                text: edit.text,\n                range: Range.lift(edit.range),\n                forceMoveMarkers: true\n            };\n        }), undoEdits => {\n            for (const { range } of undoEdits) {\n                if (Range.areIntersectingOrTouching(range, initialSelection)) {\n                    return [new Selection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn)];\n                }\n            }\n            return null;\n        });\n    }\n    accessibilitySignalService.playSignal(AccessibilitySignal.format, { userGesture });\n    return true;\n}\nasync function getDocumentRangeFormattingEditsUntilResult(workerService, languageFeaturesService, model, range, options, token) {\n    const providers = languageFeaturesService.documentRangeFormattingEditProvider.ordered(model);\n    for (const provider of providers) {\n        const rawEdits = await Promise.resolve(provider.provideDocumentRangeFormattingEdits(model, range, options, token)).catch(onUnexpectedExternalError);\n        if (isNonEmptyArray(rawEdits)) {\n            return await workerService.computeMoreMinimalEdits(model.uri, rawEdits);\n        }\n    }\n    return undefined;\n}\nasync function getDocumentFormattingEditsUntilResult(workerService, languageFeaturesService, model, options, token) {\n    const providers = getRealAndSyntheticDocumentFormattersOrdered(languageFeaturesService.documentFormattingEditProvider, languageFeaturesService.documentRangeFormattingEditProvider, model);\n    for (const provider of providers) {\n        const rawEdits = await Promise.resolve(provider.provideDocumentFormattingEdits(model, options, token)).catch(onUnexpectedExternalError);\n        if (isNonEmptyArray(rawEdits)) {\n            return await workerService.computeMoreMinimalEdits(model.uri, rawEdits);\n        }\n    }\n    return undefined;\n}\nfunction getOnTypeFormattingEdits(workerService, languageFeaturesService, model, position, ch, options, token) {\n    const providers = languageFeaturesService.onTypeFormattingEditProvider.ordered(model);\n    if (providers.length === 0) {\n        return Promise.resolve(undefined);\n    }\n    if (providers[0].autoFormatTriggerCharacters.indexOf(ch) < 0) {\n        return Promise.resolve(undefined);\n    }\n    return Promise.resolve(providers[0].provideOnTypeFormattingEdits(model, position, ch, options, token)).catch(onUnexpectedExternalError).then(edits => {\n        return workerService.computeMoreMinimalEdits(model.uri, edits);\n    });\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nCommandsRegistry.registerCommand('_executeFormatRangeProvider', async function (accessor, ...args) {\n    const [resource, range, options] = args;\n    assertType(URI.isUri(resource));\n    assertType(Range.isIRange(range));\n    const resolverService = accessor.get(ITextModelService);\n    const workerService = accessor.get(IEditorWorkerService);\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const reference = await resolverService.createModelReference(resource);\n    try {\n        return getDocumentRangeFormattingEditsUntilResult(workerService, languageFeaturesService, reference.object.textEditorModel, Range.lift(range), options, CancellationToken.None);\n    }\n    finally {\n        reference.dispose();\n    }\n});\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nCommandsRegistry.registerCommand('_executeFormatDocumentProvider', async function (accessor, ...args) {\n    const [resource, options] = args;\n    assertType(URI.isUri(resource));\n    const resolverService = accessor.get(ITextModelService);\n    const workerService = accessor.get(IEditorWorkerService);\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const reference = await resolverService.createModelReference(resource);\n    try {\n        return getDocumentFormattingEditsUntilResult(workerService, languageFeaturesService, reference.object.textEditorModel, options, CancellationToken.None);\n    }\n    finally {\n        reference.dispose();\n    }\n});\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nCommandsRegistry.registerCommand('_executeFormatOnTypeProvider', async function (accessor, ...args) {\n    const [resource, position, ch, options] = args;\n    assertType(URI.isUri(resource));\n    assertType(Position.isIPosition(position));\n    assertType(typeof ch === 'string');\n    const resolverService = accessor.get(ITextModelService);\n    const workerService = accessor.get(IEditorWorkerService);\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const reference = await resolverService.createModelReference(resource);\n    try {\n        return getOnTypeFormattingEdits(workerService, languageFeaturesService, reference.object.textEditorModel, Position.lift(position), ch, options, CancellationToken.None);\n    }\n    finally {\n        reference.dispose();\n    }\n});\n\nexport { FormattingConflicts, formatDocumentRangesWithProvider, formatDocumentRangesWithSelectedProvider, formatDocumentWithProvider, formatDocumentWithSelectedProvider, getDocumentFormattingEditsUntilResult, getDocumentRangeFormattingEditsUntilResult, getOnTypeFormattingEdits, getRealAndSyntheticDocumentFormattersOrdered };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 705, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/editor.api2.js"],"sourcesContent":["import { EditorOptions } from './common/config/editorOptions.js';\nimport { createMonacoBaseAPI } from './common/services/editorBaseApi.js';\nimport { createMonacoEditorAPI } from './standalone/browser/standaloneEditor.js';\nimport { createMonacoLanguagesAPI } from './standalone/browser/standaloneLanguages.js';\nimport { FormattingConflicts } from './contrib/format/browser/format.js';\nimport { getMonacoEnvironment } from '../base/browser/browser.js';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// Set defaults for standalone editor\nEditorOptions.wrappingIndent.defaultValue = 0 /* WrappingIndent.None */;\nEditorOptions.glyphMargin.defaultValue = false;\nEditorOptions.autoIndent.defaultValue = 3 /* EditorAutoIndentStrategy.Advanced */;\nEditorOptions.overviewRulerLanes.defaultValue = 2;\n// We need to register a formatter selector which simply picks the first available formatter.\n// See https://github.com/microsoft/monaco-editor/issues/2327\nFormattingConflicts.setFormatterSelector((formatter, document, mode) => Promise.resolve(formatter[0]));\nconst api = createMonacoBaseAPI();\napi.editor = createMonacoEditorAPI();\napi.languages = createMonacoLanguagesAPI();\nconst CancellationTokenSource = api.CancellationTokenSource;\nconst Emitter = api.Emitter;\nconst KeyCode = api.KeyCode;\nconst KeyMod = api.KeyMod;\nconst Position = api.Position;\nconst Range = api.Range;\nconst Selection = api.Selection;\nconst SelectionDirection = api.SelectionDirection;\nconst MarkerSeverity = api.MarkerSeverity;\nconst MarkerTag = api.MarkerTag;\nconst Uri = api.Uri;\nconst Token = api.Token;\nconst editor = api.editor;\nconst languages = api.languages;\nconst monacoEnvironment = getMonacoEnvironment();\nconst globalWithAMD = globalThis;\nif (monacoEnvironment?.globalAPI || (typeof globalWithAMD.define === 'function' && globalWithAMD.define.amd)) {\n    globalWithAMD.monaco = api;\n}\nif (typeof globalWithAMD.require !== 'undefined' && typeof globalWithAMD.require.config === 'function') {\n    globalWithAMD.require.config({\n        ignoreDuplicateModules: [\n            'vscode-languageserver-types',\n            'vscode-languageserver-types/main',\n            'vscode-languageserver-textdocument',\n            'vscode-languageserver-textdocument/main',\n            'vscode-nls',\n            'vscode-nls/vscode-nls',\n            'jsonc-parser',\n            'jsonc-parser/main',\n            'vscode-uri',\n            'vscode-uri/index',\n            'vs/basic-languages/typescript/typescript'\n        ]\n    });\n}\n\nexport { CancellationTokenSource, Emitter, KeyCode, KeyMod, MarkerSeverity, MarkerTag, Position, Range, Selection, SelectionDirection, Token, Uri, editor, languages };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAEA;;;8FAG8F,GAC9F,qCAAqC;AACrC,8QAAa,CAAC,cAAc,CAAC,YAAY,GAAG,EAAE,uBAAuB;AACrE,8QAAa,CAAC,WAAW,CAAC,YAAY,GAAG;AACzC,8QAAa,CAAC,UAAU,CAAC,YAAY,GAAG,EAAE,qCAAqC;AAC/E,8QAAa,CAAC,kBAAkB,CAAC,YAAY,GAAG;AAChD,6FAA6F;AAC7F,6DAA6D;AAC7D,yRAAmB,CAAC,oBAAoB,CAAC,CAAC,WAAW,UAAU,OAAS,QAAQ,OAAO,CAAC,SAAS,CAAC,EAAE;AACpG,MAAM,MAAM,IAAA,sRAAmB;AAC/B,IAAI,MAAM,GAAG,IAAA,8RAAqB;AAClC,IAAI,SAAS,GAAG,IAAA,oSAAwB;AACxC,MAAM,0BAA0B,IAAI,uBAAuB;AAC3D,MAAM,UAAU,IAAI,OAAO;AAC3B,MAAM,UAAU,IAAI,OAAO;AAC3B,MAAM,SAAS,IAAI,MAAM;AACzB,MAAM,WAAW,IAAI,QAAQ;AAC7B,MAAM,QAAQ,IAAI,KAAK;AACvB,MAAM,YAAY,IAAI,SAAS;AAC/B,MAAM,qBAAqB,IAAI,kBAAkB;AACjD,MAAM,iBAAiB,IAAI,cAAc;AACzC,MAAM,YAAY,IAAI,SAAS;AAC/B,MAAM,MAAM,IAAI,GAAG;AACnB,MAAM,QAAQ,IAAI,KAAK;AACvB,MAAM,SAAS,IAAI,MAAM;AACzB,MAAM,YAAY,IAAI,SAAS;AAC/B,MAAM,oBAAoB,IAAA,oQAAoB;AAC9C,MAAM,gBAAgB;AACtB,IAAI,mBAAmB,aAAc,OAAO,cAAc,MAAM,KAAK,cAAc,cAAc,MAAM,CAAC,GAAG,EAAG;IAC1G,cAAc,MAAM,GAAG;AAC3B;AACA,IAAI,OAAO,cAAc,OAAO,KAAK,eAAe,OAAO,cAAc,OAAO,CAAC,MAAM,KAAK,YAAY;IACpG,cAAc,OAAO,CAAC,MAAM,CAAC;QACzB,wBAAwB;YACpB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACH;IACL;AACJ","ignoreList":[0]}},
    {"offset": {"line": 802, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/internal/initialize.js"],"sourcesContent":["import * as editor_api from '../editor.api2.js';\n\nfunction getGlobalMonaco() {\n  return editor_api;\n}\nconst monacoEnvironment = globalThis.MonacoEnvironment;\nif (monacoEnvironment?.globalAPI) {\n  globalThis.monaco = getGlobalMonaco();\n}\n\nexport { getGlobalMonaco };\n"],"names":[],"mappings":";;;;AAAA;;AAEA,SAAS;IACP,OAAO;AACT;AACA,MAAM,oBAAoB,WAAW,iBAAiB;AACtD,IAAI,mBAAmB,WAAW;IAChC,WAAW,MAAM,GAAG;AACtB","ignoreList":[0]}},
    {"offset": {"line": 820, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/editor.api.js"],"sourcesContent":["import './internal/initialize.js';\nexport { CancellationTokenSource, Emitter, KeyCode, KeyMod, MarkerSeverity, MarkerTag, Position, Range, Selection, SelectionDirection, Token, Uri, editor, languages } from './editor.api2.js';\n"],"names":[],"mappings":";AAAA;AACA","ignoreList":[0]}}]
}