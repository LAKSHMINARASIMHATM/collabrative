{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/browser/controller/mouseTarget.js"],"sourcesContent":["import { PageCoordinates } from '../editorDom.js';\nimport { PartFingerprints } from '../view/viewPart.js';\nimport { ViewLine } from '../viewParts/viewLines/viewLine.js';\nimport { Position } from '../../common/core/position.js';\nimport { Range } from '../../common/core/range.js';\nimport { CursorColumns } from '../../common/core/cursorColumns.js';\nimport { getWindow, getShadowRoot } from '../../../base/browser/dom.js';\nimport { AtomicTabMoveOperations } from '../../common/cursor/cursorAtomicMoveOperations.js';\nimport { TextDirection } from '../../common/model.js';\nimport { Lazy } from '../../../base/common/lazy.js';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nclass UnknownHitTestResult {\n    constructor(hitTarget = null) {\n        this.hitTarget = hitTarget;\n        this.type = 0 /* HitTestResultType.Unknown */;\n    }\n}\nclass ContentHitTestResult {\n    get hitTarget() { return this.spanNode; }\n    constructor(position, spanNode, injectedText) {\n        this.position = position;\n        this.spanNode = spanNode;\n        this.injectedText = injectedText;\n        this.type = 1 /* HitTestResultType.Content */;\n    }\n}\nvar HitTestResult;\n(function (HitTestResult) {\n    function createFromDOMInfo(ctx, spanNode, offset) {\n        const position = ctx.getPositionFromDOMInfo(spanNode, offset);\n        if (position) {\n            return new ContentHitTestResult(position, spanNode, null);\n        }\n        return new UnknownHitTestResult(spanNode);\n    }\n    HitTestResult.createFromDOMInfo = createFromDOMInfo;\n})(HitTestResult || (HitTestResult = {}));\nclass PointerHandlerLastRenderData {\n    constructor(lastViewCursorsRenderData, lastTextareaPosition) {\n        this.lastViewCursorsRenderData = lastViewCursorsRenderData;\n        this.lastTextareaPosition = lastTextareaPosition;\n    }\n}\nclass MouseTarget {\n    static _deduceRage(position, range = null) {\n        if (!range && position) {\n            return new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n        }\n        return range ?? null;\n    }\n    static createUnknown(element, mouseColumn, position) {\n        return { type: 0 /* MouseTargetType.UNKNOWN */, element, mouseColumn, position, range: this._deduceRage(position) };\n    }\n    static createTextarea(element, mouseColumn) {\n        return { type: 1 /* MouseTargetType.TEXTAREA */, element, mouseColumn, position: null, range: null };\n    }\n    static createMargin(type, element, mouseColumn, position, range, detail) {\n        return { type, element, mouseColumn, position, range, detail };\n    }\n    static createViewZone(type, element, mouseColumn, position, detail) {\n        return { type, element, mouseColumn, position, range: this._deduceRage(position), detail };\n    }\n    static createContentText(element, mouseColumn, position, range, detail) {\n        return { type: 6 /* MouseTargetType.CONTENT_TEXT */, element, mouseColumn, position, range: this._deduceRage(position, range), detail };\n    }\n    static createContentEmpty(element, mouseColumn, position, detail) {\n        return { type: 7 /* MouseTargetType.CONTENT_EMPTY */, element, mouseColumn, position, range: this._deduceRage(position), detail };\n    }\n    static createContentWidget(element, mouseColumn, detail) {\n        return { type: 9 /* MouseTargetType.CONTENT_WIDGET */, element, mouseColumn, position: null, range: null, detail };\n    }\n    static createScrollbar(element, mouseColumn, position) {\n        return { type: 11 /* MouseTargetType.SCROLLBAR */, element, mouseColumn, position, range: this._deduceRage(position) };\n    }\n    static createOverlayWidget(element, mouseColumn, detail) {\n        return { type: 12 /* MouseTargetType.OVERLAY_WIDGET */, element, mouseColumn, position: null, range: null, detail };\n    }\n    static createOutsideEditor(mouseColumn, position, outsidePosition, outsideDistance) {\n        return { type: 13 /* MouseTargetType.OUTSIDE_EDITOR */, element: null, mouseColumn, position, range: this._deduceRage(position), outsidePosition, outsideDistance };\n    }\n    static _typeToString(type) {\n        if (type === 1 /* MouseTargetType.TEXTAREA */) {\n            return 'TEXTAREA';\n        }\n        if (type === 2 /* MouseTargetType.GUTTER_GLYPH_MARGIN */) {\n            return 'GUTTER_GLYPH_MARGIN';\n        }\n        if (type === 3 /* MouseTargetType.GUTTER_LINE_NUMBERS */) {\n            return 'GUTTER_LINE_NUMBERS';\n        }\n        if (type === 4 /* MouseTargetType.GUTTER_LINE_DECORATIONS */) {\n            return 'GUTTER_LINE_DECORATIONS';\n        }\n        if (type === 5 /* MouseTargetType.GUTTER_VIEW_ZONE */) {\n            return 'GUTTER_VIEW_ZONE';\n        }\n        if (type === 6 /* MouseTargetType.CONTENT_TEXT */) {\n            return 'CONTENT_TEXT';\n        }\n        if (type === 7 /* MouseTargetType.CONTENT_EMPTY */) {\n            return 'CONTENT_EMPTY';\n        }\n        if (type === 8 /* MouseTargetType.CONTENT_VIEW_ZONE */) {\n            return 'CONTENT_VIEW_ZONE';\n        }\n        if (type === 9 /* MouseTargetType.CONTENT_WIDGET */) {\n            return 'CONTENT_WIDGET';\n        }\n        if (type === 10 /* MouseTargetType.OVERVIEW_RULER */) {\n            return 'OVERVIEW_RULER';\n        }\n        if (type === 11 /* MouseTargetType.SCROLLBAR */) {\n            return 'SCROLLBAR';\n        }\n        if (type === 12 /* MouseTargetType.OVERLAY_WIDGET */) {\n            return 'OVERLAY_WIDGET';\n        }\n        return 'UNKNOWN';\n    }\n    static toString(target) {\n        return this._typeToString(target.type) + ': ' + target.position + ' - ' + target.range + ' - ' + JSON.stringify(target.detail);\n    }\n}\nclass ElementPath {\n    static isTextArea(path) {\n        return (path.length === 2\n            && path[0] === 3 /* PartFingerprint.OverflowGuard */\n            && path[1] === 7 /* PartFingerprint.TextArea */);\n    }\n    static isChildOfViewLines(path) {\n        return (path.length >= 4\n            && path[0] === 3 /* PartFingerprint.OverflowGuard */\n            && path[3] === 8 /* PartFingerprint.ViewLines */);\n    }\n    static isStrictChildOfViewLines(path) {\n        return (path.length > 4\n            && path[0] === 3 /* PartFingerprint.OverflowGuard */\n            && path[3] === 8 /* PartFingerprint.ViewLines */);\n    }\n    static isChildOfScrollableElement(path) {\n        return (path.length >= 2\n            && path[0] === 3 /* PartFingerprint.OverflowGuard */\n            && path[1] === 6 /* PartFingerprint.ScrollableElement */);\n    }\n    static isChildOfMinimap(path) {\n        return (path.length >= 2\n            && path[0] === 3 /* PartFingerprint.OverflowGuard */\n            && path[1] === 9 /* PartFingerprint.Minimap */);\n    }\n    static isChildOfContentWidgets(path) {\n        return (path.length >= 4\n            && path[0] === 3 /* PartFingerprint.OverflowGuard */\n            && path[3] === 1 /* PartFingerprint.ContentWidgets */);\n    }\n    static isChildOfOverflowGuard(path) {\n        return (path.length >= 1\n            && path[0] === 3 /* PartFingerprint.OverflowGuard */);\n    }\n    static isChildOfOverflowingContentWidgets(path) {\n        return (path.length >= 1\n            && path[0] === 2 /* PartFingerprint.OverflowingContentWidgets */);\n    }\n    static isChildOfOverlayWidgets(path) {\n        return (path.length >= 2\n            && path[0] === 3 /* PartFingerprint.OverflowGuard */\n            && path[1] === 4 /* PartFingerprint.OverlayWidgets */);\n    }\n    static isChildOfOverflowingOverlayWidgets(path) {\n        return (path.length >= 1\n            && path[0] === 5 /* PartFingerprint.OverflowingOverlayWidgets */);\n    }\n}\nclass HitTestContext {\n    constructor(context, viewHelper, lastRenderData) {\n        this.viewModel = context.viewModel;\n        const options = context.configuration.options;\n        this.layoutInfo = options.get(165 /* EditorOption.layoutInfo */);\n        this.viewDomNode = viewHelper.viewDomNode;\n        this.viewLinesGpu = viewHelper.viewLinesGpu;\n        this.lineHeight = options.get(75 /* EditorOption.lineHeight */);\n        this.stickyTabStops = options.get(132 /* EditorOption.stickyTabStops */);\n        this.typicalHalfwidthCharacterWidth = options.get(59 /* EditorOption.fontInfo */).typicalHalfwidthCharacterWidth;\n        this.lastRenderData = lastRenderData;\n        this._context = context;\n        this._viewHelper = viewHelper;\n    }\n    getZoneAtCoord(mouseVerticalOffset) {\n        return HitTestContext.getZoneAtCoord(this._context, mouseVerticalOffset);\n    }\n    static getZoneAtCoord(context, mouseVerticalOffset) {\n        // The target is either a view zone or the empty space after the last view-line\n        const viewZoneWhitespace = context.viewLayout.getWhitespaceAtVerticalOffset(mouseVerticalOffset);\n        if (viewZoneWhitespace) {\n            const viewZoneMiddle = viewZoneWhitespace.verticalOffset + viewZoneWhitespace.height / 2;\n            const lineCount = context.viewModel.getLineCount();\n            let positionBefore = null;\n            let position;\n            let positionAfter = null;\n            if (viewZoneWhitespace.afterLineNumber !== lineCount) {\n                // There are more lines after this view zone\n                positionAfter = new Position(viewZoneWhitespace.afterLineNumber + 1, 1);\n            }\n            if (viewZoneWhitespace.afterLineNumber > 0) {\n                // There are more lines above this view zone\n                positionBefore = new Position(viewZoneWhitespace.afterLineNumber, context.viewModel.getLineMaxColumn(viewZoneWhitespace.afterLineNumber));\n            }\n            if (positionAfter === null) {\n                position = positionBefore;\n            }\n            else if (positionBefore === null) {\n                position = positionAfter;\n            }\n            else if (mouseVerticalOffset < viewZoneMiddle) {\n                position = positionBefore;\n            }\n            else {\n                position = positionAfter;\n            }\n            return {\n                viewZoneId: viewZoneWhitespace.id,\n                afterLineNumber: viewZoneWhitespace.afterLineNumber,\n                positionBefore: positionBefore,\n                positionAfter: positionAfter,\n                position: position\n            };\n        }\n        return null;\n    }\n    getFullLineRangeAtCoord(mouseVerticalOffset) {\n        if (this._context.viewLayout.isAfterLines(mouseVerticalOffset)) {\n            // Below the last line\n            const lineNumber = this._context.viewModel.getLineCount();\n            const maxLineColumn = this._context.viewModel.getLineMaxColumn(lineNumber);\n            return {\n                range: new Range(lineNumber, maxLineColumn, lineNumber, maxLineColumn),\n                isAfterLines: true\n            };\n        }\n        const lineNumber = this._context.viewLayout.getLineNumberAtVerticalOffset(mouseVerticalOffset);\n        const maxLineColumn = this._context.viewModel.getLineMaxColumn(lineNumber);\n        return {\n            range: new Range(lineNumber, 1, lineNumber, maxLineColumn),\n            isAfterLines: false\n        };\n    }\n    getLineNumberAtVerticalOffset(mouseVerticalOffset) {\n        return this._context.viewLayout.getLineNumberAtVerticalOffset(mouseVerticalOffset);\n    }\n    isAfterLines(mouseVerticalOffset) {\n        return this._context.viewLayout.isAfterLines(mouseVerticalOffset);\n    }\n    isInTopPadding(mouseVerticalOffset) {\n        return this._context.viewLayout.isInTopPadding(mouseVerticalOffset);\n    }\n    isInBottomPadding(mouseVerticalOffset) {\n        return this._context.viewLayout.isInBottomPadding(mouseVerticalOffset);\n    }\n    getVerticalOffsetForLineNumber(lineNumber) {\n        return this._context.viewLayout.getVerticalOffsetForLineNumber(lineNumber);\n    }\n    findAttribute(element, attr) {\n        return HitTestContext._findAttribute(element, attr, this._viewHelper.viewDomNode);\n    }\n    static _findAttribute(element, attr, stopAt) {\n        while (element && element !== element.ownerDocument.body) {\n            if (element.hasAttribute && element.hasAttribute(attr)) {\n                return element.getAttribute(attr);\n            }\n            if (element === stopAt) {\n                return null;\n            }\n            element = element.parentNode;\n        }\n        return null;\n    }\n    getLineWidth(lineNumber) {\n        return this._viewHelper.getLineWidth(lineNumber);\n    }\n    isRtl(lineNumber) {\n        return this.viewModel.getTextDirection(lineNumber) === TextDirection.RTL;\n    }\n    visibleRangeForPosition(lineNumber, column) {\n        return this._viewHelper.visibleRangeForPosition(lineNumber, column);\n    }\n    getPositionFromDOMInfo(spanNode, offset) {\n        return this._viewHelper.getPositionFromDOMInfo(spanNode, offset);\n    }\n    getCurrentScrollTop() {\n        return this._context.viewLayout.getCurrentScrollTop();\n    }\n    getCurrentScrollLeft() {\n        return this._context.viewLayout.getCurrentScrollLeft();\n    }\n}\nclass BareHitTestRequest {\n    constructor(ctx, editorPos, pos, relativePos) {\n        this.editorPos = editorPos;\n        this.pos = pos;\n        this.relativePos = relativePos;\n        this.mouseVerticalOffset = Math.max(0, ctx.getCurrentScrollTop() + this.relativePos.y);\n        this.mouseContentHorizontalOffset = ctx.getCurrentScrollLeft() + this.relativePos.x - ctx.layoutInfo.contentLeft;\n        this.isInMarginArea = (this.relativePos.x < ctx.layoutInfo.contentLeft && this.relativePos.x >= ctx.layoutInfo.glyphMarginLeft);\n        this.isInContentArea = !this.isInMarginArea;\n        this.mouseColumn = Math.max(0, MouseTargetFactory._getMouseColumn(this.mouseContentHorizontalOffset, ctx.typicalHalfwidthCharacterWidth));\n    }\n}\nclass HitTestRequest extends BareHitTestRequest {\n    get target() {\n        if (this._useHitTestTarget) {\n            return this.hitTestResult.value.hitTarget;\n        }\n        return this._eventTarget;\n    }\n    get targetPath() {\n        if (this._targetPathCacheElement !== this.target) {\n            this._targetPathCacheElement = this.target;\n            this._targetPathCacheValue = PartFingerprints.collect(this.target, this._ctx.viewDomNode);\n        }\n        return this._targetPathCacheValue;\n    }\n    constructor(ctx, editorPos, pos, relativePos, eventTarget) {\n        super(ctx, editorPos, pos, relativePos);\n        this.hitTestResult = new Lazy(() => MouseTargetFactory.doHitTest(this._ctx, this));\n        this._targetPathCacheElement = null;\n        this._targetPathCacheValue = new Uint8Array(0);\n        this._ctx = ctx;\n        this._eventTarget = eventTarget;\n        // If no event target is passed in, we will use the hit test target\n        const hasEventTarget = Boolean(this._eventTarget);\n        this._useHitTestTarget = !hasEventTarget;\n    }\n    toString() {\n        return `pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\\n\\ttarget: ${this.target ? this.target.outerHTML : null}`;\n    }\n    get wouldBenefitFromHitTestTargetSwitch() {\n        return (!this._useHitTestTarget\n            && this.hitTestResult.value.hitTarget !== null\n            && this.target !== this.hitTestResult.value.hitTarget);\n    }\n    switchToHitTestTarget() {\n        this._useHitTestTarget = true;\n    }\n    _getMouseColumn(position = null) {\n        if (position && position.column < this._ctx.viewModel.getLineMaxColumn(position.lineNumber)) {\n            // Most likely, the line contains foreign decorations...\n            return CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(position.lineNumber), position.column, this._ctx.viewModel.model.getOptions().tabSize) + 1;\n        }\n        return this.mouseColumn;\n    }\n    fulfillUnknown(position = null) {\n        return MouseTarget.createUnknown(this.target, this._getMouseColumn(position), position);\n    }\n    fulfillTextarea() {\n        return MouseTarget.createTextarea(this.target, this._getMouseColumn());\n    }\n    fulfillMargin(type, position, range, detail) {\n        return MouseTarget.createMargin(type, this.target, this._getMouseColumn(position), position, range, detail);\n    }\n    fulfillViewZone(type, position, detail) {\n        // Always return the usual mouse column for a view zone.\n        return MouseTarget.createViewZone(type, this.target, this._getMouseColumn(), position, detail);\n    }\n    fulfillContentText(position, range, detail) {\n        return MouseTarget.createContentText(this.target, this._getMouseColumn(position), position, range, detail);\n    }\n    fulfillContentEmpty(position, detail) {\n        return MouseTarget.createContentEmpty(this.target, this._getMouseColumn(position), position, detail);\n    }\n    fulfillContentWidget(detail) {\n        return MouseTarget.createContentWidget(this.target, this._getMouseColumn(), detail);\n    }\n    fulfillScrollbar(position) {\n        return MouseTarget.createScrollbar(this.target, this._getMouseColumn(position), position);\n    }\n    fulfillOverlayWidget(detail) {\n        return MouseTarget.createOverlayWidget(this.target, this._getMouseColumn(), detail);\n    }\n}\nconst EMPTY_CONTENT_AFTER_LINES = { isAfterLines: true };\nfunction createEmptyContentDataInLines(horizontalDistanceToText) {\n    return {\n        isAfterLines: false,\n        horizontalDistanceToText: horizontalDistanceToText\n    };\n}\nclass MouseTargetFactory {\n    constructor(context, viewHelper) {\n        this._context = context;\n        this._viewHelper = viewHelper;\n    }\n    mouseTargetIsWidget(e) {\n        const t = e.target;\n        const path = PartFingerprints.collect(t, this._viewHelper.viewDomNode);\n        // Is it a content widget?\n        if (ElementPath.isChildOfContentWidgets(path) || ElementPath.isChildOfOverflowingContentWidgets(path)) {\n            return true;\n        }\n        // Is it an overlay widget?\n        if (ElementPath.isChildOfOverlayWidgets(path) || ElementPath.isChildOfOverflowingOverlayWidgets(path)) {\n            return true;\n        }\n        return false;\n    }\n    createMouseTarget(lastRenderData, editorPos, pos, relativePos, target) {\n        const ctx = new HitTestContext(this._context, this._viewHelper, lastRenderData);\n        const request = new HitTestRequest(ctx, editorPos, pos, relativePos, target);\n        try {\n            const r = MouseTargetFactory._createMouseTarget(ctx, request);\n            if (r.type === 6 /* MouseTargetType.CONTENT_TEXT */) {\n                // Snap to the nearest soft tab boundary if atomic soft tabs are enabled.\n                if (ctx.stickyTabStops && r.position !== null) {\n                    const position = MouseTargetFactory._snapToSoftTabBoundary(r.position, ctx.viewModel);\n                    const range = Range.fromPositions(position, position).plusRange(r.range);\n                    return request.fulfillContentText(position, range, r.detail);\n                }\n            }\n            // console.log(MouseTarget.toString(r));\n            return r;\n        }\n        catch (err) {\n            // console.log(err);\n            return request.fulfillUnknown();\n        }\n    }\n    static _createMouseTarget(ctx, request) {\n        // console.log(`${domHitTestExecuted ? '=>' : ''}CAME IN REQUEST: ${request}`);\n        if (request.target === null) {\n            // No target\n            return request.fulfillUnknown();\n        }\n        // we know for a fact that request.target is not null\n        const resolvedRequest = request;\n        let result = null;\n        if (!ElementPath.isChildOfOverflowGuard(request.targetPath) && !ElementPath.isChildOfOverflowingContentWidgets(request.targetPath) && !ElementPath.isChildOfOverflowingOverlayWidgets(request.targetPath)) {\n            // We only render dom nodes inside the overflow guard or in the overflowing content widgets\n            result = result || request.fulfillUnknown();\n        }\n        result = result || MouseTargetFactory._hitTestContentWidget(ctx, resolvedRequest);\n        result = result || MouseTargetFactory._hitTestOverlayWidget(ctx, resolvedRequest);\n        result = result || MouseTargetFactory._hitTestMinimap(ctx, resolvedRequest);\n        result = result || MouseTargetFactory._hitTestScrollbarSlider(ctx, resolvedRequest);\n        result = result || MouseTargetFactory._hitTestViewZone(ctx, resolvedRequest);\n        result = result || MouseTargetFactory._hitTestMargin(ctx, resolvedRequest);\n        result = result || MouseTargetFactory._hitTestViewCursor(ctx, resolvedRequest);\n        result = result || MouseTargetFactory._hitTestTextArea(ctx, resolvedRequest);\n        result = result || MouseTargetFactory._hitTestViewLines(ctx, resolvedRequest);\n        result = result || MouseTargetFactory._hitTestScrollbar(ctx, resolvedRequest);\n        return (result || request.fulfillUnknown());\n    }\n    static _hitTestContentWidget(ctx, request) {\n        // Is it a content widget?\n        if (ElementPath.isChildOfContentWidgets(request.targetPath) || ElementPath.isChildOfOverflowingContentWidgets(request.targetPath)) {\n            const widgetId = ctx.findAttribute(request.target, 'widgetId');\n            if (widgetId) {\n                return request.fulfillContentWidget(widgetId);\n            }\n            else {\n                return request.fulfillUnknown();\n            }\n        }\n        return null;\n    }\n    static _hitTestOverlayWidget(ctx, request) {\n        // Is it an overlay widget?\n        if (ElementPath.isChildOfOverlayWidgets(request.targetPath) || ElementPath.isChildOfOverflowingOverlayWidgets(request.targetPath)) {\n            const widgetId = ctx.findAttribute(request.target, 'widgetId');\n            if (widgetId) {\n                return request.fulfillOverlayWidget(widgetId);\n            }\n            else {\n                return request.fulfillUnknown();\n            }\n        }\n        return null;\n    }\n    static _hitTestViewCursor(ctx, request) {\n        if (request.target) {\n            // Check if we've hit a painted cursor\n            const lastViewCursorsRenderData = ctx.lastRenderData.lastViewCursorsRenderData;\n            for (const d of lastViewCursorsRenderData) {\n                if (request.target === d.domNode) {\n                    return request.fulfillContentText(d.position, null, { mightBeForeignElement: false, injectedText: null });\n                }\n            }\n        }\n        if (request.isInContentArea) {\n            // Edge has a bug when hit-testing the exact position of a cursor,\n            // instead of returning the correct dom node, it returns the\n            // first or last rendered view line dom node, therefore help it out\n            // and first check if we are on top of a cursor\n            const lastViewCursorsRenderData = ctx.lastRenderData.lastViewCursorsRenderData;\n            const mouseContentHorizontalOffset = request.mouseContentHorizontalOffset;\n            const mouseVerticalOffset = request.mouseVerticalOffset;\n            for (const d of lastViewCursorsRenderData) {\n                if (mouseContentHorizontalOffset < d.contentLeft) {\n                    // mouse position is to the left of the cursor\n                    continue;\n                }\n                if (mouseContentHorizontalOffset > d.contentLeft + d.width) {\n                    // mouse position is to the right of the cursor\n                    continue;\n                }\n                const cursorVerticalOffset = ctx.getVerticalOffsetForLineNumber(d.position.lineNumber);\n                if (cursorVerticalOffset <= mouseVerticalOffset\n                    && mouseVerticalOffset <= cursorVerticalOffset + d.height) {\n                    return request.fulfillContentText(d.position, null, { mightBeForeignElement: false, injectedText: null });\n                }\n            }\n        }\n        return null;\n    }\n    static _hitTestViewZone(ctx, request) {\n        const viewZoneData = ctx.getZoneAtCoord(request.mouseVerticalOffset);\n        if (viewZoneData) {\n            const mouseTargetType = (request.isInContentArea ? 8 /* MouseTargetType.CONTENT_VIEW_ZONE */ : 5 /* MouseTargetType.GUTTER_VIEW_ZONE */);\n            return request.fulfillViewZone(mouseTargetType, viewZoneData.position, viewZoneData);\n        }\n        return null;\n    }\n    static _hitTestTextArea(ctx, request) {\n        // Is it the textarea?\n        if (ElementPath.isTextArea(request.targetPath)) {\n            if (ctx.lastRenderData.lastTextareaPosition) {\n                return request.fulfillContentText(ctx.lastRenderData.lastTextareaPosition, null, { mightBeForeignElement: false, injectedText: null });\n            }\n            return request.fulfillTextarea();\n        }\n        return null;\n    }\n    static _hitTestMargin(ctx, request) {\n        if (request.isInMarginArea) {\n            const res = ctx.getFullLineRangeAtCoord(request.mouseVerticalOffset);\n            const pos = res.range.getStartPosition();\n            let offset = Math.abs(request.relativePos.x);\n            const detail = {\n                isAfterLines: res.isAfterLines,\n                glyphMarginLeft: ctx.layoutInfo.glyphMarginLeft,\n                glyphMarginWidth: ctx.layoutInfo.glyphMarginWidth,\n                lineNumbersWidth: ctx.layoutInfo.lineNumbersWidth,\n                offsetX: offset\n            };\n            offset -= ctx.layoutInfo.glyphMarginLeft;\n            if (offset <= ctx.layoutInfo.glyphMarginWidth) {\n                // On the glyph margin\n                const modelCoordinate = ctx.viewModel.coordinatesConverter.convertViewPositionToModelPosition(res.range.getStartPosition());\n                const lanes = ctx.viewModel.glyphLanes.getLanesAtLine(modelCoordinate.lineNumber);\n                detail.glyphMarginLane = lanes[Math.floor(offset / ctx.lineHeight)];\n                return request.fulfillMargin(2 /* MouseTargetType.GUTTER_GLYPH_MARGIN */, pos, res.range, detail);\n            }\n            offset -= ctx.layoutInfo.glyphMarginWidth;\n            if (offset <= ctx.layoutInfo.lineNumbersWidth) {\n                // On the line numbers\n                return request.fulfillMargin(3 /* MouseTargetType.GUTTER_LINE_NUMBERS */, pos, res.range, detail);\n            }\n            offset -= ctx.layoutInfo.lineNumbersWidth;\n            // On the line decorations\n            return request.fulfillMargin(4 /* MouseTargetType.GUTTER_LINE_DECORATIONS */, pos, res.range, detail);\n        }\n        return null;\n    }\n    static _hitTestViewLines(ctx, request) {\n        if (!ElementPath.isChildOfViewLines(request.targetPath)) {\n            return null;\n        }\n        if (ctx.isInTopPadding(request.mouseVerticalOffset)) {\n            return request.fulfillContentEmpty(new Position(1, 1), EMPTY_CONTENT_AFTER_LINES);\n        }\n        // Check if it is below any lines and any view zones\n        if (ctx.isAfterLines(request.mouseVerticalOffset) || ctx.isInBottomPadding(request.mouseVerticalOffset)) {\n            // This most likely indicates it happened after the last view-line\n            const lineCount = ctx.viewModel.getLineCount();\n            const maxLineColumn = ctx.viewModel.getLineMaxColumn(lineCount);\n            return request.fulfillContentEmpty(new Position(lineCount, maxLineColumn), EMPTY_CONTENT_AFTER_LINES);\n        }\n        // Check if we are hitting a view-line (can happen in the case of inline decorations on empty lines)\n        // See https://github.com/microsoft/vscode/issues/46942\n        if (ElementPath.isStrictChildOfViewLines(request.targetPath)) {\n            const lineNumber = ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);\n            const lineLength = ctx.viewModel.getLineLength(lineNumber);\n            const lineWidth = ctx.getLineWidth(lineNumber);\n            if (lineLength === 0) {\n                const detail = createEmptyContentDataInLines(request.mouseContentHorizontalOffset - lineWidth);\n                return request.fulfillContentEmpty(new Position(lineNumber, 1), detail);\n            }\n            const isRtl = ctx.isRtl(lineNumber);\n            if (isRtl) {\n                if (request.mouseContentHorizontalOffset + lineWidth <= ctx.layoutInfo.contentWidth - ctx.layoutInfo.verticalScrollbarWidth) {\n                    const detail = createEmptyContentDataInLines(request.mouseContentHorizontalOffset - lineWidth);\n                    const pos = new Position(lineNumber, ctx.viewModel.getLineMaxColumn(lineNumber));\n                    return request.fulfillContentEmpty(pos, detail);\n                }\n            }\n            else if (request.mouseContentHorizontalOffset >= lineWidth) {\n                const detail = createEmptyContentDataInLines(request.mouseContentHorizontalOffset - lineWidth);\n                const pos = new Position(lineNumber, ctx.viewModel.getLineMaxColumn(lineNumber));\n                return request.fulfillContentEmpty(pos, detail);\n            }\n        }\n        else {\n            if (ctx.viewLinesGpu) {\n                const lineNumber = ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);\n                if (ctx.viewModel.getLineLength(lineNumber) === 0) {\n                    const lineWidth = ctx.getLineWidth(lineNumber);\n                    const detail = createEmptyContentDataInLines(request.mouseContentHorizontalOffset - lineWidth);\n                    return request.fulfillContentEmpty(new Position(lineNumber, 1), detail);\n                }\n                const lineWidth = ctx.getLineWidth(lineNumber);\n                const isRtl = ctx.isRtl(lineNumber);\n                if (isRtl) {\n                    if (request.mouseContentHorizontalOffset + lineWidth <= ctx.layoutInfo.contentWidth - ctx.layoutInfo.verticalScrollbarWidth) {\n                        const detail = createEmptyContentDataInLines(request.mouseContentHorizontalOffset - lineWidth);\n                        const pos = new Position(lineNumber, ctx.viewModel.getLineMaxColumn(lineNumber));\n                        return request.fulfillContentEmpty(pos, detail);\n                    }\n                }\n                else if (request.mouseContentHorizontalOffset >= lineWidth) {\n                    const detail = createEmptyContentDataInLines(request.mouseContentHorizontalOffset - lineWidth);\n                    const pos = new Position(lineNumber, ctx.viewModel.getLineMaxColumn(lineNumber));\n                    return request.fulfillContentEmpty(pos, detail);\n                }\n                const position = ctx.viewLinesGpu.getPositionAtCoordinate(lineNumber, request.mouseContentHorizontalOffset);\n                if (position) {\n                    const detail = {\n                        injectedText: null,\n                        mightBeForeignElement: false\n                    };\n                    return request.fulfillContentText(position, Range.fromPositions(position, position), detail);\n                }\n            }\n        }\n        // Do the hit test (if not already done)\n        const hitTestResult = request.hitTestResult.value;\n        if (hitTestResult.type === 1 /* HitTestResultType.Content */) {\n            return MouseTargetFactory.createMouseTargetFromHitTestPosition(ctx, request, hitTestResult.spanNode, hitTestResult.position, hitTestResult.injectedText);\n        }\n        // We didn't hit content...\n        if (request.wouldBenefitFromHitTestTargetSwitch) {\n            // We actually hit something different... Give it one last change by trying again with this new target\n            request.switchToHitTestTarget();\n            return this._createMouseTarget(ctx, request);\n        }\n        // We have tried everything...\n        return request.fulfillUnknown();\n    }\n    static _hitTestMinimap(ctx, request) {\n        if (ElementPath.isChildOfMinimap(request.targetPath)) {\n            const possibleLineNumber = ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);\n            const maxColumn = ctx.viewModel.getLineMaxColumn(possibleLineNumber);\n            return request.fulfillScrollbar(new Position(possibleLineNumber, maxColumn));\n        }\n        return null;\n    }\n    static _hitTestScrollbarSlider(ctx, request) {\n        if (ElementPath.isChildOfScrollableElement(request.targetPath)) {\n            if (request.target && request.target.nodeType === 1) {\n                const className = request.target.className;\n                if (className && /\\b(slider|scrollbar)\\b/.test(className)) {\n                    const possibleLineNumber = ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);\n                    const maxColumn = ctx.viewModel.getLineMaxColumn(possibleLineNumber);\n                    return request.fulfillScrollbar(new Position(possibleLineNumber, maxColumn));\n                }\n            }\n        }\n        return null;\n    }\n    static _hitTestScrollbar(ctx, request) {\n        // Is it the overview ruler?\n        // Is it a child of the scrollable element?\n        if (ElementPath.isChildOfScrollableElement(request.targetPath)) {\n            const possibleLineNumber = ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);\n            const maxColumn = ctx.viewModel.getLineMaxColumn(possibleLineNumber);\n            return request.fulfillScrollbar(new Position(possibleLineNumber, maxColumn));\n        }\n        return null;\n    }\n    getMouseColumn(relativePos) {\n        const options = this._context.configuration.options;\n        const layoutInfo = options.get(165 /* EditorOption.layoutInfo */);\n        const mouseContentHorizontalOffset = this._context.viewLayout.getCurrentScrollLeft() + relativePos.x - layoutInfo.contentLeft;\n        return MouseTargetFactory._getMouseColumn(mouseContentHorizontalOffset, options.get(59 /* EditorOption.fontInfo */).typicalHalfwidthCharacterWidth);\n    }\n    static _getMouseColumn(mouseContentHorizontalOffset, typicalHalfwidthCharacterWidth) {\n        if (mouseContentHorizontalOffset < 0) {\n            return 1;\n        }\n        const chars = Math.round(mouseContentHorizontalOffset / typicalHalfwidthCharacterWidth);\n        return (chars + 1);\n    }\n    static createMouseTargetFromHitTestPosition(ctx, request, spanNode, pos, injectedText) {\n        const lineNumber = pos.lineNumber;\n        const column = pos.column;\n        const lineWidth = ctx.getLineWidth(lineNumber);\n        if (request.mouseContentHorizontalOffset > lineWidth) {\n            const detail = createEmptyContentDataInLines(request.mouseContentHorizontalOffset - lineWidth);\n            return request.fulfillContentEmpty(pos, detail);\n        }\n        const visibleRange = ctx.visibleRangeForPosition(lineNumber, column);\n        if (!visibleRange) {\n            return request.fulfillUnknown(pos);\n        }\n        const columnHorizontalOffset = visibleRange.left;\n        if (Math.abs(request.mouseContentHorizontalOffset - columnHorizontalOffset) < 1) {\n            return request.fulfillContentText(pos, null, { mightBeForeignElement: !!injectedText, injectedText });\n        }\n        const points = [];\n        points.push({ offset: visibleRange.left, column: column });\n        if (column > 1) {\n            const visibleRange = ctx.visibleRangeForPosition(lineNumber, column - 1);\n            if (visibleRange) {\n                points.push({ offset: visibleRange.left, column: column - 1 });\n            }\n        }\n        const lineMaxColumn = ctx.viewModel.getLineMaxColumn(lineNumber);\n        if (column < lineMaxColumn) {\n            const visibleRange = ctx.visibleRangeForPosition(lineNumber, column + 1);\n            if (visibleRange) {\n                points.push({ offset: visibleRange.left, column: column + 1 });\n            }\n        }\n        points.sort((a, b) => a.offset - b.offset);\n        const mouseCoordinates = request.pos.toClientCoordinates(getWindow(ctx.viewDomNode));\n        const spanNodeClientRect = spanNode.getBoundingClientRect();\n        const mouseIsOverSpanNode = (spanNodeClientRect.left <= mouseCoordinates.clientX && mouseCoordinates.clientX <= spanNodeClientRect.right);\n        let rng = null;\n        for (let i = 1; i < points.length; i++) {\n            const prev = points[i - 1];\n            const curr = points[i];\n            if (prev.offset <= request.mouseContentHorizontalOffset && request.mouseContentHorizontalOffset <= curr.offset) {\n                rng = new Range(lineNumber, prev.column, lineNumber, curr.column);\n                // See https://github.com/microsoft/vscode/issues/152819\n                // Due to the use of zwj, the browser's hit test result is skewed towards the left\n                // Here we try to correct that if the mouse horizontal offset is closer to the right than the left\n                const prevDelta = Math.abs(prev.offset - request.mouseContentHorizontalOffset);\n                const nextDelta = Math.abs(curr.offset - request.mouseContentHorizontalOffset);\n                pos = (prevDelta < nextDelta\n                    ? new Position(lineNumber, prev.column)\n                    : new Position(lineNumber, curr.column));\n                break;\n            }\n        }\n        return request.fulfillContentText(pos, rng, { mightBeForeignElement: !mouseIsOverSpanNode || !!injectedText, injectedText });\n    }\n    /**\n     * Most probably WebKit browsers and Edge\n     */\n    static _doHitTestWithCaretRangeFromPoint(ctx, request) {\n        // In Chrome, especially on Linux it is possible to click between lines,\n        // so try to adjust the `hity` below so that it lands in the center of a line\n        const lineNumber = ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);\n        const lineStartVerticalOffset = ctx.getVerticalOffsetForLineNumber(lineNumber);\n        const lineEndVerticalOffset = lineStartVerticalOffset + ctx.lineHeight;\n        const isBelowLastLine = (lineNumber === ctx.viewModel.getLineCount()\n            && request.mouseVerticalOffset > lineEndVerticalOffset);\n        if (!isBelowLastLine) {\n            const lineCenteredVerticalOffset = Math.floor((lineStartVerticalOffset + lineEndVerticalOffset) / 2);\n            let adjustedPageY = request.pos.y + (lineCenteredVerticalOffset - request.mouseVerticalOffset);\n            if (adjustedPageY <= request.editorPos.y) {\n                adjustedPageY = request.editorPos.y + 1;\n            }\n            if (adjustedPageY >= request.editorPos.y + request.editorPos.height) {\n                adjustedPageY = request.editorPos.y + request.editorPos.height - 1;\n            }\n            const adjustedPage = new PageCoordinates(request.pos.x, adjustedPageY);\n            const r = this._actualDoHitTestWithCaretRangeFromPoint(ctx, adjustedPage.toClientCoordinates(getWindow(ctx.viewDomNode)));\n            if (r.type === 1 /* HitTestResultType.Content */) {\n                return r;\n            }\n        }\n        // Also try to hit test without the adjustment (for the edge cases that we are near the top or bottom)\n        return this._actualDoHitTestWithCaretRangeFromPoint(ctx, request.pos.toClientCoordinates(getWindow(ctx.viewDomNode)));\n    }\n    static _actualDoHitTestWithCaretRangeFromPoint(ctx, coords) {\n        const shadowRoot = getShadowRoot(ctx.viewDomNode);\n        let range;\n        if (shadowRoot) {\n            // eslint-disable-next-line local/code-no-any-casts, @typescript-eslint/no-explicit-any\n            if (typeof shadowRoot.caretRangeFromPoint === 'undefined') {\n                range = shadowCaretRangeFromPoint(shadowRoot, coords.clientX, coords.clientY);\n            }\n            else {\n                // eslint-disable-next-line local/code-no-any-casts, @typescript-eslint/no-explicit-any\n                range = shadowRoot.caretRangeFromPoint(coords.clientX, coords.clientY);\n            }\n        }\n        else {\n            // eslint-disable-next-line local/code-no-any-casts, @typescript-eslint/no-explicit-any\n            range = ctx.viewDomNode.ownerDocument.caretRangeFromPoint(coords.clientX, coords.clientY);\n        }\n        if (!range || !range.startContainer) {\n            return new UnknownHitTestResult();\n        }\n        // Chrome always hits a TEXT_NODE, while Edge sometimes hits a token span\n        const startContainer = range.startContainer;\n        if (startContainer.nodeType === startContainer.TEXT_NODE) {\n            // startContainer is expected to be the token text\n            const parent1 = startContainer.parentNode; // expected to be the token span\n            const parent2 = parent1 ? parent1.parentNode : null; // expected to be the view line container span\n            const parent3 = parent2 ? parent2.parentNode : null; // expected to be the view line div\n            const parent3ClassName = parent3 && parent3.nodeType === parent3.ELEMENT_NODE ? parent3.className : null;\n            if (parent3ClassName === ViewLine.CLASS_NAME) {\n                return HitTestResult.createFromDOMInfo(ctx, parent1, range.startOffset);\n            }\n            else {\n                return new UnknownHitTestResult(startContainer.parentNode);\n            }\n        }\n        else if (startContainer.nodeType === startContainer.ELEMENT_NODE) {\n            // startContainer is expected to be the token span\n            const parent1 = startContainer.parentNode; // expected to be the view line container span\n            const parent2 = parent1 ? parent1.parentNode : null; // expected to be the view line div\n            const parent2ClassName = parent2 && parent2.nodeType === parent2.ELEMENT_NODE ? parent2.className : null;\n            if (parent2ClassName === ViewLine.CLASS_NAME) {\n                return HitTestResult.createFromDOMInfo(ctx, startContainer, startContainer.textContent.length);\n            }\n            else {\n                return new UnknownHitTestResult(startContainer);\n            }\n        }\n        return new UnknownHitTestResult();\n    }\n    /**\n     * Most probably Gecko\n     */\n    static _doHitTestWithCaretPositionFromPoint(ctx, coords) {\n        // eslint-disable-next-line local/code-no-any-casts, @typescript-eslint/no-explicit-any\n        const hitResult = ctx.viewDomNode.ownerDocument.caretPositionFromPoint(coords.clientX, coords.clientY);\n        if (hitResult.offsetNode.nodeType === hitResult.offsetNode.TEXT_NODE) {\n            // offsetNode is expected to be the token text\n            const parent1 = hitResult.offsetNode.parentNode; // expected to be the token span\n            const parent2 = parent1 ? parent1.parentNode : null; // expected to be the view line container span\n            const parent3 = parent2 ? parent2.parentNode : null; // expected to be the view line div\n            const parent3ClassName = parent3 && parent3.nodeType === parent3.ELEMENT_NODE ? parent3.className : null;\n            if (parent3ClassName === ViewLine.CLASS_NAME) {\n                return HitTestResult.createFromDOMInfo(ctx, hitResult.offsetNode.parentNode, hitResult.offset);\n            }\n            else {\n                return new UnknownHitTestResult(hitResult.offsetNode.parentNode);\n            }\n        }\n        // For inline decorations, Gecko sometimes returns the `<span>` of the line and the offset is the `<span>` with the inline decoration\n        // Some other times, it returns the `<span>` with the inline decoration\n        if (hitResult.offsetNode.nodeType === hitResult.offsetNode.ELEMENT_NODE) {\n            const parent1 = hitResult.offsetNode.parentNode;\n            const parent1ClassName = parent1 && parent1.nodeType === parent1.ELEMENT_NODE ? parent1.className : null;\n            const parent2 = parent1 ? parent1.parentNode : null;\n            const parent2ClassName = parent2 && parent2.nodeType === parent2.ELEMENT_NODE ? parent2.className : null;\n            if (parent1ClassName === ViewLine.CLASS_NAME) {\n                // it returned the `<span>` of the line and the offset is the `<span>` with the inline decoration\n                const tokenSpan = hitResult.offsetNode.childNodes[Math.min(hitResult.offset, hitResult.offsetNode.childNodes.length - 1)];\n                if (tokenSpan) {\n                    return HitTestResult.createFromDOMInfo(ctx, tokenSpan, 0);\n                }\n            }\n            else if (parent2ClassName === ViewLine.CLASS_NAME) {\n                // it returned the `<span>` with the inline decoration\n                return HitTestResult.createFromDOMInfo(ctx, hitResult.offsetNode, 0);\n            }\n        }\n        return new UnknownHitTestResult(hitResult.offsetNode);\n    }\n    static _snapToSoftTabBoundary(position, viewModel) {\n        const lineContent = viewModel.getLineContent(position.lineNumber);\n        const { tabSize } = viewModel.model.getOptions();\n        const newPosition = AtomicTabMoveOperations.atomicPosition(lineContent, position.column - 1, tabSize, 2 /* Direction.Nearest */);\n        if (newPosition !== -1) {\n            return new Position(position.lineNumber, newPosition + 1);\n        }\n        return position;\n    }\n    static doHitTest(ctx, request) {\n        let result = new UnknownHitTestResult();\n        // eslint-disable-next-line local/code-no-any-casts, @typescript-eslint/no-explicit-any\n        if (typeof ctx.viewDomNode.ownerDocument.caretRangeFromPoint === 'function') {\n            result = this._doHitTestWithCaretRangeFromPoint(ctx, request);\n            // eslint-disable-next-line local/code-no-any-casts, @typescript-eslint/no-explicit-any\n        }\n        else if (ctx.viewDomNode.ownerDocument.caretPositionFromPoint) {\n            result = this._doHitTestWithCaretPositionFromPoint(ctx, request.pos.toClientCoordinates(getWindow(ctx.viewDomNode)));\n        }\n        if (result.type === 1 /* HitTestResultType.Content */) {\n            const injectedText = ctx.viewModel.getInjectedTextAt(result.position);\n            const normalizedPosition = ctx.viewModel.normalizePosition(result.position, 2 /* PositionAffinity.None */);\n            if (injectedText || !normalizedPosition.equals(result.position)) {\n                result = new ContentHitTestResult(normalizedPosition, result.spanNode, injectedText);\n            }\n        }\n        return result;\n    }\n}\nfunction shadowCaretRangeFromPoint(shadowRoot, x, y) {\n    const range = document.createRange();\n    // Get the element under the point\n    // eslint-disable-next-line local/code-no-any-casts, @typescript-eslint/no-explicit-any\n    let el = shadowRoot.elementFromPoint(x, y);\n    // When el is not null, it may be div.monaco-mouse-cursor-text Element, which has not childNodes, we don't need to handle it.\n    if (el?.hasChildNodes()) {\n        // Get the last child of the element until its firstChild is a text node\n        // This assumes that the pointer is on the right of the line, out of the tokens\n        // and that we want to get the offset of the last token of the line\n        while (el && el.firstChild && el.firstChild.nodeType !== el.firstChild.TEXT_NODE && el.lastChild && el.lastChild.firstChild) {\n            el = el.lastChild;\n        }\n        // Grab its rect\n        const rect = el.getBoundingClientRect();\n        // And its font (the computed shorthand font property might be empty, see #3217)\n        const elWindow = getWindow(el);\n        const fontStyle = elWindow.getComputedStyle(el, null).getPropertyValue('font-style');\n        const fontVariant = elWindow.getComputedStyle(el, null).getPropertyValue('font-variant');\n        const fontWeight = elWindow.getComputedStyle(el, null).getPropertyValue('font-weight');\n        const fontSize = elWindow.getComputedStyle(el, null).getPropertyValue('font-size');\n        const lineHeight = elWindow.getComputedStyle(el, null).getPropertyValue('line-height');\n        const fontFamily = elWindow.getComputedStyle(el, null).getPropertyValue('font-family');\n        const font = `${fontStyle} ${fontVariant} ${fontWeight} ${fontSize}/${lineHeight} ${fontFamily}`;\n        // And also its txt content\n        const text = el.innerText;\n        // Position the pixel cursor at the left of the element\n        let pixelCursor = rect.left;\n        let offset = 0;\n        let step;\n        // If the point is on the right of the box put the cursor after the last character\n        if (x > rect.left + rect.width) {\n            offset = text.length;\n        }\n        else {\n            const charWidthReader = CharWidthReader.getInstance();\n            // Goes through all the characters of the innerText, and checks if the x of the point\n            // belongs to the character.\n            for (let i = 0; i < text.length + 1; i++) {\n                // The step is half the width of the character\n                step = charWidthReader.getCharWidth(text.charAt(i), font) / 2;\n                // Move to the center of the character\n                pixelCursor += step;\n                // If the x of the point is smaller that the position of the cursor, the point is over that character\n                if (x < pixelCursor) {\n                    offset = i;\n                    break;\n                }\n                // Move between the current character and the next\n                pixelCursor += step;\n            }\n        }\n        // Creates a range with the text node of the element and set the offset found\n        range.setStart(el.firstChild, offset);\n        range.setEnd(el.firstChild, offset);\n    }\n    return range;\n}\nclass CharWidthReader {\n    static { this._INSTANCE = null; }\n    static getInstance() {\n        if (!CharWidthReader._INSTANCE) {\n            CharWidthReader._INSTANCE = new CharWidthReader();\n        }\n        return CharWidthReader._INSTANCE;\n    }\n    constructor() {\n        this._cache = {};\n        this._canvas = document.createElement('canvas');\n    }\n    getCharWidth(char, font) {\n        const cacheKey = char + font;\n        if (this._cache[cacheKey]) {\n            return this._cache[cacheKey];\n        }\n        const context = this._canvas.getContext('2d');\n        context.font = font;\n        const metrics = context.measureText(char);\n        const width = metrics.width;\n        this._cache[cacheKey] = width;\n        return width;\n    }\n}\n\nexport { HitTestContext, MouseTarget, MouseTargetFactory, PointerHandlerLastRenderData };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1056, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/browser/controller/dragScrolling.js"],"sourcesContent":["import { scheduleAtNextAnimationFrame, getWindow } from '../../../base/browser/dom.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { Position } from '../../common/core/position.js';\nimport { createEditorPagePosition, PageCoordinates, createCoordinatesRelativeToEditor } from '../editorDom.js';\nimport { MouseTarget } from './mouseTarget.js';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nclass DragScrolling extends Disposable {\n    constructor(_context, _viewHelper, _mouseTargetFactory, _dispatchMouse) {\n        super();\n        this._context = _context;\n        this._viewHelper = _viewHelper;\n        this._mouseTargetFactory = _mouseTargetFactory;\n        this._dispatchMouse = _dispatchMouse;\n        this._operation = null;\n    }\n    dispose() {\n        super.dispose();\n        this.stop();\n    }\n    start(position, mouseEvent) {\n        if (this._operation) {\n            this._operation.setPosition(position, mouseEvent);\n        }\n        else {\n            this._operation = this._createDragScrollingOperation(position, mouseEvent);\n        }\n    }\n    stop() {\n        if (this._operation) {\n            this._operation.dispose();\n            this._operation = null;\n        }\n    }\n}\nclass DragScrollingOperation extends Disposable {\n    constructor(_context, _viewHelper, _mouseTargetFactory, _dispatchMouse, position, mouseEvent) {\n        super();\n        this._context = _context;\n        this._viewHelper = _viewHelper;\n        this._mouseTargetFactory = _mouseTargetFactory;\n        this._dispatchMouse = _dispatchMouse;\n        this._position = position;\n        this._mouseEvent = mouseEvent;\n        this._lastTime = Date.now();\n        this._animationFrameDisposable = scheduleAtNextAnimationFrame(getWindow(mouseEvent.browserEvent), () => this._execute());\n    }\n    dispose() {\n        this._animationFrameDisposable.dispose();\n        super.dispose();\n    }\n    setPosition(position, mouseEvent) {\n        this._position = position;\n        this._mouseEvent = mouseEvent;\n    }\n    /**\n     * update internal state and return elapsed ms since last time\n     */\n    _tick() {\n        const now = Date.now();\n        const elapsed = now - this._lastTime;\n        this._lastTime = now;\n        return elapsed;\n    }\n}\nclass TopBottomDragScrolling extends DragScrolling {\n    _createDragScrollingOperation(position, mouseEvent) {\n        return new TopBottomDragScrollingOperation(this._context, this._viewHelper, this._mouseTargetFactory, this._dispatchMouse, position, mouseEvent);\n    }\n}\nclass TopBottomDragScrollingOperation extends DragScrollingOperation {\n    /**\n     * get the number of lines per second to auto-scroll\n     */\n    _getScrollSpeed() {\n        const lineHeight = this._context.configuration.options.get(75 /* EditorOption.lineHeight */);\n        const viewportInLines = this._context.configuration.options.get(165 /* EditorOption.layoutInfo */).height / lineHeight;\n        const outsideDistanceInLines = this._position.outsideDistance / lineHeight;\n        if (outsideDistanceInLines <= 1.5) {\n            return Math.max(30, viewportInLines * (1 + outsideDistanceInLines));\n        }\n        if (outsideDistanceInLines <= 3) {\n            return Math.max(60, viewportInLines * (2 + outsideDistanceInLines));\n        }\n        return Math.max(200, viewportInLines * (7 + outsideDistanceInLines));\n    }\n    _execute() {\n        const lineHeight = this._context.configuration.options.get(75 /* EditorOption.lineHeight */);\n        const scrollSpeedInLines = this._getScrollSpeed();\n        const elapsed = this._tick();\n        const scrollInPixels = scrollSpeedInLines * (elapsed / 1000) * lineHeight;\n        const scrollValue = (this._position.outsidePosition === 'above' ? -scrollInPixels : scrollInPixels);\n        this._context.viewModel.viewLayout.deltaScrollNow(0, scrollValue);\n        this._viewHelper.renderNow();\n        const viewportData = this._context.viewLayout.getLinesViewportData();\n        const edgeLineNumber = (this._position.outsidePosition === 'above' ? viewportData.startLineNumber : viewportData.endLineNumber);\n        // First, try to find a position that matches the horizontal position of the mouse\n        let mouseTarget;\n        {\n            const editorPos = createEditorPagePosition(this._viewHelper.viewDomNode);\n            const horizontalScrollbarHeight = this._context.configuration.options.get(165 /* EditorOption.layoutInfo */).horizontalScrollbarHeight;\n            const pos = new PageCoordinates(this._mouseEvent.pos.x, editorPos.y + editorPos.height - horizontalScrollbarHeight - 0.1);\n            const relativePos = createCoordinatesRelativeToEditor(this._viewHelper.viewDomNode, editorPos, pos);\n            mouseTarget = this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(), editorPos, pos, relativePos, null);\n        }\n        if (!mouseTarget.position || mouseTarget.position.lineNumber !== edgeLineNumber) {\n            if (this._position.outsidePosition === 'above') {\n                mouseTarget = MouseTarget.createOutsideEditor(this._position.mouseColumn, new Position(edgeLineNumber, 1), 'above', this._position.outsideDistance);\n            }\n            else {\n                mouseTarget = MouseTarget.createOutsideEditor(this._position.mouseColumn, new Position(edgeLineNumber, this._context.viewModel.getLineMaxColumn(edgeLineNumber)), 'below', this._position.outsideDistance);\n            }\n        }\n        this._dispatchMouse(mouseTarget, true, 2 /* NavigationCommandRevealType.None */);\n        this._animationFrameDisposable = scheduleAtNextAnimationFrame(getWindow(mouseTarget.element), () => this._execute());\n    }\n}\nclass LeftRightDragScrolling extends DragScrolling {\n    _createDragScrollingOperation(position, mouseEvent) {\n        return new LeftRightDragScrollingOperation(this._context, this._viewHelper, this._mouseTargetFactory, this._dispatchMouse, position, mouseEvent);\n    }\n}\nclass LeftRightDragScrollingOperation extends DragScrollingOperation {\n    /**\n     * get the number of cols per second to auto-scroll\n     */\n    _getScrollSpeed() {\n        const charWidth = this._context.configuration.options.get(59 /* EditorOption.fontInfo */).typicalFullwidthCharacterWidth;\n        const viewportInChars = this._context.configuration.options.get(165 /* EditorOption.layoutInfo */).contentWidth / charWidth;\n        const outsideDistanceInChars = this._position.outsideDistance / charWidth;\n        if (outsideDistanceInChars <= 1.5) {\n            return Math.max(30, viewportInChars * (1 + outsideDistanceInChars));\n        }\n        if (outsideDistanceInChars <= 3) {\n            return Math.max(60, viewportInChars * (2 + outsideDistanceInChars));\n        }\n        return Math.max(200, viewportInChars * (7 + outsideDistanceInChars));\n    }\n    _execute() {\n        const charWidth = this._context.configuration.options.get(59 /* EditorOption.fontInfo */).typicalFullwidthCharacterWidth;\n        const scrollSpeedInChars = this._getScrollSpeed();\n        const elapsed = this._tick();\n        const scrollInPixels = scrollSpeedInChars * (elapsed / 1000) * charWidth * 0.5;\n        const scrollValue = (this._position.outsidePosition === 'left' ? -scrollInPixels : scrollInPixels);\n        this._context.viewModel.viewLayout.deltaScrollNow(scrollValue, 0);\n        this._viewHelper.renderNow();\n        if (!this._position.position) {\n            return;\n        }\n        const edgeLineNumber = this._position.position.lineNumber;\n        // First, try to find a position that matches the horizontal position of the mouse\n        let mouseTarget;\n        {\n            const editorPos = createEditorPagePosition(this._viewHelper.viewDomNode);\n            const horizontalScrollbarHeight = this._context.configuration.options.get(165 /* EditorOption.layoutInfo */).horizontalScrollbarHeight;\n            const pos = new PageCoordinates(this._mouseEvent.pos.x, editorPos.y + editorPos.height - horizontalScrollbarHeight - 0.1);\n            const relativePos = createCoordinatesRelativeToEditor(this._viewHelper.viewDomNode, editorPos, pos);\n            mouseTarget = this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(), editorPos, pos, relativePos, null);\n        }\n        if (this._position.outsidePosition === 'left') {\n            mouseTarget = MouseTarget.createOutsideEditor(mouseTarget.mouseColumn, new Position(edgeLineNumber, mouseTarget.mouseColumn), 'left', this._position.outsideDistance);\n        }\n        else {\n            mouseTarget = MouseTarget.createOutsideEditor(mouseTarget.mouseColumn, new Position(edgeLineNumber, mouseTarget.mouseColumn), 'right', this._position.outsideDistance);\n        }\n        this._dispatchMouse(mouseTarget, true, 2 /* NavigationCommandRevealType.None */);\n        this._animationFrameDisposable = scheduleAtNextAnimationFrame(getWindow(mouseTarget.element), () => this._execute());\n    }\n}\n\nexport { DragScrolling, DragScrollingOperation, LeftRightDragScrolling, LeftRightDragScrollingOperation, TopBottomDragScrolling, TopBottomDragScrollingOperation };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1244, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/browser/controller/mouseHandler.js"],"sourcesContent":["import { addDisposableListener, EventType, getWindow, getShadowRoot, isKeyboardEvent } from '../../../base/browser/dom.js';\nimport { StandardWheelEvent } from '../../../base/browser/mouseEvent.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { isMacintosh } from '../../../base/common/platform.js';\nimport { MouseTargetFactory, HitTestContext, MouseTarget } from './mouseTarget.js';\nimport { EditorMouseEventFactory, EditorMouseEvent, ClientCoordinates, createEditorPagePosition, createCoordinatesRelativeToEditor, GlobalEditorPointerMoveMonitor } from '../editorDom.js';\nimport { EditorZoom } from '../../common/config/editorZoom.js';\nimport { Position } from '../../common/core/position.js';\nimport { Selection } from '../../common/core/selection.js';\nimport { ViewEventHandler } from '../../common/viewEventHandler.js';\nimport { MouseWheelClassifier } from '../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { TopBottomDragScrolling, LeftRightDragScrolling } from './dragScrolling.js';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nclass MouseHandler extends ViewEventHandler {\n    constructor(context, viewController, viewHelper) {\n        super();\n        this._mouseLeaveMonitor = null;\n        this._context = context;\n        this.viewController = viewController;\n        this.viewHelper = viewHelper;\n        this.mouseTargetFactory = new MouseTargetFactory(this._context, viewHelper);\n        this._mouseDownOperation = this._register(new MouseDownOperation(this._context, this.viewController, this.viewHelper, this.mouseTargetFactory, (e, testEventTarget) => this._createMouseTarget(e, testEventTarget), (e) => this._getMouseColumn(e)));\n        this.lastMouseLeaveTime = -1;\n        this._height = this._context.configuration.options.get(165 /* EditorOption.layoutInfo */).height;\n        const mouseEvents = new EditorMouseEventFactory(this.viewHelper.viewDomNode);\n        this._register(mouseEvents.onContextMenu(this.viewHelper.viewDomNode, (e) => this._onContextMenu(e, true)));\n        this._register(mouseEvents.onMouseMove(this.viewHelper.viewDomNode, (e) => {\n            this._onMouseMove(e);\n            // See https://github.com/microsoft/vscode/issues/138789\n            // When moving the mouse really quickly, the browser sometimes forgets to\n            // send us a `mouseleave` or `mouseout` event. We therefore install here\n            // a global `mousemove` listener to manually recover if the mouse goes outside\n            // the editor. As soon as the mouse leaves outside of the editor, we\n            // remove this listener\n            if (!this._mouseLeaveMonitor) {\n                this._mouseLeaveMonitor = addDisposableListener(this.viewHelper.viewDomNode.ownerDocument, 'mousemove', (e) => {\n                    if (!this.viewHelper.viewDomNode.contains(e.target)) {\n                        // went outside the editor!\n                        this._onMouseLeave(new EditorMouseEvent(e, false, this.viewHelper.viewDomNode));\n                    }\n                });\n            }\n        }));\n        this._register(mouseEvents.onMouseUp(this.viewHelper.viewDomNode, (e) => this._onMouseUp(e)));\n        this._register(mouseEvents.onMouseLeave(this.viewHelper.viewDomNode, (e) => this._onMouseLeave(e)));\n        // `pointerdown` events can't be used to determine if there's a double click, or triple click\n        // because their `e.detail` is always 0.\n        // We will therefore save the pointer id for the mouse and then reuse it in the `mousedown` event\n        // for `element.setPointerCapture`.\n        let capturePointerId = 0;\n        this._register(mouseEvents.onPointerDown(this.viewHelper.viewDomNode, (e, pointerId) => {\n            capturePointerId = pointerId;\n        }));\n        // The `pointerup` listener registered by `GlobalEditorPointerMoveMonitor` does not get invoked 100% of the times.\n        // I speculate that this is because the `pointerup` listener is only registered during the `mousedown` event, and perhaps\n        // the `pointerup` event is already queued for dispatching, which makes it that the new listener doesn't get fired.\n        // See https://github.com/microsoft/vscode/issues/146486 for repro steps.\n        // To compensate for that, we simply register here a `pointerup` listener and just communicate it.\n        this._register(addDisposableListener(this.viewHelper.viewDomNode, EventType.POINTER_UP, (e) => {\n            this._mouseDownOperation.onPointerUp();\n        }));\n        this._register(mouseEvents.onMouseDown(this.viewHelper.viewDomNode, (e) => this._onMouseDown(e, capturePointerId)));\n        this._setupMouseWheelZoomListener();\n        this._context.addEventHandler(this);\n    }\n    _setupMouseWheelZoomListener() {\n        const classifier = MouseWheelClassifier.INSTANCE;\n        let prevMouseWheelTime = 0;\n        let gestureStartZoomLevel = EditorZoom.getZoomLevel();\n        let gestureHasZoomModifiers = false;\n        let gestureAccumulatedDelta = 0;\n        const onMouseWheel = (browserEvent) => {\n            this.viewController.emitMouseWheel(browserEvent);\n            if (!this._context.configuration.options.get(84 /* EditorOption.mouseWheelZoom */)) {\n                return;\n            }\n            const e = new StandardWheelEvent(browserEvent);\n            classifier.acceptStandardWheelEvent(e);\n            if (classifier.isPhysicalMouseWheel()) {\n                if (hasMouseWheelZoomModifiers(browserEvent)) {\n                    const zoomLevel = EditorZoom.getZoomLevel();\n                    const delta = e.deltaY > 0 ? 1 : -1;\n                    EditorZoom.setZoomLevel(zoomLevel + delta);\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n            }\n            else {\n                // we consider mousewheel events that occur within 50ms of each other to be part of the same gesture\n                // we don't want to consider mouse wheel events where ctrl/cmd is pressed during the inertia phase\n                // we also want to accumulate deltaY values from the same gesture and use that to set the zoom level\n                if (Date.now() - prevMouseWheelTime > 50) {\n                    // reset if more than 50ms have passed\n                    gestureStartZoomLevel = EditorZoom.getZoomLevel();\n                    gestureHasZoomModifiers = hasMouseWheelZoomModifiers(browserEvent);\n                    gestureAccumulatedDelta = 0;\n                }\n                prevMouseWheelTime = Date.now();\n                gestureAccumulatedDelta += e.deltaY;\n                if (gestureHasZoomModifiers) {\n                    EditorZoom.setZoomLevel(gestureStartZoomLevel + gestureAccumulatedDelta / 5);\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n            }\n        };\n        this._register(addDisposableListener(this.viewHelper.viewDomNode, EventType.MOUSE_WHEEL, onMouseWheel, { capture: true, passive: false }));\n        function hasMouseWheelZoomModifiers(browserEvent) {\n            return (isMacintosh\n                // on macOS we support cmd + two fingers scroll (`metaKey` set)\n                // and also the two fingers pinch gesture (`ctrKey` set)\n                ? ((browserEvent.metaKey || browserEvent.ctrlKey) && !browserEvent.shiftKey && !browserEvent.altKey)\n                : (browserEvent.ctrlKey && !browserEvent.metaKey && !browserEvent.shiftKey && !browserEvent.altKey));\n        }\n    }\n    dispose() {\n        this._context.removeEventHandler(this);\n        if (this._mouseLeaveMonitor) {\n            this._mouseLeaveMonitor.dispose();\n            this._mouseLeaveMonitor = null;\n        }\n        super.dispose();\n    }\n    // --- begin event handlers\n    onConfigurationChanged(e) {\n        if (e.hasChanged(165 /* EditorOption.layoutInfo */)) {\n            // layout change\n            const height = this._context.configuration.options.get(165 /* EditorOption.layoutInfo */).height;\n            if (this._height !== height) {\n                this._height = height;\n                this._mouseDownOperation.onHeightChanged();\n            }\n        }\n        return false;\n    }\n    onCursorStateChanged(e) {\n        this._mouseDownOperation.onCursorStateChanged(e);\n        return false;\n    }\n    onFocusChanged(e) {\n        return false;\n    }\n    // --- end event handlers\n    getTargetAtClientPoint(clientX, clientY) {\n        const clientPos = new ClientCoordinates(clientX, clientY);\n        const pos = clientPos.toPageCoordinates(getWindow(this.viewHelper.viewDomNode));\n        const editorPos = createEditorPagePosition(this.viewHelper.viewDomNode);\n        if (pos.y < editorPos.y || pos.y > editorPos.y + editorPos.height || pos.x < editorPos.x || pos.x > editorPos.x + editorPos.width) {\n            return null;\n        }\n        const relativePos = createCoordinatesRelativeToEditor(this.viewHelper.viewDomNode, editorPos, pos);\n        return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(), editorPos, pos, relativePos, null);\n    }\n    _createMouseTarget(e, testEventTarget) {\n        let target = e.target;\n        if (!this.viewHelper.viewDomNode.contains(target)) {\n            const shadowRoot = getShadowRoot(this.viewHelper.viewDomNode);\n            if (shadowRoot) {\n                const potentialTarget = shadowRoot.elementsFromPoint(e.posx, e.posy).find((el) => this.viewHelper.viewDomNode.contains(el)) ?? null;\n                target = potentialTarget;\n            }\n        }\n        return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(), e.editorPos, e.pos, e.relativePos, testEventTarget ? target : null);\n    }\n    _getMouseColumn(e) {\n        return this.mouseTargetFactory.getMouseColumn(e.relativePos);\n    }\n    _onContextMenu(e, testEventTarget) {\n        this.viewController.emitContextMenu({\n            event: e,\n            target: this._createMouseTarget(e, testEventTarget)\n        });\n    }\n    _onMouseMove(e) {\n        const targetIsWidget = this.mouseTargetFactory.mouseTargetIsWidget(e);\n        if (!targetIsWidget) {\n            e.preventDefault();\n        }\n        if (this._mouseDownOperation.isActive()) {\n            // In selection/drag operation\n            return;\n        }\n        const actualMouseMoveTime = e.timestamp;\n        if (actualMouseMoveTime < this.lastMouseLeaveTime) {\n            // Due to throttling, this event occurred before the mouse left the editor, therefore ignore it.\n            return;\n        }\n        this.viewController.emitMouseMove({\n            event: e,\n            target: this._createMouseTarget(e, true)\n        });\n    }\n    _onMouseLeave(e) {\n        if (this._mouseLeaveMonitor) {\n            this._mouseLeaveMonitor.dispose();\n            this._mouseLeaveMonitor = null;\n        }\n        this.lastMouseLeaveTime = (new Date()).getTime();\n        this.viewController.emitMouseLeave({\n            event: e,\n            target: null\n        });\n    }\n    _onMouseUp(e) {\n        this.viewController.emitMouseUp({\n            event: e,\n            target: this._createMouseTarget(e, true)\n        });\n    }\n    _onMouseDown(e, pointerId) {\n        const t = this._createMouseTarget(e, true);\n        const targetIsContent = (t.type === 6 /* MouseTargetType.CONTENT_TEXT */ || t.type === 7 /* MouseTargetType.CONTENT_EMPTY */);\n        const targetIsGutter = (t.type === 2 /* MouseTargetType.GUTTER_GLYPH_MARGIN */ || t.type === 3 /* MouseTargetType.GUTTER_LINE_NUMBERS */ || t.type === 4 /* MouseTargetType.GUTTER_LINE_DECORATIONS */);\n        const targetIsLineNumbers = (t.type === 3 /* MouseTargetType.GUTTER_LINE_NUMBERS */);\n        const selectOnLineNumbers = this._context.configuration.options.get(125 /* EditorOption.selectOnLineNumbers */);\n        const targetIsViewZone = (t.type === 8 /* MouseTargetType.CONTENT_VIEW_ZONE */ || t.type === 5 /* MouseTargetType.GUTTER_VIEW_ZONE */);\n        const targetIsWidget = (t.type === 9 /* MouseTargetType.CONTENT_WIDGET */);\n        let shouldHandle = e.leftButton || e.middleButton;\n        if (isMacintosh && e.leftButton && e.ctrlKey) {\n            shouldHandle = false;\n        }\n        const focus = () => {\n            e.preventDefault();\n            this.viewHelper.focusTextArea();\n        };\n        if (shouldHandle && (targetIsContent || (targetIsLineNumbers && selectOnLineNumbers))) {\n            focus();\n            this._mouseDownOperation.start(t.type, e, pointerId);\n        }\n        else if (targetIsGutter) {\n            // Do not steal focus\n            e.preventDefault();\n        }\n        else if (targetIsViewZone) {\n            const viewZoneData = t.detail;\n            if (shouldHandle && this.viewHelper.shouldSuppressMouseDownOnViewZone(viewZoneData.viewZoneId)) {\n                focus();\n                this._mouseDownOperation.start(t.type, e, pointerId);\n                e.preventDefault();\n            }\n        }\n        else if (targetIsWidget && this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)) {\n            focus();\n            e.preventDefault();\n        }\n        this.viewController.emitMouseDown({\n            event: e,\n            target: t\n        });\n    }\n}\nclass MouseDownOperation extends Disposable {\n    constructor(_context, _viewController, _viewHelper, _mouseTargetFactory, createMouseTarget, getMouseColumn) {\n        super();\n        this._context = _context;\n        this._viewController = _viewController;\n        this._viewHelper = _viewHelper;\n        this._mouseTargetFactory = _mouseTargetFactory;\n        this._createMouseTarget = createMouseTarget;\n        this._getMouseColumn = getMouseColumn;\n        this._mouseMoveMonitor = this._register(new GlobalEditorPointerMoveMonitor(this._viewHelper.viewDomNode));\n        this._topBottomDragScrolling = this._register(new TopBottomDragScrolling(this._context, this._viewHelper, this._mouseTargetFactory, (position, inSelectionMode, revealType) => this._dispatchMouse(position, inSelectionMode, revealType)));\n        this._leftRightDragScrolling = this._register(new LeftRightDragScrolling(this._context, this._viewHelper, this._mouseTargetFactory, (position, inSelectionMode, revealType) => this._dispatchMouse(position, inSelectionMode, revealType)));\n        this._mouseState = new MouseDownState();\n        this._currentSelection = new Selection(1, 1, 1, 1);\n        this._isActive = false;\n        this._lastMouseEvent = null;\n    }\n    dispose() {\n        super.dispose();\n    }\n    isActive() {\n        return this._isActive;\n    }\n    _onMouseDownThenMove(e) {\n        this._lastMouseEvent = e;\n        this._mouseState.setModifiers(e);\n        const position = this._findMousePosition(e, false);\n        if (!position) {\n            // Ignoring because position is unknown\n            return;\n        }\n        if (this._mouseState.isDragAndDrop) {\n            this._viewController.emitMouseDrag({\n                event: e,\n                target: position\n            });\n        }\n        else {\n            if (position.type === 13 /* MouseTargetType.OUTSIDE_EDITOR */) {\n                if (position.outsidePosition === 'above' || position.outsidePosition === 'below') {\n                    this._topBottomDragScrolling.start(position, e);\n                    this._leftRightDragScrolling.stop();\n                }\n                else {\n                    this._leftRightDragScrolling.start(position, e);\n                    this._topBottomDragScrolling.stop();\n                }\n            }\n            else {\n                this._topBottomDragScrolling.stop();\n                this._leftRightDragScrolling.stop();\n                this._dispatchMouse(position, true, 1 /* NavigationCommandRevealType.Minimal */);\n            }\n        }\n    }\n    start(targetType, e, pointerId) {\n        this._lastMouseEvent = e;\n        this._mouseState.setStartedOnLineNumbers(targetType === 3 /* MouseTargetType.GUTTER_LINE_NUMBERS */);\n        this._mouseState.setStartButtons(e);\n        this._mouseState.setModifiers(e);\n        const position = this._findMousePosition(e, true);\n        if (!position || !position.position) {\n            // Ignoring because position is unknown\n            return;\n        }\n        this._mouseState.trySetCount(e.detail, position.position);\n        // Overwrite the detail of the MouseEvent, as it will be sent out in an event and contributions might rely on it.\n        e.detail = this._mouseState.count;\n        const options = this._context.configuration.options;\n        if (!options.get(104 /* EditorOption.readOnly */)\n            && options.get(42 /* EditorOption.dragAndDrop */)\n            && !options.get(28 /* EditorOption.columnSelection */)\n            && !this._mouseState.altKey // we don't support multiple mouse\n            && e.detail < 2 // only single click on a selection can work\n            && !this._isActive // the mouse is not down yet\n            && !this._currentSelection.isEmpty() // we don't drag single cursor\n            && (position.type === 6 /* MouseTargetType.CONTENT_TEXT */) // single click on text\n            && position.position && this._currentSelection.containsPosition(position.position) // single click on a selection\n        ) {\n            this._mouseState.isDragAndDrop = true;\n            this._isActive = true;\n            this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode, pointerId, e.buttons, (e) => this._onMouseDownThenMove(e), (browserEvent) => {\n                const position = this._findMousePosition(this._lastMouseEvent, false);\n                if (isKeyboardEvent(browserEvent)) {\n                    // cancel\n                    this._viewController.emitMouseDropCanceled();\n                }\n                else {\n                    this._viewController.emitMouseDrop({\n                        event: this._lastMouseEvent,\n                        target: (position ? this._createMouseTarget(this._lastMouseEvent, true) : null) // Ignoring because position is unknown, e.g., Content View Zone\n                    });\n                }\n                this._stop();\n            });\n            return;\n        }\n        this._mouseState.isDragAndDrop = false;\n        this._dispatchMouse(position, e.shiftKey, 1 /* NavigationCommandRevealType.Minimal */);\n        if (!this._isActive) {\n            this._isActive = true;\n            this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode, pointerId, e.buttons, (e) => this._onMouseDownThenMove(e), () => this._stop());\n        }\n    }\n    _stop() {\n        this._isActive = false;\n        this._topBottomDragScrolling.stop();\n        this._leftRightDragScrolling.stop();\n    }\n    onHeightChanged() {\n        this._mouseMoveMonitor.stopMonitoring();\n    }\n    onPointerUp() {\n        this._mouseMoveMonitor.stopMonitoring();\n    }\n    onCursorStateChanged(e) {\n        this._currentSelection = e.selections[0];\n    }\n    _getPositionOutsideEditor(e) {\n        const editorContent = e.editorPos;\n        const model = this._context.viewModel;\n        const viewLayout = this._context.viewLayout;\n        const mouseColumn = this._getMouseColumn(e);\n        if (e.posy < editorContent.y) {\n            const outsideDistance = editorContent.y - e.posy;\n            const verticalOffset = Math.max(viewLayout.getCurrentScrollTop() - outsideDistance, 0);\n            const viewZoneData = HitTestContext.getZoneAtCoord(this._context, verticalOffset);\n            if (viewZoneData) {\n                const newPosition = this._helpPositionJumpOverViewZone(viewZoneData);\n                if (newPosition) {\n                    return MouseTarget.createOutsideEditor(mouseColumn, newPosition, 'above', outsideDistance);\n                }\n            }\n            const aboveLineNumber = viewLayout.getLineNumberAtVerticalOffset(verticalOffset);\n            return MouseTarget.createOutsideEditor(mouseColumn, new Position(aboveLineNumber, 1), 'above', outsideDistance);\n        }\n        if (e.posy > editorContent.y + editorContent.height) {\n            const outsideDistance = e.posy - editorContent.y - editorContent.height;\n            const verticalOffset = viewLayout.getCurrentScrollTop() + e.relativePos.y;\n            const viewZoneData = HitTestContext.getZoneAtCoord(this._context, verticalOffset);\n            if (viewZoneData) {\n                const newPosition = this._helpPositionJumpOverViewZone(viewZoneData);\n                if (newPosition) {\n                    return MouseTarget.createOutsideEditor(mouseColumn, newPosition, 'below', outsideDistance);\n                }\n            }\n            const belowLineNumber = viewLayout.getLineNumberAtVerticalOffset(verticalOffset);\n            return MouseTarget.createOutsideEditor(mouseColumn, new Position(belowLineNumber, model.getLineMaxColumn(belowLineNumber)), 'below', outsideDistance);\n        }\n        const possibleLineNumber = viewLayout.getLineNumberAtVerticalOffset(viewLayout.getCurrentScrollTop() + e.relativePos.y);\n        const layoutInfo = this._context.configuration.options.get(165 /* EditorOption.layoutInfo */);\n        const xLeftBoundary = layoutInfo.contentLeft;\n        if (e.relativePos.x <= xLeftBoundary) {\n            const outsideDistance = xLeftBoundary - e.relativePos.x;\n            return MouseTarget.createOutsideEditor(mouseColumn, new Position(possibleLineNumber, 1), 'left', outsideDistance);\n        }\n        const contentRight = (layoutInfo.minimap.minimapLeft === 0\n            ? layoutInfo.width - layoutInfo.verticalScrollbarWidth // Happens when minimap is hidden\n            : layoutInfo.minimap.minimapLeft);\n        const xRightBoundary = contentRight;\n        if (e.relativePos.x >= xRightBoundary) {\n            const outsideDistance = e.relativePos.x - xRightBoundary;\n            return MouseTarget.createOutsideEditor(mouseColumn, new Position(possibleLineNumber, model.getLineMaxColumn(possibleLineNumber)), 'right', outsideDistance);\n        }\n        return null;\n    }\n    _findMousePosition(e, testEventTarget) {\n        const positionOutsideEditor = this._getPositionOutsideEditor(e);\n        if (positionOutsideEditor) {\n            return positionOutsideEditor;\n        }\n        const t = this._createMouseTarget(e, testEventTarget);\n        const hintedPosition = t.position;\n        if (!hintedPosition) {\n            return null;\n        }\n        if (t.type === 8 /* MouseTargetType.CONTENT_VIEW_ZONE */ || t.type === 5 /* MouseTargetType.GUTTER_VIEW_ZONE */) {\n            const newPosition = this._helpPositionJumpOverViewZone(t.detail);\n            if (newPosition) {\n                return MouseTarget.createViewZone(t.type, t.element, t.mouseColumn, newPosition, t.detail);\n            }\n        }\n        return t;\n    }\n    _helpPositionJumpOverViewZone(viewZoneData) {\n        // Force position on view zones to go above or below depending on where selection started from\n        const selectionStart = new Position(this._currentSelection.selectionStartLineNumber, this._currentSelection.selectionStartColumn);\n        const positionBefore = viewZoneData.positionBefore;\n        const positionAfter = viewZoneData.positionAfter;\n        if (positionBefore && positionAfter) {\n            if (positionBefore.isBefore(selectionStart)) {\n                return positionBefore;\n            }\n            else {\n                return positionAfter;\n            }\n        }\n        return null;\n    }\n    _dispatchMouse(position, inSelectionMode, revealType) {\n        if (!position.position) {\n            return;\n        }\n        this._viewController.dispatchMouse({\n            position: position.position,\n            mouseColumn: position.mouseColumn,\n            startedOnLineNumbers: this._mouseState.startedOnLineNumbers,\n            revealType,\n            inSelectionMode: inSelectionMode,\n            mouseDownCount: this._mouseState.count,\n            altKey: this._mouseState.altKey,\n            ctrlKey: this._mouseState.ctrlKey,\n            metaKey: this._mouseState.metaKey,\n            shiftKey: this._mouseState.shiftKey,\n            leftButton: this._mouseState.leftButton,\n            middleButton: this._mouseState.middleButton,\n            onInjectedText: position.type === 6 /* MouseTargetType.CONTENT_TEXT */ && position.detail.injectedText !== null\n        });\n    }\n}\nclass MouseDownState {\n    static { this.CLEAR_MOUSE_DOWN_COUNT_TIME = 400; } // ms\n    get altKey() { return this._altKey; }\n    get ctrlKey() { return this._ctrlKey; }\n    get metaKey() { return this._metaKey; }\n    get shiftKey() { return this._shiftKey; }\n    get leftButton() { return this._leftButton; }\n    get middleButton() { return this._middleButton; }\n    get startedOnLineNumbers() { return this._startedOnLineNumbers; }\n    constructor() {\n        this._altKey = false;\n        this._ctrlKey = false;\n        this._metaKey = false;\n        this._shiftKey = false;\n        this._leftButton = false;\n        this._middleButton = false;\n        this._startedOnLineNumbers = false;\n        this._lastMouseDownPosition = null;\n        this._lastMouseDownPositionEqualCount = 0;\n        this._lastMouseDownCount = 0;\n        this._lastSetMouseDownCountTime = 0;\n        this.isDragAndDrop = false;\n    }\n    get count() {\n        return this._lastMouseDownCount;\n    }\n    setModifiers(source) {\n        this._altKey = source.altKey;\n        this._ctrlKey = source.ctrlKey;\n        this._metaKey = source.metaKey;\n        this._shiftKey = source.shiftKey;\n    }\n    setStartButtons(source) {\n        this._leftButton = source.leftButton;\n        this._middleButton = source.middleButton;\n    }\n    setStartedOnLineNumbers(startedOnLineNumbers) {\n        this._startedOnLineNumbers = startedOnLineNumbers;\n    }\n    trySetCount(setMouseDownCount, newMouseDownPosition) {\n        // a. Invalidate multiple clicking if too much time has passed (will be hit by IE because the detail field of mouse events contains garbage in IE10)\n        const currentTime = (new Date()).getTime();\n        if (currentTime - this._lastSetMouseDownCountTime > MouseDownState.CLEAR_MOUSE_DOWN_COUNT_TIME) {\n            setMouseDownCount = 1;\n        }\n        this._lastSetMouseDownCountTime = currentTime;\n        // b. Ensure that we don't jump from single click to triple click in one go (will be hit by IE because the detail field of mouse events contains garbage in IE10)\n        if (setMouseDownCount > this._lastMouseDownCount + 1) {\n            setMouseDownCount = this._lastMouseDownCount + 1;\n        }\n        // c. Invalidate multiple clicking if the logical position is different\n        if (this._lastMouseDownPosition && this._lastMouseDownPosition.equals(newMouseDownPosition)) {\n            this._lastMouseDownPositionEqualCount++;\n        }\n        else {\n            this._lastMouseDownPositionEqualCount = 1;\n        }\n        this._lastMouseDownPosition = newMouseDownPosition;\n        // Finally set the lastMouseDownCount\n        this._lastMouseDownCount = Math.min(setMouseDownCount, this._lastMouseDownPositionEqualCount);\n    }\n}\n\nexport { MouseHandler };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1800, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/browser/controller/editContext/clipboardUtils.js"],"sourcesContent":["import { isWindows } from '../../../../base/common/platform.js';\nimport { Mimes } from '../../../../base/common/mime.js';\n\nfunction getDataToCopy(viewModel, modelSelections, emptySelectionClipboard, copyWithSyntaxHighlighting) {\n    const rawTextToCopy = viewModel.getPlainTextToCopy(modelSelections, emptySelectionClipboard, isWindows);\n    const newLineCharacter = viewModel.model.getEOL();\n    const isFromEmptySelection = (emptySelectionClipboard && modelSelections.length === 1 && modelSelections[0].isEmpty());\n    const multicursorText = (Array.isArray(rawTextToCopy) ? rawTextToCopy : null);\n    const text = (Array.isArray(rawTextToCopy) ? rawTextToCopy.join(newLineCharacter) : rawTextToCopy);\n    let html = undefined;\n    let mode = null;\n    if (CopyOptions.forceCopyWithSyntaxHighlighting || (copyWithSyntaxHighlighting && text.length < 65536)) {\n        const richText = viewModel.getRichTextToCopy(modelSelections, emptySelectionClipboard);\n        if (richText) {\n            html = richText.html;\n            mode = richText.mode;\n        }\n    }\n    const dataToCopy = {\n        isFromEmptySelection,\n        multicursorText,\n        text,\n        html,\n        mode\n    };\n    return dataToCopy;\n}\n/**\n * Every time we write to the clipboard, we record a bit of extra metadata here.\n * Every time we read from the cipboard, if the text matches our last written text,\n * we can fetch the previous metadata.\n */\nclass InMemoryClipboardMetadataManager {\n    static { this.INSTANCE = new InMemoryClipboardMetadataManager(); }\n    constructor() {\n        this._lastState = null;\n    }\n    set(lastCopiedValue, data) {\n        this._lastState = { lastCopiedValue, data };\n    }\n    get(pastedText) {\n        if (this._lastState && this._lastState.lastCopiedValue === pastedText) {\n            // match!\n            return this._lastState.data;\n        }\n        this._lastState = null;\n        return null;\n    }\n}\nconst CopyOptions = {\n    forceCopyWithSyntaxHighlighting: false\n};\nconst ClipboardEventUtils = {\n    getTextData(clipboardData) {\n        const text = clipboardData.getData(Mimes.text);\n        let metadata = null;\n        const rawmetadata = clipboardData.getData('vscode-editor-data');\n        if (typeof rawmetadata === 'string') {\n            try {\n                metadata = JSON.parse(rawmetadata);\n                if (metadata.version !== 1) {\n                    metadata = null;\n                }\n            }\n            catch (err) {\n                // no problem!\n            }\n        }\n        if (text.length === 0 && metadata === null && clipboardData.files.length > 0) {\n            // no textual data pasted, generate text from file names\n            const files = Array.prototype.slice.call(clipboardData.files, 0);\n            return [files.map(file => file.name).join('\\n'), null];\n        }\n        return [text, metadata];\n    },\n    setTextData(clipboardData, text, html, metadata) {\n        clipboardData.setData(Mimes.text, text);\n        if (typeof html === 'string') {\n            clipboardData.setData('text/html', html);\n        }\n        clipboardData.setData('vscode-editor-data', JSON.stringify(metadata));\n    }\n};\n\nexport { ClipboardEventUtils, CopyOptions, InMemoryClipboardMetadataManager, getDataToCopy };\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;AAEA,SAAS,cAAc,SAAS,EAAE,eAAe,EAAE,uBAAuB,EAAE,0BAA0B;IAClG,MAAM,gBAAgB,UAAU,kBAAkB,CAAC,iBAAiB,yBAAyB,yPAAS;IACtG,MAAM,mBAAmB,UAAU,KAAK,CAAC,MAAM;IAC/C,MAAM,uBAAwB,2BAA2B,gBAAgB,MAAM,KAAK,KAAK,eAAe,CAAC,EAAE,CAAC,OAAO;IACnH,MAAM,kBAAmB,MAAM,OAAO,CAAC,iBAAiB,gBAAgB;IACxE,MAAM,OAAQ,MAAM,OAAO,CAAC,iBAAiB,cAAc,IAAI,CAAC,oBAAoB;IACpF,IAAI,OAAO;IACX,IAAI,OAAO;IACX,IAAI,YAAY,+BAA+B,IAAK,8BAA8B,KAAK,MAAM,GAAG,OAAQ;QACpG,MAAM,WAAW,UAAU,iBAAiB,CAAC,iBAAiB;QAC9D,IAAI,UAAU;YACV,OAAO,SAAS,IAAI;YACpB,OAAO,SAAS,IAAI;QACxB;IACJ;IACA,MAAM,aAAa;QACf;QACA;QACA;QACA;QACA;IACJ;IACA,OAAO;AACX;AACA;;;;CAIC,GACD,MAAM;IACF,MAAO;QAAE,IAAI,CAAC,QAAQ,GAAG,IAAI;IAAoC,CAAC;IAClE,aAAc;QACV,IAAI,CAAC,UAAU,GAAG;IACtB;IACA,IAAI,eAAe,EAAE,IAAI,EAAE;QACvB,IAAI,CAAC,UAAU,GAAG;YAAE;YAAiB;QAAK;IAC9C;IACA,IAAI,UAAU,EAAE;QACZ,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,eAAe,KAAK,YAAY;YACnE,SAAS;YACT,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI;QAC/B;QACA,IAAI,CAAC,UAAU,GAAG;QAClB,OAAO;IACX;AACJ;AACA,MAAM,cAAc;IAChB,iCAAiC;AACrC;AACA,MAAM,sBAAsB;IACxB,aAAY,aAAa;QACrB,MAAM,OAAO,cAAc,OAAO,CAAC,iPAAK,CAAC,IAAI;QAC7C,IAAI,WAAW;QACf,MAAM,cAAc,cAAc,OAAO,CAAC;QAC1C,IAAI,OAAO,gBAAgB,UAAU;YACjC,IAAI;gBACA,WAAW,KAAK,KAAK,CAAC;gBACtB,IAAI,SAAS,OAAO,KAAK,GAAG;oBACxB,WAAW;gBACf;YACJ,EACA,OAAO,KAAK;YACR,cAAc;YAClB;QACJ;QACA,IAAI,KAAK,MAAM,KAAK,KAAK,aAAa,QAAQ,cAAc,KAAK,CAAC,MAAM,GAAG,GAAG;YAC1E,wDAAwD;YACxD,MAAM,QAAQ,MAAM,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,cAAc,KAAK,EAAE;YAC9D,OAAO;gBAAC,MAAM,GAAG,CAAC,CAAA,OAAQ,KAAK,IAAI,EAAE,IAAI,CAAC;gBAAO;aAAK;QAC1D;QACA,OAAO;YAAC;YAAM;SAAS;IAC3B;IACA,aAAY,aAAa,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ;QAC3C,cAAc,OAAO,CAAC,iPAAK,CAAC,IAAI,EAAE;QAClC,IAAI,OAAO,SAAS,UAAU;YAC1B,cAAc,OAAO,CAAC,aAAa;QACvC;QACA,cAAc,OAAO,CAAC,sBAAsB,KAAK,SAAS,CAAC;IAC/D;AACJ","ignoreList":[0]}},
    {"offset": {"line": 1908, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/browser/controller/editContext/textArea/textAreaEditContextState.js"],"sourcesContent":["import { commonPrefixLength, commonSuffixLength } from '../../../../../base/common/strings.js';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nclass TextAreaState {\n    static { this.EMPTY = new TextAreaState('', 0, 0, null, undefined); }\n    constructor(value, \n    /** the offset where selection starts inside `value` */\n    selectionStart, \n    /** the offset where selection ends inside `value` */\n    selectionEnd, \n    /** the editor range in the view coordinate system that matches the selection inside `value` */\n    selection, \n    /** the visible line count (wrapped, not necessarily matching \\n characters) for the text in `value` before `selectionStart` */\n    newlineCountBeforeSelection) {\n        this.value = value;\n        this.selectionStart = selectionStart;\n        this.selectionEnd = selectionEnd;\n        this.selection = selection;\n        this.newlineCountBeforeSelection = newlineCountBeforeSelection;\n    }\n    toString() {\n        return `[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`;\n    }\n    static readFromTextArea(textArea, previousState) {\n        const value = textArea.getValue();\n        const selectionStart = textArea.getSelectionStart();\n        const selectionEnd = textArea.getSelectionEnd();\n        let newlineCountBeforeSelection = undefined;\n        if (previousState) {\n            const valueBeforeSelectionStart = value.substring(0, selectionStart);\n            const previousValueBeforeSelectionStart = previousState.value.substring(0, previousState.selectionStart);\n            if (valueBeforeSelectionStart === previousValueBeforeSelectionStart) {\n                newlineCountBeforeSelection = previousState.newlineCountBeforeSelection;\n            }\n        }\n        return new TextAreaState(value, selectionStart, selectionEnd, null, newlineCountBeforeSelection);\n    }\n    collapseSelection() {\n        if (this.selectionStart === this.value.length) {\n            return this;\n        }\n        return new TextAreaState(this.value, this.value.length, this.value.length, null, undefined);\n    }\n    isWrittenToTextArea(textArea, select) {\n        const valuesEqual = this.value === textArea.getValue();\n        if (!select) {\n            return valuesEqual;\n        }\n        const selectionsEqual = this.selectionStart === textArea.getSelectionStart() && this.selectionEnd === textArea.getSelectionEnd();\n        return selectionsEqual && valuesEqual;\n    }\n    writeToTextArea(reason, textArea, select) {\n        textArea.setValue(reason, this.value);\n        if (select) {\n            textArea.setSelectionRange(reason, this.selectionStart, this.selectionEnd);\n        }\n    }\n    deduceEditorPosition(offset) {\n        if (offset <= this.selectionStart) {\n            const str = this.value.substring(offset, this.selectionStart);\n            return this._finishDeduceEditorPosition(this.selection?.getStartPosition() ?? null, str, -1);\n        }\n        if (offset >= this.selectionEnd) {\n            const str = this.value.substring(this.selectionEnd, offset);\n            return this._finishDeduceEditorPosition(this.selection?.getEndPosition() ?? null, str, 1);\n        }\n        const str1 = this.value.substring(this.selectionStart, offset);\n        if (str1.indexOf(String.fromCharCode(8230)) === -1) {\n            return this._finishDeduceEditorPosition(this.selection?.getStartPosition() ?? null, str1, 1);\n        }\n        const str2 = this.value.substring(offset, this.selectionEnd);\n        return this._finishDeduceEditorPosition(this.selection?.getEndPosition() ?? null, str2, -1);\n    }\n    _finishDeduceEditorPosition(anchor, deltaText, signum) {\n        let lineFeedCnt = 0;\n        let lastLineFeedIndex = -1;\n        while ((lastLineFeedIndex = deltaText.indexOf('\\n', lastLineFeedIndex + 1)) !== -1) {\n            lineFeedCnt++;\n        }\n        return [anchor, signum * deltaText.length, lineFeedCnt];\n    }\n    static deduceInput(previousState, currentState, couldBeEmojiInput) {\n        if (!previousState) {\n            // This is the EMPTY state\n            return {\n                text: '',\n                replacePrevCharCnt: 0,\n                replaceNextCharCnt: 0,\n                positionDelta: 0\n            };\n        }\n        const prefixLength = Math.min(commonPrefixLength(previousState.value, currentState.value), previousState.selectionStart, currentState.selectionStart);\n        const suffixLength = Math.min(commonSuffixLength(previousState.value, currentState.value), previousState.value.length - previousState.selectionEnd, currentState.value.length - currentState.selectionEnd);\n        previousState.value.substring(prefixLength, previousState.value.length - suffixLength);\n        const currentValue = currentState.value.substring(prefixLength, currentState.value.length - suffixLength);\n        const previousSelectionStart = previousState.selectionStart - prefixLength;\n        const previousSelectionEnd = previousState.selectionEnd - prefixLength;\n        const currentSelectionStart = currentState.selectionStart - prefixLength;\n        const currentSelectionEnd = currentState.selectionEnd - prefixLength;\n        if (currentSelectionStart === currentSelectionEnd) {\n            // no current selection\n            const replacePreviousCharacters = (previousState.selectionStart - prefixLength);\n            return {\n                text: currentValue,\n                replacePrevCharCnt: replacePreviousCharacters,\n                replaceNextCharCnt: 0,\n                positionDelta: 0\n            };\n        }\n        // there is a current selection => composition case\n        const replacePreviousCharacters = previousSelectionEnd - previousSelectionStart;\n        return {\n            text: currentValue,\n            replacePrevCharCnt: replacePreviousCharacters,\n            replaceNextCharCnt: 0,\n            positionDelta: 0\n        };\n    }\n    static deduceAndroidCompositionInput(previousState, currentState) {\n        if (!previousState) {\n            // This is the EMPTY state\n            return {\n                text: '',\n                replacePrevCharCnt: 0,\n                replaceNextCharCnt: 0,\n                positionDelta: 0\n            };\n        }\n        if (previousState.value === currentState.value) {\n            return {\n                text: '',\n                replacePrevCharCnt: 0,\n                replaceNextCharCnt: 0,\n                positionDelta: currentState.selectionEnd - previousState.selectionEnd\n            };\n        }\n        const prefixLength = Math.min(commonPrefixLength(previousState.value, currentState.value), previousState.selectionEnd);\n        const suffixLength = Math.min(commonSuffixLength(previousState.value, currentState.value), previousState.value.length - previousState.selectionEnd);\n        const previousValue = previousState.value.substring(prefixLength, previousState.value.length - suffixLength);\n        const currentValue = currentState.value.substring(prefixLength, currentState.value.length - suffixLength);\n        previousState.selectionStart - prefixLength;\n        const previousSelectionEnd = previousState.selectionEnd - prefixLength;\n        currentState.selectionStart - prefixLength;\n        const currentSelectionEnd = currentState.selectionEnd - prefixLength;\n        return {\n            text: currentValue,\n            replacePrevCharCnt: previousSelectionEnd,\n            replaceNextCharCnt: previousValue.length - previousSelectionEnd,\n            positionDelta: currentSelectionEnd - currentValue.length\n        };\n    }\n    static fromScreenReaderContentState(screenReaderContentState) {\n        return new TextAreaState(screenReaderContentState.value, screenReaderContentState.selectionStart, screenReaderContentState.selectionEnd, screenReaderContentState.selection, screenReaderContentState.newlineCountBeforeSelection);\n    }\n}\n\nexport { TextAreaState };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2072, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/browser/controller/editContext/textArea/textAreaEditContextInput.js"],"sourcesContent":["import { isFirefox } from '../../../../../base/browser/browser.js';\nimport { addDisposableListener, getShadowRoot, getActiveElement, getWindow, saveParentsScrollTop, restoreParentsScrollTop } from '../../../../../base/browser/dom.js';\nimport { DomEmitter } from '../../../../../base/browser/event.js';\nimport { StandardKeyboardEvent } from '../../../../../base/browser/keyboardEvent.js';\nimport { inputLatency } from '../../../../../base/browser/performance.js';\nimport { RunOnceScheduler } from '../../../../../base/common/async.js';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { Disposable, MutableDisposable } from '../../../../../base/common/lifecycle.js';\nimport { isHighSurrogate } from '../../../../../base/common/strings.js';\nimport { Selection } from '../../../../common/core/selection.js';\nimport { IAccessibilityService } from '../../../../../platform/accessibility/common/accessibility.js';\nimport { ILogService, LogLevel } from '../../../../../platform/log/common/log.js';\nimport { InMemoryClipboardMetadataManager, ClipboardEventUtils } from '../clipboardUtils.js';\nimport { TextAreaState } from './textAreaEditContextState.js';\nimport { generateUuid } from '../../../../../base/common/uuid.js';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar TextAreaSyntethicEvents;\n(function (TextAreaSyntethicEvents) {\n    TextAreaSyntethicEvents.Tap = '-monaco-textarea-synthetic-tap';\n})(TextAreaSyntethicEvents || (TextAreaSyntethicEvents = {}));\nclass CompositionContext {\n    constructor() {\n        this._lastTypeTextLength = 0;\n    }\n    handleCompositionUpdate(text) {\n        text = text || '';\n        const typeInput = {\n            text: text,\n            replacePrevCharCnt: this._lastTypeTextLength,\n            replaceNextCharCnt: 0,\n            positionDelta: 0\n        };\n        this._lastTypeTextLength = text.length;\n        return typeInput;\n    }\n}\n/**\n * Writes screen reader content to the textarea and is able to analyze its input events to generate:\n *  - onCut\n *  - onPaste\n *  - onType\n *\n * Composition events are generated for presentation purposes (composition input is reflected in onType).\n */\nlet TextAreaInput = class TextAreaInput extends Disposable {\n    get textAreaState() {\n        return this._textAreaState;\n    }\n    constructor(_host, _textArea, _OS, _browser, _accessibilityService, _logService) {\n        super();\n        this._host = _host;\n        this._textArea = _textArea;\n        this._OS = _OS;\n        this._browser = _browser;\n        this._accessibilityService = _accessibilityService;\n        this._logService = _logService;\n        this._onFocus = this._register(new Emitter());\n        this.onFocus = this._onFocus.event;\n        this._onBlur = this._register(new Emitter());\n        this.onBlur = this._onBlur.event;\n        this._onKeyDown = this._register(new Emitter());\n        this.onKeyDown = this._onKeyDown.event;\n        this._onKeyUp = this._register(new Emitter());\n        this.onKeyUp = this._onKeyUp.event;\n        this._onCut = this._register(new Emitter());\n        this.onCut = this._onCut.event;\n        this._onPaste = this._register(new Emitter());\n        this.onPaste = this._onPaste.event;\n        this._onType = this._register(new Emitter());\n        this.onType = this._onType.event;\n        this._onCompositionStart = this._register(new Emitter());\n        this.onCompositionStart = this._onCompositionStart.event;\n        this._onCompositionUpdate = this._register(new Emitter());\n        this.onCompositionUpdate = this._onCompositionUpdate.event;\n        this._onCompositionEnd = this._register(new Emitter());\n        this.onCompositionEnd = this._onCompositionEnd.event;\n        this._onSelectionChangeRequest = this._register(new Emitter());\n        this.onSelectionChangeRequest = this._onSelectionChangeRequest.event;\n        this._asyncFocusGainWriteScreenReaderContent = this._register(new MutableDisposable());\n        this._asyncTriggerCut = this._register(new RunOnceScheduler(() => this._onCut.fire(), 0));\n        this._textAreaState = TextAreaState.EMPTY;\n        this._selectionChangeListener = null;\n        if (this._accessibilityService.isScreenReaderOptimized()) {\n            this.writeNativeTextAreaContent('ctor');\n        }\n        this._register(Event.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized, () => {\n            if (this._accessibilityService.isScreenReaderOptimized() && !this._asyncFocusGainWriteScreenReaderContent.value) {\n                this._asyncFocusGainWriteScreenReaderContent.value = this._register(new RunOnceScheduler(() => this.writeNativeTextAreaContent('asyncFocusGain'), 0));\n            }\n            else {\n                this._asyncFocusGainWriteScreenReaderContent.clear();\n            }\n        }));\n        this._hasFocus = false;\n        this._currentComposition = null;\n        let lastKeyDown = null;\n        this._register(this._textArea.onKeyDown((_e) => {\n            const e = new StandardKeyboardEvent(_e);\n            if (e.keyCode === 114 /* KeyCode.KEY_IN_COMPOSITION */\n                || (this._currentComposition && e.keyCode === 1 /* KeyCode.Backspace */)) {\n                // Stop propagation for keyDown events if the IME is processing key input\n                e.stopPropagation();\n            }\n            if (e.equals(9 /* KeyCode.Escape */)) {\n                // Prevent default always for `Esc`, otherwise it will generate a keypress\n                // See https://msdn.microsoft.com/en-us/library/ie/ms536939(v=vs.85).aspx\n                e.preventDefault();\n            }\n            lastKeyDown = e;\n            this._onKeyDown.fire(e);\n        }));\n        this._register(this._textArea.onKeyUp((_e) => {\n            const e = new StandardKeyboardEvent(_e);\n            this._onKeyUp.fire(e);\n        }));\n        this._register(this._textArea.onCompositionStart((e) => {\n            const currentComposition = new CompositionContext();\n            if (this._currentComposition) {\n                // simply reset the composition context\n                this._currentComposition = currentComposition;\n                return;\n            }\n            this._currentComposition = currentComposition;\n            if (this._OS === 2 /* OperatingSystem.Macintosh */\n                && lastKeyDown\n                && lastKeyDown.equals(114 /* KeyCode.KEY_IN_COMPOSITION */)\n                && this._textAreaState.selectionStart === this._textAreaState.selectionEnd\n                && this._textAreaState.selectionStart > 0\n                && this._textAreaState.value.substr(this._textAreaState.selectionStart - 1, 1) === e.data\n                && (lastKeyDown.code === 'ArrowRight' || lastKeyDown.code === 'ArrowLeft')) {\n                // Pretend the previous character was composed (in order to get it removed by subsequent compositionupdate events)\n                currentComposition.handleCompositionUpdate('x');\n                this._onCompositionStart.fire({ data: e.data });\n                return;\n            }\n            if (this._browser.isAndroid) {\n                // when tapping on the editor, Android enters composition mode to edit the current word\n                // so we cannot clear the textarea on Android and we must pretend the current word was selected\n                this._onCompositionStart.fire({ data: e.data });\n                return;\n            }\n            this._onCompositionStart.fire({ data: e.data });\n        }));\n        this._register(this._textArea.onCompositionUpdate((e) => {\n            const currentComposition = this._currentComposition;\n            if (!currentComposition) {\n                // should not be possible to receive a 'compositionupdate' without a 'compositionstart'\n                return;\n            }\n            if (this._browser.isAndroid) {\n                // On Android, the data sent with the composition update event is unusable.\n                // For example, if the cursor is in the middle of a word like Mic|osoft\n                // and Microsoft is chosen from the keyboard's suggestions, the e.data will contain \"Microsoft\".\n                // This is not really usable because it doesn't tell us where the edit began and where it ended.\n                const newState = TextAreaState.readFromTextArea(this._textArea, this._textAreaState);\n                const typeInput = TextAreaState.deduceAndroidCompositionInput(this._textAreaState, newState);\n                this._textAreaState = newState;\n                this._onType.fire(typeInput);\n                this._onCompositionUpdate.fire(e);\n                return;\n            }\n            const typeInput = currentComposition.handleCompositionUpdate(e.data);\n            this._textAreaState = TextAreaState.readFromTextArea(this._textArea, this._textAreaState);\n            this._onType.fire(typeInput);\n            this._onCompositionUpdate.fire(e);\n        }));\n        this._register(this._textArea.onCompositionEnd((e) => {\n            const currentComposition = this._currentComposition;\n            if (!currentComposition) {\n                // https://github.com/microsoft/monaco-editor/issues/1663\n                // On iOS 13.2, Chinese system IME randomly trigger an additional compositionend event with empty data\n                return;\n            }\n            this._currentComposition = null;\n            if (this._browser.isAndroid) {\n                // On Android, the data sent with the composition update event is unusable.\n                // For example, if the cursor is in the middle of a word like Mic|osoft\n                // and Microsoft is chosen from the keyboard's suggestions, the e.data will contain \"Microsoft\".\n                // This is not really usable because it doesn't tell us where the edit began and where it ended.\n                const newState = TextAreaState.readFromTextArea(this._textArea, this._textAreaState);\n                const typeInput = TextAreaState.deduceAndroidCompositionInput(this._textAreaState, newState);\n                this._textAreaState = newState;\n                this._onType.fire(typeInput);\n                this._onCompositionEnd.fire();\n                return;\n            }\n            const typeInput = currentComposition.handleCompositionUpdate(e.data);\n            this._textAreaState = TextAreaState.readFromTextArea(this._textArea, this._textAreaState);\n            this._onType.fire(typeInput);\n            this._onCompositionEnd.fire();\n        }));\n        this._register(this._textArea.onInput((e) => {\n            // Pretend here we touched the text area, as the `input` event will most likely\n            // result in a `selectionchange` event which we want to ignore\n            this._textArea.setIgnoreSelectionChangeTime('received input event');\n            if (this._currentComposition) {\n                return;\n            }\n            const newState = TextAreaState.readFromTextArea(this._textArea, this._textAreaState);\n            const typeInput = TextAreaState.deduceInput(this._textAreaState, newState, /*couldBeEmojiInput*/ this._OS === 2 /* OperatingSystem.Macintosh */);\n            if (typeInput.replacePrevCharCnt === 0 && typeInput.text.length === 1) {\n                // one character was typed\n                if (isHighSurrogate(typeInput.text.charCodeAt(0))\n                    || typeInput.text.charCodeAt(0) === 0x7f /* Delete */) {\n                    // Ignore invalid input but keep it around for next time\n                    return;\n                }\n            }\n            this._textAreaState = newState;\n            if (typeInput.text !== ''\n                || typeInput.replacePrevCharCnt !== 0\n                || typeInput.replaceNextCharCnt !== 0\n                || typeInput.positionDelta !== 0) {\n                // https://w3c.github.io/input-events/#interface-InputEvent-Attributes\n                if (e.inputType === 'insertFromPaste') {\n                    this._onPaste.fire({\n                        text: typeInput.text,\n                        metadata: InMemoryClipboardMetadataManager.INSTANCE.get(typeInput.text)\n                    });\n                }\n                else {\n                    this._onType.fire(typeInput);\n                }\n            }\n        }));\n        // --- Clipboard operations\n        this._register(this._textArea.onCut((e) => {\n            this._logService.trace(`TextAreaInput#onCut`, e);\n            // Pretend here we touched the text area, as the `cut` event will most likely\n            // result in a `selectionchange` event which we want to ignore\n            this._textArea.setIgnoreSelectionChangeTime('received cut event');\n            this._ensureClipboardGetsEditorSelection(e);\n            this._asyncTriggerCut.schedule();\n        }));\n        this._register(this._textArea.onCopy((e) => {\n            this._logService.trace(`TextAreaInput#onCopy`, e);\n            this._ensureClipboardGetsEditorSelection(e);\n        }));\n        this._register(this._textArea.onPaste((e) => {\n            this._logService.trace(`TextAreaInput#onPaste`, e);\n            // Pretend here we touched the text area, as the `paste` event will most likely\n            // result in a `selectionchange` event which we want to ignore\n            this._textArea.setIgnoreSelectionChangeTime('received paste event');\n            e.preventDefault();\n            if (!e.clipboardData) {\n                return;\n            }\n            let [text, metadata] = ClipboardEventUtils.getTextData(e.clipboardData);\n            this._logService.trace(`TextAreaInput#onPaste with id : `, metadata?.id, ' with text.length: ', text.length);\n            if (!text) {\n                return;\n            }\n            // try the in-memory store\n            metadata = metadata || InMemoryClipboardMetadataManager.INSTANCE.get(text);\n            this._logService.trace(`TextAreaInput#onPaste (before onPaste)`);\n            this._onPaste.fire({\n                text: text,\n                metadata: metadata\n            });\n        }));\n        this._register(this._textArea.onFocus(() => {\n            const hadFocus = this._hasFocus;\n            this._setHasFocus(true);\n            if (this._accessibilityService.isScreenReaderOptimized() && this._browser.isSafari && !hadFocus && this._hasFocus) {\n                // When \"tabbing into\" the textarea, immediately after dispatching the 'focus' event,\n                // Safari will always move the selection at offset 0 in the textarea\n                if (!this._asyncFocusGainWriteScreenReaderContent.value) {\n                    this._asyncFocusGainWriteScreenReaderContent.value = new RunOnceScheduler(() => this.writeNativeTextAreaContent('asyncFocusGain'), 0);\n                }\n                this._asyncFocusGainWriteScreenReaderContent.value.schedule();\n            }\n        }));\n        this._register(this._textArea.onBlur(() => {\n            if (this._currentComposition) {\n                // See https://github.com/microsoft/vscode/issues/112621\n                // where compositionend is not triggered when the editor\n                // is taken off-dom during a composition\n                // Clear the flag to be able to write to the textarea\n                this._currentComposition = null;\n                // Clear the textarea to avoid an unwanted cursor type\n                this.writeNativeTextAreaContent('blurWithoutCompositionEnd');\n                // Fire artificial composition end\n                this._onCompositionEnd.fire();\n            }\n            this._setHasFocus(false);\n        }));\n        this._register(this._textArea.onSyntheticTap(() => {\n            if (this._browser.isAndroid && this._currentComposition) {\n                // on Android, tapping does not cancel the current composition, so the\n                // textarea is stuck showing the old composition\n                // Clear the flag to be able to write to the textarea\n                this._currentComposition = null;\n                // Clear the textarea to avoid an unwanted cursor type\n                this.writeNativeTextAreaContent('tapWithoutCompositionEnd');\n                // Fire artificial composition end\n                this._onCompositionEnd.fire();\n            }\n        }));\n    }\n    _installSelectionChangeListener() {\n        // See https://github.com/microsoft/vscode/issues/27216 and https://github.com/microsoft/vscode/issues/98256\n        // When using a Braille display, it is possible for users to reposition the\n        // system caret. This is reflected in Chrome as a `selectionchange` event.\n        //\n        // The `selectionchange` event appears to be emitted under numerous other circumstances,\n        // so it is quite a challenge to distinguish a `selectionchange` coming in from a user\n        // using a Braille display from all the other cases.\n        //\n        // The problems with the `selectionchange` event are:\n        //  * the event is emitted when the textarea is focused programmatically -- textarea.focus()\n        //  * the event is emitted when the selection is changed in the textarea programmatically -- textarea.setSelectionRange(...)\n        //  * the event is emitted when the value of the textarea is changed programmatically -- textarea.value = '...'\n        //  * the event is emitted when tabbing into the textarea\n        //  * the event is emitted asynchronously (sometimes with a delay as high as a few tens of ms)\n        //  * the event sometimes comes in bursts for a single logical textarea operation\n        // `selectionchange` events often come multiple times for a single logical change\n        // so throttle multiple `selectionchange` events that burst in a short period of time.\n        let previousSelectionChangeEventTime = 0;\n        return addDisposableListener(this._textArea.ownerDocument, 'selectionchange', (e) => {\n            inputLatency.onSelectionChange();\n            if (!this._hasFocus) {\n                return;\n            }\n            if (this._currentComposition) {\n                return;\n            }\n            if (!this._browser.isChrome) {\n                // Support only for Chrome until testing happens on other browsers\n                return;\n            }\n            const now = Date.now();\n            const delta1 = now - previousSelectionChangeEventTime;\n            previousSelectionChangeEventTime = now;\n            if (delta1 < 5) {\n                // received another `selectionchange` event within 5ms of the previous `selectionchange` event\n                // => ignore it\n                return;\n            }\n            const delta2 = now - this._textArea.getIgnoreSelectionChangeTime();\n            this._textArea.resetSelectionChangeTime();\n            if (delta2 < 100) {\n                // received a `selectionchange` event within 100ms since we touched the textarea\n                // => ignore it, since we caused it\n                return;\n            }\n            if (!this._textAreaState.selection) {\n                // Cannot correlate a position in the textarea with a position in the editor...\n                return;\n            }\n            const newValue = this._textArea.getValue();\n            if (this._textAreaState.value !== newValue) {\n                // Cannot correlate a position in the textarea with a position in the editor...\n                return;\n            }\n            const newSelectionStart = this._textArea.getSelectionStart();\n            const newSelectionEnd = this._textArea.getSelectionEnd();\n            if (this._textAreaState.selectionStart === newSelectionStart && this._textAreaState.selectionEnd === newSelectionEnd) {\n                // Nothing to do...\n                return;\n            }\n            const _newSelectionStartPosition = this._textAreaState.deduceEditorPosition(newSelectionStart);\n            const newSelectionStartPosition = this._host.deduceModelPosition(_newSelectionStartPosition[0], _newSelectionStartPosition[1], _newSelectionStartPosition[2]);\n            const _newSelectionEndPosition = this._textAreaState.deduceEditorPosition(newSelectionEnd);\n            const newSelectionEndPosition = this._host.deduceModelPosition(_newSelectionEndPosition[0], _newSelectionEndPosition[1], _newSelectionEndPosition[2]);\n            const newSelection = new Selection(newSelectionStartPosition.lineNumber, newSelectionStartPosition.column, newSelectionEndPosition.lineNumber, newSelectionEndPosition.column);\n            this._onSelectionChangeRequest.fire(newSelection);\n        });\n    }\n    dispose() {\n        super.dispose();\n        if (this._selectionChangeListener) {\n            this._selectionChangeListener.dispose();\n            this._selectionChangeListener = null;\n        }\n    }\n    focusTextArea() {\n        // Setting this._hasFocus and writing the screen reader content\n        // will result in a focus() and setSelectionRange() in the textarea\n        this._setHasFocus(true);\n        // If the editor is off DOM, focus cannot be really set, so let's double check that we have managed to set the focus\n        this.refreshFocusState();\n    }\n    isFocused() {\n        return this._hasFocus;\n    }\n    refreshFocusState() {\n        this._setHasFocus(this._textArea.hasFocus());\n    }\n    _setHasFocus(newHasFocus) {\n        if (this._hasFocus === newHasFocus) {\n            // no change\n            return;\n        }\n        this._hasFocus = newHasFocus;\n        if (this._selectionChangeListener) {\n            this._selectionChangeListener.dispose();\n            this._selectionChangeListener = null;\n        }\n        if (this._hasFocus) {\n            this._selectionChangeListener = this._installSelectionChangeListener();\n        }\n        if (this._hasFocus) {\n            this.writeNativeTextAreaContent('focusgain');\n        }\n        if (this._hasFocus) {\n            this._onFocus.fire();\n        }\n        else {\n            this._onBlur.fire();\n        }\n    }\n    _setAndWriteTextAreaState(reason, textAreaState) {\n        if (!this._hasFocus) {\n            textAreaState = textAreaState.collapseSelection();\n        }\n        if (!textAreaState.isWrittenToTextArea(this._textArea, this._hasFocus)) {\n            this._logService.trace(`writeTextAreaState(reason: ${reason})`);\n        }\n        textAreaState.writeToTextArea(reason, this._textArea, this._hasFocus);\n        this._textAreaState = textAreaState;\n    }\n    writeNativeTextAreaContent(reason) {\n        if ((!this._accessibilityService.isScreenReaderOptimized() && reason === 'render') || this._currentComposition) {\n            // Do not write to the text on render unless a screen reader is being used #192278\n            // Do not write to the text area when doing composition\n            return;\n        }\n        this._setAndWriteTextAreaState(reason, this._host.getScreenReaderContent());\n    }\n    _ensureClipboardGetsEditorSelection(e) {\n        const dataToCopy = this._host.getDataToCopy();\n        let id = undefined;\n        if (this._logService.getLevel() === LogLevel.Trace) {\n            id = generateUuid();\n        }\n        const storedMetadata = {\n            version: 1,\n            id,\n            isFromEmptySelection: dataToCopy.isFromEmptySelection,\n            multicursorText: dataToCopy.multicursorText,\n            mode: dataToCopy.mode\n        };\n        InMemoryClipboardMetadataManager.INSTANCE.set(\n        // When writing \"LINE\\r\\n\" to the clipboard and then pasting,\n        // Firefox pastes \"LINE\\n\", so let's work around this quirk\n        (this._browser.isFirefox ? dataToCopy.text.replace(/\\r\\n/g, '\\n') : dataToCopy.text), storedMetadata);\n        e.preventDefault();\n        if (e.clipboardData) {\n            ClipboardEventUtils.setTextData(e.clipboardData, dataToCopy.text, dataToCopy.html, storedMetadata);\n        }\n        this._logService.trace('TextAreaEditContextInput#_ensureClipboardGetsEditorSelection with id : ', id, ' with text.length: ', dataToCopy.text.length);\n    }\n};\nTextAreaInput = __decorate([\n    __param(4, IAccessibilityService),\n    __param(5, ILogService)\n], TextAreaInput);\nclass TextAreaWrapper extends Disposable {\n    get ownerDocument() {\n        return this._actual.ownerDocument;\n    }\n    constructor(_actual) {\n        super();\n        this._actual = _actual;\n        this._onSyntheticTap = this._register(new Emitter());\n        this.onSyntheticTap = this._onSyntheticTap.event;\n        this._ignoreSelectionChangeTime = 0;\n        this.onKeyDown = this._register(new DomEmitter(this._actual, 'keydown')).event;\n        this.onKeyPress = this._register(new DomEmitter(this._actual, 'keypress')).event;\n        this.onKeyUp = this._register(new DomEmitter(this._actual, 'keyup')).event;\n        this.onCompositionStart = this._register(new DomEmitter(this._actual, 'compositionstart')).event;\n        this.onCompositionUpdate = this._register(new DomEmitter(this._actual, 'compositionupdate')).event;\n        this.onCompositionEnd = this._register(new DomEmitter(this._actual, 'compositionend')).event;\n        this.onBeforeInput = this._register(new DomEmitter(this._actual, 'beforeinput')).event;\n        this.onInput = this._register(new DomEmitter(this._actual, 'input')).event;\n        this.onCut = this._register(new DomEmitter(this._actual, 'cut')).event;\n        this.onCopy = this._register(new DomEmitter(this._actual, 'copy')).event;\n        this.onPaste = this._register(new DomEmitter(this._actual, 'paste')).event;\n        this.onFocus = this._register(new DomEmitter(this._actual, 'focus')).event;\n        this.onBlur = this._register(new DomEmitter(this._actual, 'blur')).event;\n        this._register(this.onKeyDown(() => inputLatency.onKeyDown()));\n        this._register(this.onBeforeInput(() => inputLatency.onBeforeInput()));\n        this._register(this.onInput(() => inputLatency.onInput()));\n        this._register(this.onKeyUp(() => inputLatency.onKeyUp()));\n        this._register(addDisposableListener(this._actual, TextAreaSyntethicEvents.Tap, () => this._onSyntheticTap.fire()));\n    }\n    hasFocus() {\n        const shadowRoot = getShadowRoot(this._actual);\n        if (shadowRoot) {\n            return shadowRoot.activeElement === this._actual;\n        }\n        else if (this._actual.isConnected) {\n            return getActiveElement() === this._actual;\n        }\n        else {\n            return false;\n        }\n    }\n    setIgnoreSelectionChangeTime(reason) {\n        this._ignoreSelectionChangeTime = Date.now();\n    }\n    getIgnoreSelectionChangeTime() {\n        return this._ignoreSelectionChangeTime;\n    }\n    resetSelectionChangeTime() {\n        this._ignoreSelectionChangeTime = 0;\n    }\n    getValue() {\n        // console.log('current value: ' + this._textArea.value);\n        return this._actual.value;\n    }\n    setValue(reason, value) {\n        const textArea = this._actual;\n        if (textArea.value === value) {\n            // No change\n            return;\n        }\n        // console.log('reason: ' + reason + ', current value: ' + textArea.value + ' => new value: ' + value);\n        this.setIgnoreSelectionChangeTime('setValue');\n        textArea.value = value;\n    }\n    getSelectionStart() {\n        return this._actual.selectionDirection === 'backward' ? this._actual.selectionEnd : this._actual.selectionStart;\n    }\n    getSelectionEnd() {\n        return this._actual.selectionDirection === 'backward' ? this._actual.selectionStart : this._actual.selectionEnd;\n    }\n    setSelectionRange(reason, selectionStart, selectionEnd) {\n        const textArea = this._actual;\n        let activeElement = null;\n        const shadowRoot = getShadowRoot(textArea);\n        if (shadowRoot) {\n            activeElement = shadowRoot.activeElement;\n        }\n        else {\n            activeElement = getActiveElement();\n        }\n        const activeWindow = getWindow(activeElement);\n        const currentIsFocused = (activeElement === textArea);\n        const currentSelectionStart = textArea.selectionStart;\n        const currentSelectionEnd = textArea.selectionEnd;\n        if (currentIsFocused && currentSelectionStart === selectionStart && currentSelectionEnd === selectionEnd) {\n            // No change\n            // Firefox iframe bug https://github.com/microsoft/monaco-editor/issues/643#issuecomment-367871377\n            if (isFirefox && activeWindow.parent !== activeWindow) {\n                textArea.focus();\n            }\n            return;\n        }\n        // console.log('reason: ' + reason + ', setSelectionRange: ' + selectionStart + ' -> ' + selectionEnd);\n        if (currentIsFocused) {\n            // No need to focus, only need to change the selection range\n            this.setIgnoreSelectionChangeTime('setSelectionRange');\n            textArea.setSelectionRange(selectionStart, selectionEnd);\n            if (isFirefox && activeWindow.parent !== activeWindow) {\n                textArea.focus();\n            }\n            return;\n        }\n        // If the focus is outside the textarea, browsers will try really hard to reveal the textarea.\n        // Here, we try to undo the browser's desperate reveal.\n        try {\n            const scrollState = saveParentsScrollTop(textArea);\n            this.setIgnoreSelectionChangeTime('setSelectionRange');\n            textArea.focus();\n            textArea.setSelectionRange(selectionStart, selectionEnd);\n            restoreParentsScrollTop(textArea, scrollState);\n        }\n        catch (e) {\n            // Sometimes IE throws when setting selection (e.g. textarea is off-DOM)\n        }\n    }\n}\n\nexport { TextAreaInput, TextAreaSyntethicEvents, TextAreaWrapper };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2670, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/browser/controller/pointerHandler.js"],"sourcesContent":["import { BrowserFeatures } from '../../../base/browser/canIUse.js';\nimport { addDisposableListener } from '../../../base/browser/dom.js';\nimport { Gesture, EventType } from '../../../base/browser/touch.js';\nimport { mainWindow } from '../../../base/browser/window.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { isIOS, isAndroid, isMobile } from '../../../base/common/platform.js';\nimport { MouseHandler } from './mouseHandler.js';\nimport { EditorMouseEvent, EditorPointerEventFactory } from '../editorDom.js';\nimport { TextAreaSyntethicEvents } from './editContext/textArea/textAreaEditContextInput.js';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/**\n * Currently only tested on iOS 13/ iPadOS.\n */\nclass PointerEventHandler extends MouseHandler {\n    constructor(context, viewController, viewHelper) {\n        super(context, viewController, viewHelper);\n        this._register(Gesture.addTarget(this.viewHelper.linesContentDomNode));\n        this._register(addDisposableListener(this.viewHelper.linesContentDomNode, EventType.Tap, (e) => this.onTap(e)));\n        this._register(addDisposableListener(this.viewHelper.linesContentDomNode, EventType.Change, (e) => this.onChange(e)));\n        this._register(addDisposableListener(this.viewHelper.linesContentDomNode, EventType.Contextmenu, (e) => this._onContextMenu(new EditorMouseEvent(e, false, this.viewHelper.viewDomNode), false)));\n        this._lastPointerType = 'mouse';\n        this._register(addDisposableListener(this.viewHelper.linesContentDomNode, 'pointerdown', (e) => {\n            const pointerType = e.pointerType;\n            if (pointerType === 'mouse') {\n                this._lastPointerType = 'mouse';\n                return;\n            }\n            else if (pointerType === 'touch') {\n                this._lastPointerType = 'touch';\n            }\n            else {\n                this._lastPointerType = 'pen';\n            }\n        }));\n        // PonterEvents\n        const pointerEvents = new EditorPointerEventFactory(this.viewHelper.viewDomNode);\n        this._register(pointerEvents.onPointerMove(this.viewHelper.viewDomNode, (e) => this._onMouseMove(e)));\n        this._register(pointerEvents.onPointerUp(this.viewHelper.viewDomNode, (e) => this._onMouseUp(e)));\n        this._register(pointerEvents.onPointerLeave(this.viewHelper.viewDomNode, (e) => this._onMouseLeave(e)));\n        this._register(pointerEvents.onPointerDown(this.viewHelper.viewDomNode, (e, pointerId) => this._onMouseDown(e, pointerId)));\n    }\n    onTap(event) {\n        if (!event.initialTarget || !this.viewHelper.linesContentDomNode.contains(event.initialTarget)) {\n            return;\n        }\n        event.preventDefault();\n        this.viewHelper.focusTextArea();\n        this._dispatchGesture(event, /*inSelectionMode*/ false);\n    }\n    onChange(event) {\n        if (this._lastPointerType === 'touch') {\n            this._context.viewModel.viewLayout.deltaScrollNow(-event.translationX, -event.translationY);\n        }\n        if (this._lastPointerType === 'pen') {\n            this._dispatchGesture(event, /*inSelectionMode*/ true);\n        }\n    }\n    _dispatchGesture(event, inSelectionMode) {\n        const target = this._createMouseTarget(new EditorMouseEvent(event, false, this.viewHelper.viewDomNode), false);\n        if (target.position) {\n            this.viewController.dispatchMouse({\n                position: target.position,\n                mouseColumn: target.position.column,\n                startedOnLineNumbers: false,\n                revealType: 1 /* NavigationCommandRevealType.Minimal */,\n                mouseDownCount: event.tapCount,\n                inSelectionMode,\n                altKey: false,\n                ctrlKey: false,\n                metaKey: false,\n                shiftKey: false,\n                leftButton: false,\n                middleButton: false,\n                onInjectedText: target.type === 6 /* MouseTargetType.CONTENT_TEXT */ && target.detail.injectedText !== null\n            });\n        }\n    }\n    _onMouseDown(e, pointerId) {\n        if (e.browserEvent.pointerType === 'touch') {\n            return;\n        }\n        super._onMouseDown(e, pointerId);\n    }\n}\nclass TouchHandler extends MouseHandler {\n    constructor(context, viewController, viewHelper) {\n        super(context, viewController, viewHelper);\n        this._register(Gesture.addTarget(this.viewHelper.linesContentDomNode));\n        this._register(addDisposableListener(this.viewHelper.linesContentDomNode, EventType.Tap, (e) => this.onTap(e)));\n        this._register(addDisposableListener(this.viewHelper.linesContentDomNode, EventType.Change, (e) => this.onChange(e)));\n        this._register(addDisposableListener(this.viewHelper.linesContentDomNode, EventType.Contextmenu, (e) => this._onContextMenu(new EditorMouseEvent(e, false, this.viewHelper.viewDomNode), false)));\n    }\n    onTap(event) {\n        event.preventDefault();\n        this.viewHelper.focusTextArea();\n        const target = this._createMouseTarget(new EditorMouseEvent(event, false, this.viewHelper.viewDomNode), false);\n        if (target.position) {\n            // Send the tap event also to the <textarea> (for input purposes)\n            const event = document.createEvent('CustomEvent');\n            event.initEvent(TextAreaSyntethicEvents.Tap, false, true);\n            this.viewHelper.dispatchTextAreaEvent(event);\n            this.viewController.moveTo(target.position, 1 /* NavigationCommandRevealType.Minimal */);\n        }\n    }\n    onChange(e) {\n        this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX, -e.translationY);\n    }\n}\nclass PointerHandler extends Disposable {\n    constructor(context, viewController, viewHelper) {\n        super();\n        const isPhone = isIOS || (isAndroid && isMobile);\n        if (isPhone && BrowserFeatures.pointerEvents) {\n            this.handler = this._register(new PointerEventHandler(context, viewController, viewHelper));\n        }\n        else if (mainWindow.TouchEvent) {\n            this.handler = this._register(new TouchHandler(context, viewController, viewHelper));\n        }\n        else {\n            this.handler = this._register(new MouseHandler(context, viewController, viewHelper));\n        }\n    }\n    getTargetAtClientPoint(clientX, clientY) {\n        return this.handler.getTargetAtClientPoint(clientX, clientY);\n    }\n}\n\nexport { PointerEventHandler, PointerHandler };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2813, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/browser/controller/editContext/editContext.js"],"sourcesContent":["import { ViewPart } from '../../view/viewPart.js';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nclass AbstractEditContext extends ViewPart {\n}\n\nexport { AbstractEditContext };\n"],"names":[],"mappings":";;;;AAAA;;AAEA;;;8FAG8F,GAC9F,MAAM,4BAA4B,mQAAQ;AAC1C","ignoreList":[0]}},
    {"offset": {"line": 2829, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/browser/controller/editContext/screenReaderUtils.js"],"sourcesContent":["import { Range } from '../../../common/core/range.js';\nimport { localize } from '../../../../nls.js';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nclass SimplePagedScreenReaderStrategy {\n    _getPageOfLine(lineNumber, linesPerPage) {\n        return Math.floor((lineNumber - 1) / linesPerPage);\n    }\n    _getRangeForPage(page, linesPerPage) {\n        const offset = page * linesPerPage;\n        const startLineNumber = offset + 1;\n        const endLineNumber = offset + linesPerPage;\n        return new Range(startLineNumber, 1, endLineNumber + 1, 1);\n    }\n    fromEditorSelection(model, selection, linesPerPage, trimLongText) {\n        // Chromium handles very poorly text even of a few thousand chars\n        // Cut text to avoid stalling the entire UI\n        const LIMIT_CHARS = 500;\n        const selectionStartPage = this._getPageOfLine(selection.startLineNumber, linesPerPage);\n        const selectionStartPageRange = this._getRangeForPage(selectionStartPage, linesPerPage);\n        const selectionEndPage = this._getPageOfLine(selection.endLineNumber, linesPerPage);\n        const selectionEndPageRange = this._getRangeForPage(selectionEndPage, linesPerPage);\n        let pretextRange = selectionStartPageRange.intersectRanges(new Range(1, 1, selection.startLineNumber, selection.startColumn));\n        if (trimLongText && model.getValueLengthInRange(pretextRange, 1 /* EndOfLinePreference.LF */) > LIMIT_CHARS) {\n            const pretextStart = model.modifyPosition(pretextRange.getEndPosition(), -LIMIT_CHARS);\n            pretextRange = Range.fromPositions(pretextStart, pretextRange.getEndPosition());\n        }\n        const pretext = model.getValueInRange(pretextRange, 1 /* EndOfLinePreference.LF */);\n        const lastLine = model.getLineCount();\n        const lastLineMaxColumn = model.getLineMaxColumn(lastLine);\n        let posttextRange = selectionEndPageRange.intersectRanges(new Range(selection.endLineNumber, selection.endColumn, lastLine, lastLineMaxColumn));\n        if (trimLongText && model.getValueLengthInRange(posttextRange, 1 /* EndOfLinePreference.LF */) > LIMIT_CHARS) {\n            const posttextEnd = model.modifyPosition(posttextRange.getStartPosition(), LIMIT_CHARS);\n            posttextRange = Range.fromPositions(posttextRange.getStartPosition(), posttextEnd);\n        }\n        const posttext = model.getValueInRange(posttextRange, 1 /* EndOfLinePreference.LF */);\n        let text;\n        if (selectionStartPage === selectionEndPage || selectionStartPage + 1 === selectionEndPage) {\n            // take full selection\n            text = model.getValueInRange(selection, 1 /* EndOfLinePreference.LF */);\n        }\n        else {\n            const selectionRange1 = selectionStartPageRange.intersectRanges(selection);\n            const selectionRange2 = selectionEndPageRange.intersectRanges(selection);\n            text = (model.getValueInRange(selectionRange1, 1 /* EndOfLinePreference.LF */)\n                + String.fromCharCode(8230)\n                + model.getValueInRange(selectionRange2, 1 /* EndOfLinePreference.LF */));\n        }\n        if (trimLongText && text.length > 2 * LIMIT_CHARS) {\n            text = text.substring(0, LIMIT_CHARS) + String.fromCharCode(8230) + text.substring(text.length - LIMIT_CHARS, text.length);\n        }\n        let selectionStart;\n        let selectionEnd;\n        if (selection.getDirection() === 0 /* SelectionDirection.LTR */) {\n            selectionStart = pretext.length;\n            selectionEnd = pretext.length + text.length;\n        }\n        else {\n            selectionEnd = pretext.length;\n            selectionStart = pretext.length + text.length;\n        }\n        return {\n            value: pretext + text + posttext,\n            selection: selection,\n            selectionStart,\n            selectionEnd,\n            startPositionWithinEditor: pretextRange.getStartPosition(),\n            newlineCountBeforeSelection: pretextRange.endLineNumber - pretextRange.startLineNumber,\n        };\n    }\n}\nfunction ariaLabelForScreenReaderContent(options, keybindingService) {\n    const accessibilitySupport = options.get(2 /* EditorOption.accessibilitySupport */);\n    if (accessibilitySupport === 1 /* AccessibilitySupport.Disabled */) {\n        const toggleKeybindingLabel = keybindingService.lookupKeybinding('editor.action.toggleScreenReaderAccessibilityMode')?.getAriaLabel();\n        const runCommandKeybindingLabel = keybindingService.lookupKeybinding('workbench.action.showCommands')?.getAriaLabel();\n        const keybindingEditorKeybindingLabel = keybindingService.lookupKeybinding('workbench.action.openGlobalKeybindings')?.getAriaLabel();\n        const editorNotAccessibleMessage = localize(61, \"The editor is not accessible at this time.\");\n        if (toggleKeybindingLabel) {\n            return localize(62, \"{0} To enable screen reader optimized mode, use {1}\", editorNotAccessibleMessage, toggleKeybindingLabel);\n        }\n        else if (runCommandKeybindingLabel) {\n            return localize(63, \"{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.\", editorNotAccessibleMessage, runCommandKeybindingLabel);\n        }\n        else if (keybindingEditorKeybindingLabel) {\n            return localize(64, \"{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.\", editorNotAccessibleMessage, keybindingEditorKeybindingLabel);\n        }\n        else {\n            // SOS\n            return editorNotAccessibleMessage;\n        }\n    }\n    return options.get(8 /* EditorOption.ariaLabel */);\n}\nfunction newlinecount(text) {\n    let result = 0;\n    let startIndex = -1;\n    do {\n        startIndex = text.indexOf('\\n', startIndex + 1);\n        if (startIndex === -1) {\n            break;\n        }\n        result++;\n    } while (true);\n    return result;\n}\n\nexport { SimplePagedScreenReaderStrategy, ariaLabelForScreenReaderContent, newlinecount };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2944, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/browser/controller/editContext/textArea/textAreaEditContext.js"],"sourcesContent":["import './textAreaEditContext.css';\nimport { localize } from '../../../../../nls.js';\nimport { isSafari, isFirefox, isChrome, isAndroid } from '../../../../../base/browser/browser.js';\nimport { createFastDomNode } from '../../../../../base/browser/fastDomNode.js';\nimport { OS, isMacintosh } from '../../../../../base/common/platform.js';\nimport { isHighSurrogate } from '../../../../../base/common/strings.js';\nimport { applyFontInfo } from '../../../config/domFontInfo.js';\nimport { PartFingerprints } from '../../../view/viewPart.js';\nimport { LineNumbersOverlay } from '../../../viewParts/lineNumbers/lineNumbers.js';\nimport { Margin } from '../../../viewParts/margin/margin.js';\nimport { EditorOptions } from '../../../../common/config/editorOptions.js';\nimport { Position } from '../../../../common/core/position.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { Selection } from '../../../../common/core/selection.js';\nimport { MOUSE_CURSOR_TEXT_CSS_CLASS_NAME } from '../../../../../base/browser/ui/mouseCursor/mouseCursor.js';\nimport { TokenizationRegistry } from '../../../../common/languages.js';\nimport { Color } from '../../../../../base/common/color.js';\nimport { IME } from '../../../../../base/common/ime.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { AbstractEditContext } from '../editContext.js';\nimport { TextAreaWrapper, TextAreaInput } from './textAreaEditContextInput.js';\nimport { ariaLabelForScreenReaderContent, newlinecount, SimplePagedScreenReaderStrategy } from '../screenReaderUtils.js';\nimport { getDataToCopy } from '../clipboardUtils.js';\nimport { TextAreaState } from './textAreaEditContextState.js';\nimport { getMapForWordSeparators } from '../../../../common/core/wordCharacterClassifier.js';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nclass VisibleTextAreaData {\n    constructor(_context, modelLineNumber, distanceToModelLineStart, widthOfHiddenLineTextBefore, distanceToModelLineEnd) {\n        this._context = _context;\n        this.modelLineNumber = modelLineNumber;\n        this.distanceToModelLineStart = distanceToModelLineStart;\n        this.widthOfHiddenLineTextBefore = widthOfHiddenLineTextBefore;\n        this.distanceToModelLineEnd = distanceToModelLineEnd;\n        this._visibleTextAreaBrand = undefined;\n        this.startPosition = null;\n        this.endPosition = null;\n        this.visibleTextareaStart = null;\n        this.visibleTextareaEnd = null;\n        /**\n         * When doing composition, the currently composed text might be split up into\n         * multiple tokens, then merged again into a single token, etc. Here we attempt\n         * to keep the presentation of the <textarea> stable by using the previous used\n         * style if multiple tokens come into play. This avoids flickering.\n         */\n        this._previousPresentation = null;\n    }\n    prepareRender(visibleRangeProvider) {\n        const startModelPosition = new Position(this.modelLineNumber, this.distanceToModelLineStart + 1);\n        const endModelPosition = new Position(this.modelLineNumber, this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber) - this.distanceToModelLineEnd);\n        this.startPosition = this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(startModelPosition);\n        this.endPosition = this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(endModelPosition);\n        if (this.startPosition.lineNumber === this.endPosition.lineNumber) {\n            this.visibleTextareaStart = visibleRangeProvider.visibleRangeForPosition(this.startPosition);\n            this.visibleTextareaEnd = visibleRangeProvider.visibleRangeForPosition(this.endPosition);\n        }\n        else {\n            // TODO: what if the view positions are not on the same line?\n            this.visibleTextareaStart = null;\n            this.visibleTextareaEnd = null;\n        }\n    }\n    definePresentation(tokenPresentation) {\n        if (!this._previousPresentation) {\n            // To avoid flickering, once set, always reuse a presentation throughout the entire IME session\n            if (tokenPresentation) {\n                this._previousPresentation = tokenPresentation;\n            }\n            else {\n                this._previousPresentation = {\n                    foreground: 1 /* ColorId.DefaultForeground */,\n                    italic: false,\n                    bold: false,\n                    underline: false,\n                    strikethrough: false,\n                };\n            }\n        }\n        return this._previousPresentation;\n    }\n}\nconst canUseZeroSizeTextarea = (isFirefox);\nlet TextAreaEditContext = class TextAreaEditContext extends AbstractEditContext {\n    constructor(context, overflowGuardContainer, viewController, visibleRangeProvider, _keybindingService, _instantiationService) {\n        super(context);\n        this._keybindingService = _keybindingService;\n        this._instantiationService = _instantiationService;\n        this._primaryCursorPosition = new Position(1, 1);\n        this._primaryCursorVisibleRange = null;\n        this._viewController = viewController;\n        this._visibleRangeProvider = visibleRangeProvider;\n        this._scrollLeft = 0;\n        this._scrollTop = 0;\n        const options = this._context.configuration.options;\n        const layoutInfo = options.get(165 /* EditorOption.layoutInfo */);\n        this._setAccessibilityOptions(options);\n        this._contentLeft = layoutInfo.contentLeft;\n        this._contentWidth = layoutInfo.contentWidth;\n        this._contentHeight = layoutInfo.height;\n        this._fontInfo = options.get(59 /* EditorOption.fontInfo */);\n        this._emptySelectionClipboard = options.get(45 /* EditorOption.emptySelectionClipboard */);\n        this._copyWithSyntaxHighlighting = options.get(31 /* EditorOption.copyWithSyntaxHighlighting */);\n        this._visibleTextArea = null;\n        this._selections = [new Selection(1, 1, 1, 1)];\n        this._modelSelections = [new Selection(1, 1, 1, 1)];\n        this._lastRenderPosition = null;\n        // Text Area (The focus will always be in the textarea when the cursor is blinking)\n        this.textArea = createFastDomNode(document.createElement('textarea'));\n        PartFingerprints.write(this.textArea, 7 /* PartFingerprint.TextArea */);\n        this.textArea.setClassName(`inputarea ${MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`);\n        this.textArea.setAttribute('wrap', this._textAreaWrapping && !this._visibleTextArea ? 'on' : 'off');\n        const { tabSize } = this._context.viewModel.model.getOptions();\n        this.textArea.domNode.style.tabSize = `${tabSize * this._fontInfo.spaceWidth}px`;\n        this.textArea.setAttribute('autocorrect', 'off');\n        this.textArea.setAttribute('autocapitalize', 'off');\n        this.textArea.setAttribute('autocomplete', 'off');\n        this.textArea.setAttribute('spellcheck', 'false');\n        this.textArea.setAttribute('aria-label', ariaLabelForScreenReaderContent(options, this._keybindingService));\n        this.textArea.setAttribute('aria-required', options.get(9 /* EditorOption.ariaRequired */) ? 'true' : 'false');\n        this.textArea.setAttribute('tabindex', String(options.get(140 /* EditorOption.tabIndex */)));\n        this.textArea.setAttribute('role', 'textbox');\n        this.textArea.setAttribute('aria-roledescription', localize(65, \"editor\"));\n        this.textArea.setAttribute('aria-multiline', 'true');\n        this.textArea.setAttribute('aria-autocomplete', options.get(104 /* EditorOption.readOnly */) ? 'none' : 'both');\n        this._ensureReadOnlyAttribute();\n        this.textAreaCover = createFastDomNode(document.createElement('div'));\n        this.textAreaCover.setPosition('absolute');\n        overflowGuardContainer.appendChild(this.textArea);\n        overflowGuardContainer.appendChild(this.textAreaCover);\n        const simplePagedScreenReaderStrategy = new SimplePagedScreenReaderStrategy();\n        const textAreaInputHost = {\n            getDataToCopy: () => {\n                return getDataToCopy(this._context.viewModel, this._modelSelections, this._emptySelectionClipboard, this._copyWithSyntaxHighlighting);\n            },\n            getScreenReaderContent: () => {\n                if (this._accessibilitySupport === 1 /* AccessibilitySupport.Disabled */) {\n                    // We know for a fact that a screen reader is not attached\n                    // On OSX, we write the character before the cursor to allow for \"long-press\" composition\n                    // Also on OSX, we write the word before the cursor to allow for the Accessibility Keyboard to give good hints\n                    const selection = this._selections[0];\n                    if (isMacintosh && selection.isEmpty()) {\n                        const position = selection.getStartPosition();\n                        let textBefore = this._getWordBeforePosition(position);\n                        if (textBefore.length === 0) {\n                            textBefore = this._getCharacterBeforePosition(position);\n                        }\n                        if (textBefore.length > 0) {\n                            return new TextAreaState(textBefore, textBefore.length, textBefore.length, Range.fromPositions(position), 0);\n                        }\n                    }\n                    // on macOS, write current selection into textarea will allow system text services pick selected text,\n                    // but we still want to limit the amount of text given Chromium handles very poorly text even of a few\n                    // thousand chars\n                    // (https://github.com/microsoft/vscode/issues/27799)\n                    const LIMIT_CHARS = 500;\n                    if (isMacintosh && !selection.isEmpty() && this._context.viewModel.getValueLengthInRange(selection, 0 /* EndOfLinePreference.TextDefined */) < LIMIT_CHARS) {\n                        const text = this._context.viewModel.getValueInRange(selection, 0 /* EndOfLinePreference.TextDefined */);\n                        return new TextAreaState(text, 0, text.length, selection, 0);\n                    }\n                    // on Safari, document.execCommand('cut') and document.execCommand('copy') will just not work\n                    // if the textarea has no content selected. So if there is an editor selection, ensure something\n                    // is selected in the textarea.\n                    if (isSafari && !selection.isEmpty()) {\n                        const placeholderText = 'vscode-placeholder';\n                        return new TextAreaState(placeholderText, 0, placeholderText.length, null, undefined);\n                    }\n                    return TextAreaState.EMPTY;\n                }\n                if (isAndroid) {\n                    // when tapping in the editor on a word, Android enters composition mode.\n                    // in the `compositionstart` event we cannot clear the textarea, because\n                    // it then forgets to ever send a `compositionend`.\n                    // we therefore only write the current word in the textarea\n                    const selection = this._selections[0];\n                    if (selection.isEmpty()) {\n                        const position = selection.getStartPosition();\n                        const [wordAtPosition, positionOffsetInWord] = this._getAndroidWordAtPosition(position);\n                        if (wordAtPosition.length > 0) {\n                            return new TextAreaState(wordAtPosition, positionOffsetInWord, positionOffsetInWord, Range.fromPositions(position), 0);\n                        }\n                    }\n                    return TextAreaState.EMPTY;\n                }\n                const screenReaderContentState = simplePagedScreenReaderStrategy.fromEditorSelection(this._context.viewModel, this._selections[0], this._accessibilityPageSize, this._accessibilitySupport === 0 /* AccessibilitySupport.Unknown */);\n                return TextAreaState.fromScreenReaderContentState(screenReaderContentState);\n            },\n            deduceModelPosition: (viewAnchorPosition, deltaOffset, lineFeedCnt) => {\n                return this._context.viewModel.deduceModelPositionRelativeToViewPosition(viewAnchorPosition, deltaOffset, lineFeedCnt);\n            }\n        };\n        const textAreaWrapper = this._register(new TextAreaWrapper(this.textArea.domNode));\n        this._textAreaInput = this._register(this._instantiationService.createInstance(TextAreaInput, textAreaInputHost, textAreaWrapper, OS, {\n            isAndroid: isAndroid,\n            isChrome: isChrome,\n            isFirefox: isFirefox,\n            isSafari: isSafari,\n        }));\n        this._register(this._textAreaInput.onKeyDown((e) => {\n            this._viewController.emitKeyDown(e);\n        }));\n        this._register(this._textAreaInput.onKeyUp((e) => {\n            this._viewController.emitKeyUp(e);\n        }));\n        this._register(this._textAreaInput.onPaste((e) => {\n            let pasteOnNewLine = false;\n            let multicursorText = null;\n            let mode = null;\n            if (e.metadata) {\n                pasteOnNewLine = (this._emptySelectionClipboard && !!e.metadata.isFromEmptySelection);\n                multicursorText = (typeof e.metadata.multicursorText !== 'undefined' ? e.metadata.multicursorText : null);\n                mode = e.metadata.mode;\n            }\n            this._viewController.paste(e.text, pasteOnNewLine, multicursorText, mode);\n        }));\n        this._register(this._textAreaInput.onCut(() => {\n            this._viewController.cut();\n        }));\n        this._register(this._textAreaInput.onType((e) => {\n            if (e.replacePrevCharCnt || e.replaceNextCharCnt || e.positionDelta) {\n                this._viewController.compositionType(e.text, e.replacePrevCharCnt, e.replaceNextCharCnt, e.positionDelta);\n            }\n            else {\n                this._viewController.type(e.text);\n            }\n        }));\n        this._register(this._textAreaInput.onSelectionChangeRequest((modelSelection) => {\n            this._viewController.setSelection(modelSelection);\n        }));\n        this._register(this._textAreaInput.onCompositionStart((e) => {\n            // The textarea might contain some content when composition starts.\n            //\n            // When we make the textarea visible, it always has a height of 1 line,\n            // so we don't need to worry too much about content on lines above or below\n            // the selection.\n            //\n            // However, the text on the current line needs to be made visible because\n            // some IME methods allow to move to other glyphs on the current line\n            // (by pressing arrow keys).\n            //\n            // (1) The textarea might contain only some parts of the current line,\n            // like the word before the selection. Also, the content inside the textarea\n            // can grow or shrink as composition occurs. We therefore anchor the textarea\n            // in terms of distance to a certain line start and line end.\n            //\n            // (2) Also, we should not make \\t characters visible, because their rendering\n            // inside the <textarea> will not align nicely with our rendering. We therefore\n            // will hide (if necessary) some of the leading text on the current line.\n            const ta = this.textArea.domNode;\n            const modelSelection = this._modelSelections[0];\n            const { distanceToModelLineStart, widthOfHiddenTextBefore } = (() => {\n                // Find the text that is on the current line before the selection\n                const textBeforeSelection = ta.value.substring(0, Math.min(ta.selectionStart, ta.selectionEnd));\n                const lineFeedOffset1 = textBeforeSelection.lastIndexOf('\\n');\n                const lineTextBeforeSelection = textBeforeSelection.substring(lineFeedOffset1 + 1);\n                // We now search to see if we should hide some part of it (if it contains \\t)\n                const tabOffset1 = lineTextBeforeSelection.lastIndexOf('\\t');\n                const desiredVisibleBeforeCharCount = lineTextBeforeSelection.length - tabOffset1 - 1;\n                const startModelPosition = modelSelection.getStartPosition();\n                const visibleBeforeCharCount = Math.min(startModelPosition.column - 1, desiredVisibleBeforeCharCount);\n                const distanceToModelLineStart = startModelPosition.column - 1 - visibleBeforeCharCount;\n                const hiddenLineTextBefore = lineTextBeforeSelection.substring(0, lineTextBeforeSelection.length - visibleBeforeCharCount);\n                const { tabSize } = this._context.viewModel.model.getOptions();\n                const widthOfHiddenTextBefore = measureText(this.textArea.domNode.ownerDocument, hiddenLineTextBefore, this._fontInfo, tabSize);\n                return { distanceToModelLineStart, widthOfHiddenTextBefore };\n            })();\n            const { distanceToModelLineEnd } = (() => {\n                // Find the text that is on the current line after the selection\n                const textAfterSelection = ta.value.substring(Math.max(ta.selectionStart, ta.selectionEnd));\n                const lineFeedOffset2 = textAfterSelection.indexOf('\\n');\n                const lineTextAfterSelection = lineFeedOffset2 === -1 ? textAfterSelection : textAfterSelection.substring(0, lineFeedOffset2);\n                const tabOffset2 = lineTextAfterSelection.indexOf('\\t');\n                const desiredVisibleAfterCharCount = (tabOffset2 === -1 ? lineTextAfterSelection.length : lineTextAfterSelection.length - tabOffset2 - 1);\n                const endModelPosition = modelSelection.getEndPosition();\n                const visibleAfterCharCount = Math.min(this._context.viewModel.model.getLineMaxColumn(endModelPosition.lineNumber) - endModelPosition.column, desiredVisibleAfterCharCount);\n                const distanceToModelLineEnd = this._context.viewModel.model.getLineMaxColumn(endModelPosition.lineNumber) - endModelPosition.column - visibleAfterCharCount;\n                return { distanceToModelLineEnd };\n            })();\n            // Scroll to reveal the location in the editor where composition occurs\n            this._context.viewModel.revealRange('keyboard', true, Range.fromPositions(this._selections[0].getStartPosition()), 0 /* viewEvents.VerticalRevealType.Simple */, 1 /* ScrollType.Immediate */);\n            this._visibleTextArea = new VisibleTextAreaData(this._context, modelSelection.startLineNumber, distanceToModelLineStart, widthOfHiddenTextBefore, distanceToModelLineEnd);\n            // We turn off wrapping if the <textarea> becomes visible for composition\n            this.textArea.setAttribute('wrap', this._textAreaWrapping && !this._visibleTextArea ? 'on' : 'off');\n            this._visibleTextArea.prepareRender(this._visibleRangeProvider);\n            this._render();\n            // Show the textarea\n            this.textArea.setClassName(`inputarea ${MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`);\n            this._viewController.compositionStart();\n            this._context.viewModel.onCompositionStart();\n        }));\n        this._register(this._textAreaInput.onCompositionUpdate((e) => {\n            if (!this._visibleTextArea) {\n                return;\n            }\n            this._visibleTextArea.prepareRender(this._visibleRangeProvider);\n            this._render();\n        }));\n        this._register(this._textAreaInput.onCompositionEnd(() => {\n            this._visibleTextArea = null;\n            // We turn on wrapping as necessary if the <textarea> hides after composition\n            this.textArea.setAttribute('wrap', this._textAreaWrapping && !this._visibleTextArea ? 'on' : 'off');\n            this._render();\n            this.textArea.setClassName(`inputarea ${MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`);\n            this._viewController.compositionEnd();\n            this._context.viewModel.onCompositionEnd();\n        }));\n        this._register(this._textAreaInput.onFocus(() => {\n            this._context.viewModel.setHasFocus(true);\n        }));\n        this._register(this._textAreaInput.onBlur(() => {\n            this._context.viewModel.setHasFocus(false);\n        }));\n        this._register(IME.onDidChange(() => {\n            this._ensureReadOnlyAttribute();\n        }));\n    }\n    get domNode() {\n        return this.textArea;\n    }\n    writeScreenReaderContent(reason) {\n        this._textAreaInput.writeNativeTextAreaContent(reason);\n    }\n    dispose() {\n        super.dispose();\n        this.textArea.domNode.remove();\n        this.textAreaCover.domNode.remove();\n    }\n    _getAndroidWordAtPosition(position) {\n        const ANDROID_WORD_SEPARATORS = '`~!@#$%^&*()-=+[{]}\\\\|;:\",.<>/?';\n        const lineContent = this._context.viewModel.getLineContent(position.lineNumber);\n        const wordSeparators = getMapForWordSeparators(ANDROID_WORD_SEPARATORS, []);\n        let goingLeft = true;\n        let startColumn = position.column;\n        let goingRight = true;\n        let endColumn = position.column;\n        let distance = 0;\n        while (distance < 50 && (goingLeft || goingRight)) {\n            if (goingLeft && startColumn <= 1) {\n                goingLeft = false;\n            }\n            if (goingLeft) {\n                const charCode = lineContent.charCodeAt(startColumn - 2);\n                const charClass = wordSeparators.get(charCode);\n                if (charClass !== 0 /* WordCharacterClass.Regular */) {\n                    goingLeft = false;\n                }\n                else {\n                    startColumn--;\n                }\n            }\n            if (goingRight && endColumn > lineContent.length) {\n                goingRight = false;\n            }\n            if (goingRight) {\n                const charCode = lineContent.charCodeAt(endColumn - 1);\n                const charClass = wordSeparators.get(charCode);\n                if (charClass !== 0 /* WordCharacterClass.Regular */) {\n                    goingRight = false;\n                }\n                else {\n                    endColumn++;\n                }\n            }\n            distance++;\n        }\n        return [lineContent.substring(startColumn - 1, endColumn - 1), position.column - startColumn];\n    }\n    _getWordBeforePosition(position) {\n        const lineContent = this._context.viewModel.getLineContent(position.lineNumber);\n        const wordSeparators = getMapForWordSeparators(this._context.configuration.options.get(148 /* EditorOption.wordSeparators */), []);\n        let column = position.column;\n        let distance = 0;\n        while (column > 1) {\n            const charCode = lineContent.charCodeAt(column - 2);\n            const charClass = wordSeparators.get(charCode);\n            if (charClass !== 0 /* WordCharacterClass.Regular */ || distance > 50) {\n                return lineContent.substring(column - 1, position.column - 1);\n            }\n            distance++;\n            column--;\n        }\n        return lineContent.substring(0, position.column - 1);\n    }\n    _getCharacterBeforePosition(position) {\n        if (position.column > 1) {\n            const lineContent = this._context.viewModel.getLineContent(position.lineNumber);\n            const charBefore = lineContent.charAt(position.column - 2);\n            if (!isHighSurrogate(charBefore.charCodeAt(0))) {\n                return charBefore;\n            }\n        }\n        return '';\n    }\n    _setAccessibilityOptions(options) {\n        this._accessibilitySupport = options.get(2 /* EditorOption.accessibilitySupport */);\n        const accessibilityPageSize = options.get(3 /* EditorOption.accessibilityPageSize */);\n        if (this._accessibilitySupport === 2 /* AccessibilitySupport.Enabled */ && accessibilityPageSize === EditorOptions.accessibilityPageSize.defaultValue) {\n            // If a screen reader is attached and the default value is not set we should automatically increase the page size to 500 for a better experience\n            this._accessibilityPageSize = 500;\n        }\n        else {\n            this._accessibilityPageSize = accessibilityPageSize;\n        }\n        // When wrapping is enabled and a screen reader might be attached,\n        // we will size the textarea to match the width used for wrapping points computation (see `domLineBreaksComputer.ts`).\n        // This is because screen readers will read the text in the textarea and we'd like that the\n        // wrapping points in the textarea match the wrapping points in the editor.\n        const layoutInfo = options.get(165 /* EditorOption.layoutInfo */);\n        const wrappingColumn = layoutInfo.wrappingColumn;\n        if (wrappingColumn !== -1 && this._accessibilitySupport !== 1 /* AccessibilitySupport.Disabled */) {\n            const fontInfo = options.get(59 /* EditorOption.fontInfo */);\n            this._textAreaWrapping = true;\n            this._textAreaWidth = Math.round(wrappingColumn * fontInfo.typicalHalfwidthCharacterWidth);\n        }\n        else {\n            this._textAreaWrapping = false;\n            this._textAreaWidth = (canUseZeroSizeTextarea ? 0 : 1);\n        }\n    }\n    // --- begin event handlers\n    onConfigurationChanged(e) {\n        const options = this._context.configuration.options;\n        const layoutInfo = options.get(165 /* EditorOption.layoutInfo */);\n        this._setAccessibilityOptions(options);\n        this._contentLeft = layoutInfo.contentLeft;\n        this._contentWidth = layoutInfo.contentWidth;\n        this._contentHeight = layoutInfo.height;\n        this._fontInfo = options.get(59 /* EditorOption.fontInfo */);\n        this._emptySelectionClipboard = options.get(45 /* EditorOption.emptySelectionClipboard */);\n        this._copyWithSyntaxHighlighting = options.get(31 /* EditorOption.copyWithSyntaxHighlighting */);\n        this.textArea.setAttribute('wrap', this._textAreaWrapping && !this._visibleTextArea ? 'on' : 'off');\n        const { tabSize } = this._context.viewModel.model.getOptions();\n        this.textArea.domNode.style.tabSize = `${tabSize * this._fontInfo.spaceWidth}px`;\n        this.textArea.setAttribute('aria-label', ariaLabelForScreenReaderContent(options, this._keybindingService));\n        this.textArea.setAttribute('aria-required', options.get(9 /* EditorOption.ariaRequired */) ? 'true' : 'false');\n        this.textArea.setAttribute('tabindex', String(options.get(140 /* EditorOption.tabIndex */)));\n        if (e.hasChanged(41 /* EditorOption.domReadOnly */) || e.hasChanged(104 /* EditorOption.readOnly */)) {\n            this._ensureReadOnlyAttribute();\n        }\n        if (e.hasChanged(2 /* EditorOption.accessibilitySupport */)) {\n            this._textAreaInput.writeNativeTextAreaContent('strategy changed');\n        }\n        return true;\n    }\n    onCursorStateChanged(e) {\n        this._selections = e.selections.slice(0);\n        this._modelSelections = e.modelSelections.slice(0);\n        // We must update the <textarea> synchronously, otherwise long press IME on macos breaks.\n        // See https://github.com/microsoft/vscode/issues/165821\n        this._textAreaInput.writeNativeTextAreaContent('selection changed');\n        return true;\n    }\n    onDecorationsChanged(e) {\n        // true for inline decorations that can end up relayouting text\n        return true;\n    }\n    onFlushed(e) {\n        return true;\n    }\n    onLinesChanged(e) {\n        return true;\n    }\n    onLinesDeleted(e) {\n        return true;\n    }\n    onLinesInserted(e) {\n        return true;\n    }\n    onScrollChanged(e) {\n        this._scrollLeft = e.scrollLeft;\n        this._scrollTop = e.scrollTop;\n        return true;\n    }\n    onZonesChanged(e) {\n        return true;\n    }\n    // --- end event handlers\n    // --- begin view API\n    isFocused() {\n        return this._textAreaInput.isFocused();\n    }\n    focus() {\n        this._textAreaInput.focusTextArea();\n    }\n    refreshFocusState() {\n        this._textAreaInput.refreshFocusState();\n    }\n    getLastRenderData() {\n        return this._lastRenderPosition;\n    }\n    setAriaOptions(options) {\n        if (options.activeDescendant) {\n            this.textArea.setAttribute('aria-haspopup', 'true');\n            this.textArea.setAttribute('aria-autocomplete', 'list');\n            this.textArea.setAttribute('aria-activedescendant', options.activeDescendant);\n        }\n        else {\n            this.textArea.setAttribute('aria-haspopup', 'false');\n            this.textArea.setAttribute('aria-autocomplete', 'both');\n            this.textArea.removeAttribute('aria-activedescendant');\n        }\n        if (options.role) {\n            this.textArea.setAttribute('role', options.role);\n        }\n    }\n    // --- end view API\n    _ensureReadOnlyAttribute() {\n        const options = this._context.configuration.options;\n        // When someone requests to disable IME, we set the \"readonly\" attribute on the <textarea>.\n        // This will prevent composition.\n        const useReadOnly = !IME.enabled || (options.get(41 /* EditorOption.domReadOnly */) && options.get(104 /* EditorOption.readOnly */));\n        if (useReadOnly) {\n            this.textArea.setAttribute('readonly', 'true');\n        }\n        else {\n            this.textArea.removeAttribute('readonly');\n        }\n    }\n    prepareRender(ctx) {\n        this._primaryCursorPosition = new Position(this._selections[0].positionLineNumber, this._selections[0].positionColumn);\n        this._primaryCursorVisibleRange = ctx.visibleRangeForPosition(this._primaryCursorPosition);\n        this._visibleTextArea?.prepareRender(ctx);\n    }\n    render(ctx) {\n        this._textAreaInput.writeNativeTextAreaContent('render');\n        this._render();\n    }\n    _render() {\n        if (this._visibleTextArea) {\n            // The text area is visible for composition reasons\n            const visibleStart = this._visibleTextArea.visibleTextareaStart;\n            const visibleEnd = this._visibleTextArea.visibleTextareaEnd;\n            const startPosition = this._visibleTextArea.startPosition;\n            const endPosition = this._visibleTextArea.endPosition;\n            if (startPosition && endPosition && visibleStart && visibleEnd && visibleEnd.left >= this._scrollLeft && visibleStart.left <= this._scrollLeft + this._contentWidth) {\n                const top = (this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber) - this._scrollTop);\n                const lineCount = newlinecount(this.textArea.domNode.value.substr(0, this.textArea.domNode.selectionStart));\n                let scrollLeft = this._visibleTextArea.widthOfHiddenLineTextBefore;\n                let left = (this._contentLeft + visibleStart.left - this._scrollLeft);\n                // See https://github.com/microsoft/vscode/issues/141725#issuecomment-1050670841\n                // Here we are adding +1 to avoid flickering that might be caused by having a width that is too small.\n                // This could be caused by rounding errors that might only show up with certain font families.\n                // In other words, a pixel might be lost when doing something like\n                //      `Math.round(end) - Math.round(start)`\n                // vs\n                //      `Math.round(end - start)`\n                let width = visibleEnd.left - visibleStart.left + 1;\n                if (left < this._contentLeft) {\n                    // the textarea would be rendered on top of the margin,\n                    // so reduce its width. We use the same technique as\n                    // for hiding text before\n                    const delta = (this._contentLeft - left);\n                    left += delta;\n                    scrollLeft += delta;\n                    width -= delta;\n                }\n                if (width > this._contentWidth) {\n                    // the textarea would be wider than the content width,\n                    // so reduce its width.\n                    width = this._contentWidth;\n                }\n                // Try to render the textarea with the color/font style to match the text under it\n                const lineHeight = this._context.viewLayout.getLineHeightForLineNumber(startPosition.lineNumber);\n                const fontSize = this._context.viewModel.getFontSizeAtPosition(this._primaryCursorPosition);\n                const viewLineData = this._context.viewModel.getViewLineData(startPosition.lineNumber);\n                const startTokenIndex = viewLineData.tokens.findTokenIndexAtOffset(startPosition.column - 1);\n                const endTokenIndex = viewLineData.tokens.findTokenIndexAtOffset(endPosition.column - 1);\n                const textareaSpansSingleToken = (startTokenIndex === endTokenIndex);\n                const presentation = this._visibleTextArea.definePresentation((textareaSpansSingleToken ? viewLineData.tokens.getPresentation(startTokenIndex) : null));\n                this.textArea.domNode.scrollTop = lineCount * lineHeight;\n                this.textArea.domNode.scrollLeft = scrollLeft;\n                this._doRender({\n                    lastRenderPosition: null,\n                    top: top,\n                    left: left,\n                    width: width,\n                    height: lineHeight,\n                    useCover: false,\n                    color: (TokenizationRegistry.getColorMap() || [])[presentation.foreground],\n                    italic: presentation.italic,\n                    bold: presentation.bold,\n                    underline: presentation.underline,\n                    strikethrough: presentation.strikethrough,\n                    fontSize\n                });\n            }\n            return;\n        }\n        if (!this._primaryCursorVisibleRange) {\n            // The primary cursor is outside the viewport => place textarea to the top left\n            this._renderAtTopLeft();\n            return;\n        }\n        const left = this._contentLeft + this._primaryCursorVisibleRange.left - this._scrollLeft;\n        if (left < this._contentLeft || left > this._contentLeft + this._contentWidth) {\n            // cursor is outside the viewport\n            this._renderAtTopLeft();\n            return;\n        }\n        const top = this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber) - this._scrollTop;\n        if (top < 0 || top > this._contentHeight) {\n            // cursor is outside the viewport\n            this._renderAtTopLeft();\n            return;\n        }\n        // The primary cursor is in the viewport (at least vertically) => place textarea on the cursor\n        if (isMacintosh || this._accessibilitySupport === 2 /* AccessibilitySupport.Enabled */) {\n            // For the popup emoji input, we will make the text area as high as the line height\n            // We will also make the fontSize and lineHeight the correct dimensions to help with the placement of these pickers\n            const lineNumber = this._primaryCursorPosition.lineNumber;\n            const lineHeight = this._context.viewLayout.getLineHeightForLineNumber(lineNumber);\n            this._doRender({\n                lastRenderPosition: this._primaryCursorPosition,\n                top,\n                left: this._textAreaWrapping ? this._contentLeft : left,\n                width: this._textAreaWidth,\n                height: lineHeight,\n                useCover: false\n            });\n            // In case the textarea contains a word, we're going to try to align the textarea's cursor\n            // with our cursor by scrolling the textarea as much as possible\n            this.textArea.domNode.scrollLeft = this._primaryCursorVisibleRange.left;\n            const lineCount = this._textAreaInput.textAreaState.newlineCountBeforeSelection ?? newlinecount(this.textArea.domNode.value.substring(0, this.textArea.domNode.selectionStart));\n            this.textArea.domNode.scrollTop = lineCount * lineHeight;\n            return;\n        }\n        this._doRender({\n            lastRenderPosition: this._primaryCursorPosition,\n            top: top,\n            left: this._textAreaWrapping ? this._contentLeft : left,\n            width: this._textAreaWidth,\n            height: (canUseZeroSizeTextarea ? 0 : 1),\n            useCover: false\n        });\n    }\n    _renderAtTopLeft() {\n        // (in WebKit the textarea is 1px by 1px because it cannot handle input to a 0x0 textarea)\n        // specifically, when doing Korean IME, setting the textarea to 0x0 breaks IME badly.\n        this._doRender({\n            lastRenderPosition: null,\n            top: 0,\n            left: 0,\n            width: this._textAreaWidth,\n            height: (canUseZeroSizeTextarea ? 0 : 1),\n            useCover: true\n        });\n    }\n    _doRender(renderData) {\n        this._lastRenderPosition = renderData.lastRenderPosition;\n        const ta = this.textArea;\n        const tac = this.textAreaCover;\n        applyFontInfo(ta, this._fontInfo);\n        ta.setTop(renderData.top);\n        ta.setLeft(renderData.left);\n        ta.setWidth(renderData.width);\n        ta.setHeight(renderData.height);\n        ta.setLineHeight(renderData.height);\n        ta.setFontSize(renderData.fontSize ?? this._fontInfo.fontSize);\n        ta.setColor(renderData.color ? Color.Format.CSS.formatHex(renderData.color) : '');\n        ta.setFontStyle(renderData.italic ? 'italic' : '');\n        if (renderData.bold) {\n            // fontWeight is also set by `applyFontInfo`, so only overwrite it if necessary\n            ta.setFontWeight('bold');\n        }\n        ta.setTextDecoration(`${renderData.underline ? ' underline' : ''}${renderData.strikethrough ? ' line-through' : ''}`);\n        tac.setTop(renderData.useCover ? renderData.top : 0);\n        tac.setLeft(renderData.useCover ? renderData.left : 0);\n        tac.setWidth(renderData.useCover ? renderData.width : 0);\n        tac.setHeight(renderData.useCover ? renderData.height : 0);\n        const options = this._context.configuration.options;\n        if (options.get(66 /* EditorOption.glyphMargin */)) {\n            tac.setClassName('monaco-editor-background textAreaCover ' + Margin.OUTER_CLASS_NAME);\n        }\n        else {\n            if (options.get(76 /* EditorOption.lineNumbers */).renderType !== 0 /* RenderLineNumbersType.Off */) {\n                tac.setClassName('monaco-editor-background textAreaCover ' + LineNumbersOverlay.CLASS_NAME);\n            }\n            else {\n                tac.setClassName('monaco-editor-background textAreaCover');\n            }\n        }\n    }\n};\nTextAreaEditContext = __decorate([\n    __param(4, IKeybindingService),\n    __param(5, IInstantiationService)\n], TextAreaEditContext);\nfunction measureText(targetDocument, text, fontInfo, tabSize) {\n    if (text.length === 0) {\n        return 0;\n    }\n    const container = targetDocument.createElement('div');\n    container.style.position = 'absolute';\n    container.style.top = '-50000px';\n    container.style.width = '50000px';\n    const regularDomNode = targetDocument.createElement('span');\n    applyFontInfo(regularDomNode, fontInfo);\n    regularDomNode.style.whiteSpace = 'pre'; // just like the textarea\n    regularDomNode.style.tabSize = `${tabSize * fontInfo.spaceWidth}px`; // just like the textarea\n    regularDomNode.append(text);\n    container.appendChild(regularDomNode);\n    targetDocument.body.appendChild(container);\n    const res = regularDomNode.offsetWidth;\n    container.remove();\n    return res;\n}\n\nexport { TextAreaEditContext };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3696, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/browser/controller/editContext/native/nativeEditContextUtils.js"],"sourcesContent":["import { addDisposableListener, getShadowRoot, getActiveElement } from '../../../../../base/browser/dom.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { ILogService } from '../../../../../platform/log/common/log.js';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nlet FocusTracker = class FocusTracker extends Disposable {\n    constructor(_logService, _domNode, _onFocusChange) {\n        super();\n        this._domNode = _domNode;\n        this._onFocusChange = _onFocusChange;\n        this._isFocused = false;\n        this._isPaused = false;\n        this._register(addDisposableListener(this._domNode, 'focus', () => {\n            _logService.trace('NativeEditContext.focus');\n            if (this._isPaused) {\n                return;\n            }\n            // Here we don't trust the browser and instead we check\n            // that the active element is the one we are tracking\n            // (this happens when cmd+tab is used to switch apps)\n            this.refreshFocusState();\n        }));\n        this._register(addDisposableListener(this._domNode, 'blur', () => {\n            _logService.trace('NativeEditContext.blur');\n            if (this._isPaused) {\n                return;\n            }\n            this._handleFocusedChanged(false);\n        }));\n    }\n    pause() {\n        this._isPaused = true;\n    }\n    resume() {\n        this._isPaused = false;\n        this.refreshFocusState();\n    }\n    _handleFocusedChanged(focused) {\n        if (this._isFocused === focused) {\n            return;\n        }\n        this._isFocused = focused;\n        this._onFocusChange(this._isFocused);\n    }\n    focus() {\n        this._domNode.focus();\n        this.refreshFocusState();\n    }\n    refreshFocusState() {\n        const shadowRoot = getShadowRoot(this._domNode);\n        const activeElement = shadowRoot ? shadowRoot.activeElement : getActiveElement();\n        const focused = this._domNode === activeElement;\n        this._handleFocusedChanged(focused);\n    }\n    get isFocused() {\n        return this._isFocused;\n    }\n};\nFocusTracker = __decorate([\n    __param(0, ILogService)\n], FocusTracker);\nfunction editContextAddDisposableListener(target, type, listener, options) {\n    // eslint-disable-next-line local/code-no-any-casts, @typescript-eslint/no-explicit-any\n    target.addEventListener(type, listener, options);\n    return {\n        dispose() {\n            // eslint-disable-next-line local/code-no-any-casts, @typescript-eslint/no-explicit-any\n            target.removeEventListener(type, listener);\n        }\n    };\n}\n\nexport { FocusTracker, editContextAddDisposableListener };\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEA;;;8FAG8F,GAC9F,IAAI,aAAa,AAAC,aAAa,UAAU,UAAU,IAAK,SAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI;IAC3F,IAAI,IAAI,UAAU,MAAM,EAAE,IAAI,IAAI,IAAI,SAAS,SAAS,OAAO,OAAO,OAAO,wBAAwB,CAAC,QAAQ,OAAO,MAAM;IAC3H,IAAI,OAAO,YAAY,YAAY,OAAO,QAAQ,QAAQ,KAAK,YAAY,IAAI,QAAQ,QAAQ,CAAC,YAAY,QAAQ,KAAK;SACpH,IAAK,IAAI,IAAI,WAAW,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK,IAAI,IAAI,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,IAAI,EAAE,KAAK,IAAI,IAAI,EAAE,QAAQ,KAAK,KAAK,EAAE,QAAQ,IAAI,KAAK;IAChJ,OAAO,IAAI,KAAK,KAAK,OAAO,cAAc,CAAC,QAAQ,KAAK,IAAI;AAChE;AACA,IAAI,UAAU,AAAC,aAAa,UAAU,OAAO,IAAK,SAAU,UAAU,EAAE,SAAS;IAC7E,OAAO,SAAU,MAAM,EAAE,GAAG;QAAI,UAAU,QAAQ,KAAK;IAAa;AACxE;AACA,IAAI,eAAe,MAAM,qBAAqB,2PAAU;IACpD,YAAY,WAAW,EAAE,QAAQ,EAAE,cAAc,CAAE;QAC/C,KAAK;QACL,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,cAAc,GAAG;QACtB,IAAI,CAAC,UAAU,GAAG;QAClB,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,SAAS,CAAC,IAAA,iQAAqB,EAAC,IAAI,CAAC,QAAQ,EAAE,SAAS;YACzD,YAAY,KAAK,CAAC;YAClB,IAAI,IAAI,CAAC,SAAS,EAAE;gBAChB;YACJ;YACA,uDAAuD;YACvD,qDAAqD;YACrD,qDAAqD;YACrD,IAAI,CAAC,iBAAiB;QAC1B;QACA,IAAI,CAAC,SAAS,CAAC,IAAA,iQAAqB,EAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ;YACxD,YAAY,KAAK,CAAC;YAClB,IAAI,IAAI,CAAC,SAAS,EAAE;gBAChB;YACJ;YACA,IAAI,CAAC,qBAAqB,CAAC;QAC/B;IACJ;IACA,QAAQ;QACJ,IAAI,CAAC,SAAS,GAAG;IACrB;IACA,SAAS;QACL,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,iBAAiB;IAC1B;IACA,sBAAsB,OAAO,EAAE;QAC3B,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS;YAC7B;QACJ;QACA,IAAI,CAAC,UAAU,GAAG;QAClB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU;IACvC;IACA,QAAQ;QACJ,IAAI,CAAC,QAAQ,CAAC,KAAK;QACnB,IAAI,CAAC,iBAAiB;IAC1B;IACA,oBAAoB;QAChB,MAAM,aAAa,IAAA,yPAAa,EAAC,IAAI,CAAC,QAAQ;QAC9C,MAAM,gBAAgB,aAAa,WAAW,aAAa,GAAG,IAAA,4PAAgB;QAC9E,MAAM,UAAU,IAAI,CAAC,QAAQ,KAAK;QAClC,IAAI,CAAC,qBAAqB,CAAC;IAC/B;IACA,IAAI,YAAY;QACZ,OAAO,IAAI,CAAC,UAAU;IAC1B;AACJ;AACA,eAAe,WAAW;IACtB,QAAQ,GAAG,iQAAW;CACzB,EAAE;AACH,SAAS,iCAAiC,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO;IACrE,uFAAuF;IACvF,OAAO,gBAAgB,CAAC,MAAM,UAAU;IACxC,OAAO;QACH;YACI,uFAAuF;YACvF,OAAO,mBAAmB,CAAC,MAAM;QACrC;IACJ;AACJ","ignoreList":[0]}},
    {"offset": {"line": 3793, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/browser/controller/editContext/native/screenReaderContentRich.js"],"sourcesContent":["import { getActiveWindow, addDisposableListener, isHTMLElement } from '../../../../../base/browser/dom.js';\nimport { createTrustedTypesPolicy } from '../../../../../base/browser/trustedTypes.js';\nimport { IAccessibilityService } from '../../../../../platform/accessibility/common/accessibility.js';\nimport { EditorFontLigatures } from '../../../../common/config/editorOptions.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { Selection } from '../../../../common/core/selection.js';\nimport { StringBuilder } from '../../../../common/core/stringBuilder.js';\nimport { LineDecoration } from '../../../../common/viewLayout/lineDecorations.js';\nimport { RenderLineInput, renderViewLine } from '../../../../common/viewLayout/viewLineRenderer.js';\nimport { Disposable, MutableDisposable } from '../../../../../base/common/lifecycle.js';\nimport { IME } from '../../../../../base/common/ime.js';\nimport { getColumnOfNodeOffset } from '../../../viewParts/viewLines/viewLine.js';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nconst ttPolicy = createTrustedTypesPolicy('richScreenReaderContent', { createHTML: value => value });\nconst LINE_NUMBER_ATTRIBUTE = 'data-line-number';\nlet RichScreenReaderContent = class RichScreenReaderContent extends Disposable {\n    constructor(_domNode, _context, _viewController, _accessibilityService) {\n        super();\n        this._domNode = _domNode;\n        this._context = _context;\n        this._viewController = _viewController;\n        this._accessibilityService = _accessibilityService;\n        this._selectionChangeListener = this._register(new MutableDisposable());\n        this._accessibilityPageSize = 1;\n        this._ignoreSelectionChangeTime = 0;\n        this._state = RichScreenReaderState.NULL;\n        this._strategy = new RichPagedScreenReaderStrategy();\n        this._renderedLines = new Map();\n        this._renderedSelection = new Selection(1, 1, 1, 1);\n        this.onConfigurationChanged(this._context.configuration.options);\n    }\n    updateScreenReaderContent(primarySelection) {\n        const focusedElement = getActiveWindow().document.activeElement;\n        if (!focusedElement || focusedElement !== this._domNode.domNode) {\n            return;\n        }\n        const isScreenReaderOptimized = this._accessibilityService.isScreenReaderOptimized();\n        if (isScreenReaderOptimized) {\n            const state = this._getScreenReaderContentLineIntervals(primarySelection);\n            if (!this._state.equals(state)) {\n                this._state = state;\n                this._renderedLines = this._renderScreenReaderContent(state);\n            }\n            if (!this._renderedSelection.equalsSelection(primarySelection)) {\n                this._renderedSelection = primarySelection;\n                this._setSelectionOnScreenReaderContent(this._context, this._renderedLines, primarySelection);\n            }\n        }\n        else {\n            this._state = RichScreenReaderState.NULL;\n            this._setIgnoreSelectionChangeTime('setValue');\n            this._domNode.domNode.textContent = '';\n        }\n    }\n    updateScrollTop(primarySelection) {\n        const intervals = this._state.intervals;\n        if (!intervals.length) {\n            return;\n        }\n        const viewLayout = this._context.viewModel.viewLayout;\n        const stateStartLineNumber = intervals[0].startLine;\n        const verticalOffsetOfStateStartLineNumber = viewLayout.getVerticalOffsetForLineNumber(stateStartLineNumber);\n        const verticalOffsetOfPositionLineNumber = viewLayout.getVerticalOffsetForLineNumber(primarySelection.positionLineNumber);\n        this._domNode.domNode.scrollTop = verticalOffsetOfPositionLineNumber - verticalOffsetOfStateStartLineNumber;\n    }\n    onFocusChange(newFocusValue) {\n        if (newFocusValue) {\n            this._selectionChangeListener.value = this._setSelectionChangeListener();\n        }\n        else {\n            this._selectionChangeListener.value = undefined;\n        }\n    }\n    onConfigurationChanged(options) {\n        this._accessibilityPageSize = options.get(3 /* EditorOption.accessibilityPageSize */);\n    }\n    onWillCut() {\n        this._setIgnoreSelectionChangeTime('onCut');\n    }\n    onWillPaste() {\n        this._setIgnoreSelectionChangeTime('onWillPaste');\n    }\n    // --- private methods\n    _setIgnoreSelectionChangeTime(reason) {\n        this._ignoreSelectionChangeTime = Date.now();\n    }\n    _setSelectionChangeListener() {\n        // See https://github.com/microsoft/vscode/issues/27216 and https://github.com/microsoft/vscode/issues/98256\n        // When using a Braille display or NVDA for example, it is possible for users to reposition the\n        // system caret. This is reflected in Chrome as a `selectionchange` event and needs to be reflected within the editor.\n        // `selectionchange` events often come multiple times for a single logical change\n        // so throttle multiple `selectionchange` events that burst in a short period of time.\n        let previousSelectionChangeEventTime = 0;\n        return addDisposableListener(this._domNode.domNode.ownerDocument, 'selectionchange', () => {\n            const activeElement = getActiveWindow().document.activeElement;\n            const isFocused = activeElement === this._domNode.domNode;\n            if (!isFocused) {\n                return;\n            }\n            const isScreenReaderOptimized = this._accessibilityService.isScreenReaderOptimized();\n            if (!isScreenReaderOptimized || !IME.enabled) {\n                return;\n            }\n            const now = Date.now();\n            const delta1 = now - previousSelectionChangeEventTime;\n            previousSelectionChangeEventTime = now;\n            if (delta1 < 5) {\n                // received another `selectionchange` event within 5ms of the previous `selectionchange` event\n                // => ignore it\n                return;\n            }\n            const delta2 = now - this._ignoreSelectionChangeTime;\n            this._ignoreSelectionChangeTime = 0;\n            if (delta2 < 100) {\n                // received a `selectionchange` event within 100ms since we touched the hidden div\n                // => ignore it, since we caused it\n                return;\n            }\n            const selection = this._getEditorSelectionFromDomRange();\n            if (!selection) {\n                return;\n            }\n            this._viewController.setSelection(selection);\n        });\n    }\n    _renderScreenReaderContent(state) {\n        const nodes = [];\n        const renderedLines = new Map();\n        for (const interval of state.intervals) {\n            for (let lineNumber = interval.startLine; lineNumber <= interval.endLine; lineNumber++) {\n                const renderedLine = this._renderLine(lineNumber);\n                renderedLines.set(lineNumber, renderedLine);\n                nodes.push(renderedLine.domNode);\n            }\n        }\n        this._setIgnoreSelectionChangeTime('setValue');\n        this._domNode.domNode.replaceChildren(...nodes);\n        return renderedLines;\n    }\n    _renderLine(viewLineNumber) {\n        const viewModel = this._context.viewModel;\n        const positionLineData = viewModel.getViewLineRenderingData(viewLineNumber);\n        const options = this._context.configuration.options;\n        const fontInfo = options.get(59 /* EditorOption.fontInfo */);\n        const stopRenderingLineAfter = options.get(133 /* EditorOption.stopRenderingLineAfter */);\n        const renderControlCharacters = options.get(108 /* EditorOption.renderControlCharacters */);\n        const fontLigatures = options.get(60 /* EditorOption.fontLigatures */);\n        const disableMonospaceOptimizations = options.get(40 /* EditorOption.disableMonospaceOptimizations */);\n        const lineDecorations = LineDecoration.filter(positionLineData.inlineDecorations, viewLineNumber, positionLineData.minColumn, positionLineData.maxColumn);\n        const useMonospaceOptimizations = fontInfo.isMonospace && !disableMonospaceOptimizations;\n        const useFontLigatures = fontLigatures !== EditorFontLigatures.OFF;\n        let renderWhitespace;\n        const experimentalWhitespaceRendering = options.get(47 /* EditorOption.experimentalWhitespaceRendering */);\n        if (experimentalWhitespaceRendering === 'off') {\n            renderWhitespace = options.get(113 /* EditorOption.renderWhitespace */);\n        }\n        else {\n            renderWhitespace = 'none';\n        }\n        const renderLineInput = new RenderLineInput(useMonospaceOptimizations, fontInfo.canUseHalfwidthRightwardsArrow, positionLineData.content, positionLineData.continuesWithWrappedLine, positionLineData.isBasicASCII, positionLineData.containsRTL, positionLineData.minColumn - 1, positionLineData.tokens, lineDecorations, positionLineData.tabSize, positionLineData.startVisibleColumn, fontInfo.spaceWidth, fontInfo.middotWidth, fontInfo.wsmiddotWidth, stopRenderingLineAfter, renderWhitespace, renderControlCharacters, useFontLigatures, null, null, 0, true);\n        const htmlBuilder = new StringBuilder(10000);\n        const renderOutput = renderViewLine(renderLineInput, htmlBuilder);\n        const html = htmlBuilder.build();\n        const trustedhtml = ttPolicy?.createHTML(html) ?? html;\n        const lineHeight = viewModel.viewLayout.getLineHeightForLineNumber(viewLineNumber) + 'px';\n        const domNode = document.createElement('div');\n        domNode.innerHTML = trustedhtml;\n        domNode.style.lineHeight = lineHeight;\n        domNode.style.height = lineHeight;\n        domNode.setAttribute(LINE_NUMBER_ATTRIBUTE, viewLineNumber.toString());\n        return new RichRenderedScreenReaderLine(domNode, renderOutput.characterMapping);\n    }\n    _setSelectionOnScreenReaderContent(context, renderedLines, viewSelection) {\n        const activeDocument = getActiveWindow().document;\n        const activeDocumentSelection = activeDocument.getSelection();\n        if (!activeDocumentSelection) {\n            return;\n        }\n        const startLineNumber = viewSelection.startLineNumber;\n        const endLineNumber = viewSelection.endLineNumber;\n        const startRenderedLine = renderedLines.get(startLineNumber);\n        const endRenderedLine = renderedLines.get(endLineNumber);\n        if (!startRenderedLine || !endRenderedLine) {\n            return;\n        }\n        const viewModel = context.viewModel;\n        const model = viewModel.model;\n        const coordinatesConverter = viewModel.coordinatesConverter;\n        const startRange = new Range(startLineNumber, 1, startLineNumber, viewSelection.selectionStartColumn);\n        const modelStartRange = coordinatesConverter.convertViewRangeToModelRange(startRange);\n        const characterCountForStart = model.getCharacterCountInRange(modelStartRange);\n        const endRange = new Range(endLineNumber, 1, endLineNumber, viewSelection.positionColumn);\n        const modelEndRange = coordinatesConverter.convertViewRangeToModelRange(endRange);\n        const characterCountForEnd = model.getCharacterCountInRange(modelEndRange);\n        const startDomPosition = startRenderedLine.characterMapping.getDomPosition(characterCountForStart);\n        const endDomPosition = endRenderedLine.characterMapping.getDomPosition(characterCountForEnd);\n        const startDomNode = startRenderedLine.domNode.firstChild;\n        const endDomNode = endRenderedLine.domNode.firstChild;\n        const startChildren = startDomNode.childNodes;\n        const endChildren = endDomNode.childNodes;\n        const startNode = startChildren.item(startDomPosition.partIndex);\n        const endNode = endChildren.item(endDomPosition.partIndex);\n        if (!startNode.firstChild || !endNode.firstChild) {\n            return;\n        }\n        this._setIgnoreSelectionChangeTime('setRange');\n        activeDocumentSelection.setBaseAndExtent(startNode.firstChild, viewSelection.startColumn === 1 ? 0 : startDomPosition.charIndex + 1, endNode.firstChild, viewSelection.endColumn === 1 ? 0 : endDomPosition.charIndex + 1);\n    }\n    _getScreenReaderContentLineIntervals(primarySelection) {\n        return this._strategy.fromEditorSelection(this._context.viewModel, primarySelection, this._accessibilityPageSize);\n    }\n    _getEditorSelectionFromDomRange() {\n        if (!this._renderedLines) {\n            return;\n        }\n        const selection = getActiveWindow().document.getSelection();\n        if (!selection) {\n            return;\n        }\n        const rangeCount = selection.rangeCount;\n        if (rangeCount === 0) {\n            return;\n        }\n        const range = selection.getRangeAt(0);\n        const startContainer = range.startContainer;\n        const endContainer = range.endContainer;\n        const startSpanElement = startContainer.parentElement;\n        const endSpanElement = endContainer.parentElement;\n        if (!startSpanElement || !isHTMLElement(startSpanElement) || !endSpanElement || !isHTMLElement(endSpanElement)) {\n            return;\n        }\n        const startLineDomNode = startSpanElement.parentElement?.parentElement;\n        const endLineDomNode = endSpanElement.parentElement?.parentElement;\n        if (!startLineDomNode || !endLineDomNode) {\n            return;\n        }\n        const startLineNumberAttribute = startLineDomNode.getAttribute(LINE_NUMBER_ATTRIBUTE);\n        const endLineNumberAttribute = endLineDomNode.getAttribute(LINE_NUMBER_ATTRIBUTE);\n        if (!startLineNumberAttribute || !endLineNumberAttribute) {\n            return;\n        }\n        const startLineNumber = parseInt(startLineNumberAttribute);\n        const endLineNumber = parseInt(endLineNumberAttribute);\n        const startMapping = this._renderedLines.get(startLineNumber)?.characterMapping;\n        const endMapping = this._renderedLines.get(endLineNumber)?.characterMapping;\n        if (!startMapping || !endMapping) {\n            return;\n        }\n        const startColumn = getColumnOfNodeOffset(startMapping, startSpanElement, range.startOffset);\n        const endColumn = getColumnOfNodeOffset(endMapping, endSpanElement, range.endOffset);\n        if (selection.direction === 'forward') {\n            return new Selection(startLineNumber, startColumn, endLineNumber, endColumn);\n        }\n        else {\n            return new Selection(endLineNumber, endColumn, startLineNumber, startColumn);\n        }\n    }\n};\nRichScreenReaderContent = __decorate([\n    __param(3, IAccessibilityService)\n], RichScreenReaderContent);\nclass RichRenderedScreenReaderLine {\n    constructor(domNode, characterMapping) {\n        this.domNode = domNode;\n        this.characterMapping = characterMapping;\n    }\n}\nclass LineInterval {\n    constructor(startLine, endLine) {\n        this.startLine = startLine;\n        this.endLine = endLine;\n    }\n}\nclass RichScreenReaderState {\n    constructor(model, intervals) {\n        this.intervals = intervals;\n        let value = '';\n        for (const interval of intervals) {\n            for (let lineNumber = interval.startLine; lineNumber <= interval.endLine; lineNumber++) {\n                value += model.getLineContent(lineNumber) + '\\n';\n            }\n        }\n        this.value = value;\n    }\n    equals(other) {\n        return this.value === other.value;\n    }\n    static get NULL() {\n        const nullModel = {\n            getLineContent: () => '',\n            getLineCount: () => 1,\n            getLineMaxColumn: () => 1,\n            getValueInRange: () => '',\n            getValueLengthInRange: () => 0,\n            modifyPosition: (position, offset) => position\n        };\n        return new RichScreenReaderState(nullModel, []);\n    }\n}\nclass RichPagedScreenReaderStrategy {\n    constructor() { }\n    _getPageOfLine(lineNumber, linesPerPage) {\n        return Math.floor((lineNumber - 1) / linesPerPage);\n    }\n    _getRangeForPage(context, page, linesPerPage) {\n        const offset = page * linesPerPage;\n        const startLineNumber = offset + 1;\n        const endLineNumber = Math.min(offset + linesPerPage, context.getLineCount());\n        return new LineInterval(startLineNumber, endLineNumber);\n    }\n    fromEditorSelection(context, viewSelection, linesPerPage) {\n        const selectionStartPage = this._getPageOfLine(viewSelection.startLineNumber, linesPerPage);\n        const selectionStartPageRange = this._getRangeForPage(context, selectionStartPage, linesPerPage);\n        const selectionEndPage = this._getPageOfLine(viewSelection.endLineNumber, linesPerPage);\n        const selectionEndPageRange = this._getRangeForPage(context, selectionEndPage, linesPerPage);\n        const lineIntervals = [{ startLine: selectionStartPageRange.startLine, endLine: selectionStartPageRange.endLine }];\n        if (selectionStartPage + 1 < selectionEndPage) {\n            lineIntervals.push({ startLine: selectionEndPageRange.startLine, endLine: selectionEndPageRange.endLine });\n        }\n        return new RichScreenReaderState(context, lineIntervals);\n    }\n}\n\nexport { RichScreenReaderContent };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4155, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/browser/controller/editContext/native/screenReaderContentSimple.js"],"sourcesContent":["import { getActiveWindow, addDisposableListener } from '../../../../../base/browser/dom.js';\nimport { IAccessibilityService } from '../../../../../platform/accessibility/common/accessibility.js';\nimport { Selection } from '../../../../common/core/selection.js';\nimport { SimplePagedScreenReaderStrategy } from '../screenReaderUtils.js';\nimport '../../../../common/core/text/positionToOffset.js';\nimport { Disposable, MutableDisposable } from '../../../../../base/common/lifecycle.js';\nimport { IME } from '../../../../../base/common/ime.js';\nimport { PositionOffsetTransformer } from '../../../../common/core/text/positionToOffsetImpl.js';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nlet SimpleScreenReaderContent = class SimpleScreenReaderContent extends Disposable {\n    constructor(_domNode, _context, _viewController, _accessibilityService) {\n        super();\n        this._domNode = _domNode;\n        this._context = _context;\n        this._viewController = _viewController;\n        this._accessibilityService = _accessibilityService;\n        this._selectionChangeListener = this._register(new MutableDisposable());\n        this._accessibilityPageSize = 1;\n        this._ignoreSelectionChangeTime = 0;\n        this._strategy = new SimplePagedScreenReaderStrategy();\n        this.onConfigurationChanged(this._context.configuration.options);\n    }\n    updateScreenReaderContent(primarySelection) {\n        const domNode = this._domNode.domNode;\n        const focusedElement = getActiveWindow().document.activeElement;\n        if (!focusedElement || focusedElement !== domNode) {\n            return;\n        }\n        const isScreenReaderOptimized = this._accessibilityService.isScreenReaderOptimized();\n        if (isScreenReaderOptimized) {\n            this._state = this._getScreenReaderContentState(primarySelection);\n            if (domNode.textContent !== this._state.value) {\n                this._setIgnoreSelectionChangeTime('setValue');\n                domNode.textContent = this._state.value;\n            }\n            const selection = getActiveWindow().document.getSelection();\n            if (!selection) {\n                return;\n            }\n            const data = this._getScreenReaderRange(this._state.selectionStart, this._state.selectionEnd);\n            if (!data) {\n                return;\n            }\n            this._setIgnoreSelectionChangeTime('setRange');\n            selection.setBaseAndExtent(data.anchorNode, data.anchorOffset, data.focusNode, data.focusOffset);\n        }\n        else {\n            this._state = undefined;\n            this._setIgnoreSelectionChangeTime('setValue');\n            this._domNode.domNode.textContent = '';\n        }\n    }\n    updateScrollTop(primarySelection) {\n        if (!this._state) {\n            return;\n        }\n        const viewLayout = this._context.viewModel.viewLayout;\n        const stateStartLineNumber = this._state.startPositionWithinEditor.lineNumber;\n        const verticalOffsetOfStateStartLineNumber = viewLayout.getVerticalOffsetForLineNumber(stateStartLineNumber);\n        const verticalOffsetOfPositionLineNumber = viewLayout.getVerticalOffsetForLineNumber(primarySelection.positionLineNumber);\n        this._domNode.domNode.scrollTop = verticalOffsetOfPositionLineNumber - verticalOffsetOfStateStartLineNumber;\n    }\n    onFocusChange(newFocusValue) {\n        if (newFocusValue) {\n            this._selectionChangeListener.value = this._setSelectionChangeListener();\n        }\n        else {\n            this._selectionChangeListener.value = undefined;\n        }\n    }\n    onConfigurationChanged(options) {\n        this._accessibilityPageSize = options.get(3 /* EditorOption.accessibilityPageSize */);\n    }\n    onWillCut() {\n        this._setIgnoreSelectionChangeTime('onCut');\n    }\n    onWillPaste() {\n        this._setIgnoreSelectionChangeTime('onWillPaste');\n    }\n    // --- private methods\n    _setIgnoreSelectionChangeTime(reason) {\n        this._ignoreSelectionChangeTime = Date.now();\n    }\n    _setSelectionChangeListener() {\n        // See https://github.com/microsoft/vscode/issues/27216 and https://github.com/microsoft/vscode/issues/98256\n        // When using a Braille display or NVDA for example, it is possible for users to reposition the\n        // system caret. This is reflected in Chrome as a `selectionchange` event and needs to be reflected within the editor.\n        // `selectionchange` events often come multiple times for a single logical change\n        // so throttle multiple `selectionchange` events that burst in a short period of time.\n        let previousSelectionChangeEventTime = 0;\n        return addDisposableListener(this._domNode.domNode.ownerDocument, 'selectionchange', () => {\n            const isScreenReaderOptimized = this._accessibilityService.isScreenReaderOptimized();\n            if (!this._state || !isScreenReaderOptimized || !IME.enabled) {\n                return;\n            }\n            const activeElement = getActiveWindow().document.activeElement;\n            const isFocused = activeElement === this._domNode.domNode;\n            if (!isFocused) {\n                return;\n            }\n            const selection = getActiveWindow().document.getSelection();\n            if (!selection) {\n                return;\n            }\n            const rangeCount = selection.rangeCount;\n            if (rangeCount === 0) {\n                return;\n            }\n            const range = selection.getRangeAt(0);\n            const now = Date.now();\n            const delta1 = now - previousSelectionChangeEventTime;\n            previousSelectionChangeEventTime = now;\n            if (delta1 < 5) {\n                // received another `selectionchange` event within 5ms of the previous `selectionchange` event\n                // => ignore it\n                return;\n            }\n            const delta2 = now - this._ignoreSelectionChangeTime;\n            this._ignoreSelectionChangeTime = 0;\n            if (delta2 < 100) {\n                // received a `selectionchange` event within 100ms since we touched the hidden div\n                // => ignore it, since we caused it\n                return;\n            }\n            this._viewController.setSelection(this._getEditorSelectionFromDomRange(this._context, this._state, selection.direction, range));\n        });\n    }\n    _getScreenReaderContentState(primarySelection) {\n        const state = this._strategy.fromEditorSelection(this._context.viewModel, primarySelection, this._accessibilityPageSize, this._accessibilityService.getAccessibilitySupport() === 0 /* AccessibilitySupport.Unknown */);\n        const endPosition = this._context.viewModel.model.getPositionAt(Infinity);\n        let value = state.value;\n        if (endPosition.column === 1 && primarySelection.getEndPosition().equals(endPosition)) {\n            value += '\\n';\n        }\n        state.value = value;\n        return state;\n    }\n    _getScreenReaderRange(selectionOffsetStart, selectionOffsetEnd) {\n        const textContent = this._domNode.domNode.firstChild;\n        if (!textContent) {\n            return;\n        }\n        const range = new globalThis.Range();\n        range.setStart(textContent, selectionOffsetStart);\n        range.setEnd(textContent, selectionOffsetEnd);\n        return {\n            anchorNode: textContent,\n            anchorOffset: selectionOffsetStart,\n            focusNode: textContent,\n            focusOffset: selectionOffsetEnd\n        };\n    }\n    _getEditorSelectionFromDomRange(context, state, direction, range) {\n        const viewModel = context.viewModel;\n        const model = viewModel.model;\n        const coordinatesConverter = viewModel.coordinatesConverter;\n        const modelScreenReaderContentStartPositionWithinEditor = coordinatesConverter.convertViewPositionToModelPosition(state.startPositionWithinEditor);\n        const offsetOfStartOfScreenReaderContent = model.getOffsetAt(modelScreenReaderContentStartPositionWithinEditor);\n        let offsetOfSelectionStart = range.startOffset + offsetOfStartOfScreenReaderContent;\n        let offsetOfSelectionEnd = range.endOffset + offsetOfStartOfScreenReaderContent;\n        const modelUsesCRLF = model.getEndOfLineSequence() === 1 /* EndOfLineSequence.CRLF */;\n        if (modelUsesCRLF) {\n            const screenReaderContentText = state.value;\n            const offsetTransformer = new PositionOffsetTransformer(screenReaderContentText);\n            const positionOfStartWithinText = offsetTransformer.getPosition(range.startOffset);\n            const positionOfEndWithinText = offsetTransformer.getPosition(range.endOffset);\n            offsetOfSelectionStart += positionOfStartWithinText.lineNumber - 1;\n            offsetOfSelectionEnd += positionOfEndWithinText.lineNumber - 1;\n        }\n        const positionOfSelectionStart = model.getPositionAt(offsetOfSelectionStart);\n        const positionOfSelectionEnd = model.getPositionAt(offsetOfSelectionEnd);\n        const selectionStart = direction === 'forward' ? positionOfSelectionStart : positionOfSelectionEnd;\n        const selectionEnd = direction === 'forward' ? positionOfSelectionEnd : positionOfSelectionStart;\n        return Selection.fromPositions(selectionStart, selectionEnd);\n    }\n};\nSimpleScreenReaderContent = __decorate([\n    __param(3, IAccessibilityService)\n], SimpleScreenReaderContent);\n\nexport { SimpleScreenReaderContent };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4362, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/browser/controller/editContext/native/screenReaderSupport.js"],"sourcesContent":["import { Disposable, MutableDisposable } from '../../../../../base/common/lifecycle.js';\nimport { localize } from '../../../../../nls.js';\nimport { IAccessibilityService } from '../../../../../platform/accessibility/common/accessibility.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { Selection } from '../../../../common/core/selection.js';\nimport { applyFontInfo } from '../../../config/domFontInfo.js';\nimport { ariaLabelForScreenReaderContent } from '../screenReaderUtils.js';\nimport { RichScreenReaderContent } from './screenReaderContentRich.js';\nimport { SimpleScreenReaderContent } from './screenReaderContentSimple.js';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nlet ScreenReaderSupport = class ScreenReaderSupport extends Disposable {\n    constructor(_domNode, _context, _viewController, _keybindingService, _accessibilityService) {\n        super();\n        this._domNode = _domNode;\n        this._context = _context;\n        this._viewController = _viewController;\n        this._keybindingService = _keybindingService;\n        this._accessibilityService = _accessibilityService;\n        // Configuration values\n        this._contentLeft = 1;\n        this._contentWidth = 1;\n        this._contentHeight = 1;\n        this._divWidth = 1;\n        this._primarySelection = new Selection(1, 1, 1, 1);\n        this._primaryCursorVisibleRange = null;\n        this._state = this._register(new MutableDisposable());\n        this._instantiateScreenReaderContent();\n        this._updateConfigurationSettings();\n        this._updateDomAttributes();\n    }\n    onWillPaste() {\n        this._state.value?.onWillPaste();\n    }\n    onWillCut() {\n        this._state.value?.onWillCut();\n    }\n    handleFocusChange(newFocusValue) {\n        this._state.value?.onFocusChange(newFocusValue);\n        this.writeScreenReaderContent();\n    }\n    onConfigurationChanged(e) {\n        this._instantiateScreenReaderContent();\n        this._updateConfigurationSettings();\n        this._updateDomAttributes();\n        if (e.hasChanged(2 /* EditorOption.accessibilitySupport */)) {\n            this.writeScreenReaderContent();\n        }\n    }\n    _instantiateScreenReaderContent() {\n        const renderRichContent = this._context.configuration.options.get(107 /* EditorOption.renderRichScreenReaderContent */);\n        if (this._renderRichContent !== renderRichContent) {\n            this._renderRichContent = renderRichContent;\n            this._state.value = this._createScreenReaderContent(renderRichContent);\n        }\n    }\n    _createScreenReaderContent(renderRichContent) {\n        if (renderRichContent) {\n            return new RichScreenReaderContent(this._domNode, this._context, this._viewController, this._accessibilityService);\n        }\n        else {\n            return new SimpleScreenReaderContent(this._domNode, this._context, this._viewController, this._accessibilityService);\n        }\n    }\n    _updateConfigurationSettings() {\n        const options = this._context.configuration.options;\n        const layoutInfo = options.get(165 /* EditorOption.layoutInfo */);\n        const wrappingColumn = layoutInfo.wrappingColumn;\n        this._contentLeft = layoutInfo.contentLeft;\n        this._contentWidth = layoutInfo.contentWidth;\n        this._contentHeight = layoutInfo.height;\n        this._fontInfo = options.get(59 /* EditorOption.fontInfo */);\n        this._divWidth = Math.round(wrappingColumn * this._fontInfo.typicalHalfwidthCharacterWidth);\n        this._state.value?.onConfigurationChanged(options);\n    }\n    _updateDomAttributes() {\n        const options = this._context.configuration.options;\n        this._domNode.domNode.setAttribute('role', 'textbox');\n        this._domNode.domNode.setAttribute('aria-required', options.get(9 /* EditorOption.ariaRequired */) ? 'true' : 'false');\n        this._domNode.domNode.setAttribute('aria-multiline', 'true');\n        this._domNode.domNode.setAttribute('aria-autocomplete', options.get(104 /* EditorOption.readOnly */) ? 'none' : 'both');\n        this._domNode.domNode.setAttribute('aria-roledescription', localize(60, \"editor\"));\n        this._domNode.domNode.setAttribute('aria-label', ariaLabelForScreenReaderContent(options, this._keybindingService));\n        const tabSize = this._context.viewModel.model.getOptions().tabSize;\n        const spaceWidth = options.get(59 /* EditorOption.fontInfo */).spaceWidth;\n        this._domNode.domNode.style.tabSize = `${tabSize * spaceWidth}px`;\n        const wordWrapOverride2 = options.get(154 /* EditorOption.wordWrapOverride2 */);\n        const wordWrapOverride1 = (wordWrapOverride2 === 'inherit' ? options.get(153 /* EditorOption.wordWrapOverride1 */) : wordWrapOverride2);\n        const wordWrap = (wordWrapOverride1 === 'inherit' ? options.get(149 /* EditorOption.wordWrap */) : wordWrapOverride1);\n        this._domNode.domNode.style.textWrap = wordWrap === 'off' ? 'nowrap' : 'wrap';\n    }\n    onCursorStateChanged(e) {\n        this._primarySelection = e.selections[0] ?? new Selection(1, 1, 1, 1);\n    }\n    prepareRender(ctx) {\n        this.writeScreenReaderContent();\n        this._primaryCursorVisibleRange = ctx.visibleRangeForPosition(this._primarySelection.getPosition());\n    }\n    render(ctx) {\n        if (!this._primaryCursorVisibleRange) {\n            // The primary cursor is outside the viewport => place textarea to the top left\n            this._renderAtTopLeft();\n            return;\n        }\n        const editorScrollLeft = this._context.viewLayout.getCurrentScrollLeft();\n        const left = this._contentLeft + this._primaryCursorVisibleRange.left - editorScrollLeft;\n        if (left < this._contentLeft || left > this._contentLeft + this._contentWidth) {\n            // cursor is outside the viewport\n            this._renderAtTopLeft();\n            return;\n        }\n        const editorScrollTop = this._context.viewLayout.getCurrentScrollTop();\n        const positionLineNumber = this._primarySelection.positionLineNumber;\n        const top = this._context.viewLayout.getVerticalOffsetForLineNumber(positionLineNumber) - editorScrollTop;\n        if (top < 0 || top > this._contentHeight) {\n            // cursor is outside the viewport\n            this._renderAtTopLeft();\n            return;\n        }\n        // The <div> where we render the screen reader content does not support variable line heights,\n        // all the lines must have the same height. We use the line height of the cursor position as the\n        // line height for all lines.\n        const lineHeight = this._context.viewLayout.getLineHeightForLineNumber(positionLineNumber);\n        this._doRender(top, this._contentLeft, this._divWidth, lineHeight);\n        this._state.value?.updateScrollTop(this._primarySelection);\n    }\n    _renderAtTopLeft() {\n        this._doRender(0, 0, this._contentWidth, 1);\n    }\n    _doRender(top, left, width, height) {\n        // For correct alignment of the screen reader content, we need to apply the correct font\n        applyFontInfo(this._domNode, this._fontInfo);\n        this._domNode.setTop(top);\n        this._domNode.setLeft(left);\n        this._domNode.setWidth(width);\n        this._domNode.setHeight(height);\n        this._domNode.setLineHeight(height);\n    }\n    setAriaOptions(options) {\n        if (options.activeDescendant) {\n            this._domNode.setAttribute('aria-haspopup', 'true');\n            this._domNode.setAttribute('aria-autocomplete', 'list');\n            this._domNode.setAttribute('aria-activedescendant', options.activeDescendant);\n        }\n        else {\n            this._domNode.setAttribute('aria-haspopup', 'false');\n            this._domNode.setAttribute('aria-autocomplete', 'both');\n            this._domNode.removeAttribute('aria-activedescendant');\n        }\n        if (options.role) {\n            this._domNode.setAttribute('role', options.role);\n        }\n    }\n    writeScreenReaderContent() {\n        this._state.value?.updateScreenReaderContent(this._primarySelection);\n    }\n};\nScreenReaderSupport = __decorate([\n    __param(3, IKeybindingService),\n    __param(4, IAccessibilityService)\n], ScreenReaderSupport);\n\nexport { ScreenReaderSupport };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4551, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/browser/controller/editContext/native/editContextFactory.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar EditContext;\n(function (EditContext) {\n    /**\n     * Create an edit context.\n     */\n    function create(window, options) {\n        return new window.EditContext(options);\n    }\n    EditContext.create = create;\n})(EditContext || (EditContext = {}));\n\nexport { EditContext };\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;;AAC9F,IAAI;AACJ,CAAC,SAAU,WAAW;IAClB;;KAEC,GACD,SAAS,OAAO,MAAM,EAAE,OAAO;QAC3B,OAAO,IAAI,OAAO,WAAW,CAAC;IAClC;IACA,YAAY,MAAM,GAAG;AACzB,CAAC,EAAE,eAAe,CAAC,cAAc,CAAC,CAAC","ignoreList":[0]}},
    {"offset": {"line": 4572, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/browser/controller/editContext/native/nativeEditContextRegistry.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nclass NativeEditContextRegistryImpl {\n    constructor() {\n        this._nativeEditContextMapping = new Map();\n    }\n    register(ownerID, nativeEditContext) {\n        this._nativeEditContextMapping.set(ownerID, nativeEditContext);\n        return {\n            dispose: () => {\n                this._nativeEditContextMapping.delete(ownerID);\n            }\n        };\n    }\n    get(ownerID) {\n        return this._nativeEditContextMapping.get(ownerID);\n    }\n}\nconst NativeEditContextRegistry = new NativeEditContextRegistryImpl();\n\nexport { NativeEditContextRegistry };\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;;AAC9F,MAAM;IACF,aAAc;QACV,IAAI,CAAC,yBAAyB,GAAG,IAAI;IACzC;IACA,SAAS,OAAO,EAAE,iBAAiB,EAAE;QACjC,IAAI,CAAC,yBAAyB,CAAC,GAAG,CAAC,SAAS;QAC5C,OAAO;YACH,SAAS;gBACL,IAAI,CAAC,yBAAyB,CAAC,MAAM,CAAC;YAC1C;QACJ;IACJ;IACA,IAAI,OAAO,EAAE;QACT,OAAO,IAAI,CAAC,yBAAyB,CAAC,GAAG,CAAC;IAC9C;AACJ;AACA,MAAM,4BAA4B,IAAI","ignoreList":[0]}},
    {"offset": {"line": 4601, "column": 0}, "map": {"version":3,"sources":["file:///D:/real-time-code-editor%20%282%29/node_modules/.pnpm/monaco-editor%400.55.1/node_modules/monaco-editor/esm/vs/editor/browser/controller/editContext/native/nativeEditContext.js"],"sourcesContent":["import './nativeEditContext.css';\nimport { isFirefox } from '../../../../../base/browser/browser.js';\nimport { getWindow, addDisposableListener, getActiveElement, getWindowId } from '../../../../../base/browser/dom.js';\nimport { FastDomNode } from '../../../../../base/browser/fastDomNode.js';\nimport { StandardKeyboardEvent } from '../../../../../base/browser/keyboardEvent.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { ClipboardEventUtils, InMemoryClipboardMetadataManager, getDataToCopy } from '../clipboardUtils.js';\nimport { AbstractEditContext } from '../editContext.js';\nimport { FocusTracker, editContextAddDisposableListener } from './nativeEditContextUtils.js';\nimport { ScreenReaderSupport } from './screenReaderSupport.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { Selection } from '../../../../common/core/selection.js';\nimport { Position } from '../../../../common/core/position.js';\nimport '../../../../common/core/text/positionToOffset.js';\nimport { EditContext } from './editContextFactory.js';\nimport { NativeEditContextRegistry } from './nativeEditContextRegistry.js';\nimport { isHighSurrogate, isLowSurrogate } from '../../../../../base/common/strings.js';\nimport { IME } from '../../../../../base/common/ime.js';\nimport { OffsetRange } from '../../../../common/core/ranges/offsetRange.js';\nimport { ILogService, LogLevel } from '../../../../../platform/log/common/log.js';\nimport { generateUuid } from '../../../../../base/common/uuid.js';\nimport { PositionOffsetTransformer } from '../../../../common/core/text/positionToOffsetImpl.js';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n// Corresponds to classes in nativeEditContext.css\nvar CompositionClassName;\n(function (CompositionClassName) {\n    CompositionClassName[\"NONE\"] = \"edit-context-composition-none\";\n    CompositionClassName[\"SECONDARY\"] = \"edit-context-composition-secondary\";\n    CompositionClassName[\"PRIMARY\"] = \"edit-context-composition-primary\";\n})(CompositionClassName || (CompositionClassName = {}));\nlet NativeEditContext = class NativeEditContext extends AbstractEditContext {\n    constructor(ownerID, context, overflowGuardContainer, _viewController, _visibleRangeProvider, instantiationService, logService) {\n        super(context);\n        this._viewController = _viewController;\n        this._visibleRangeProvider = _visibleRangeProvider;\n        this.logService = logService;\n        this._previousEditContextSelection = new OffsetRange(0, 0);\n        this._editContextPrimarySelection = new Selection(1, 1, 1, 1);\n        this._decorations = [];\n        this._primarySelection = new Selection(1, 1, 1, 1);\n        this._targetWindowId = -1;\n        this._scrollTop = 0;\n        this._scrollLeft = 0;\n        this._linesVisibleRanges = null;\n        this.domNode = new FastDomNode(document.createElement('div'));\n        this.domNode.setClassName(`native-edit-context`);\n        this._imeTextArea = new FastDomNode(document.createElement('textarea'));\n        this._imeTextArea.setClassName(`ime-text-area`);\n        this._imeTextArea.setAttribute('readonly', 'true');\n        this._imeTextArea.setAttribute('tabindex', '-1');\n        this._imeTextArea.setAttribute('aria-hidden', 'true');\n        this.domNode.setAttribute('autocorrect', 'off');\n        this.domNode.setAttribute('autocapitalize', 'off');\n        this.domNode.setAttribute('autocomplete', 'off');\n        this.domNode.setAttribute('spellcheck', 'false');\n        this._updateDomAttributes();\n        overflowGuardContainer.appendChild(this.domNode);\n        overflowGuardContainer.appendChild(this._imeTextArea);\n        this._parent = overflowGuardContainer.domNode;\n        this._focusTracker = this._register(new FocusTracker(logService, this.domNode.domNode, (newFocusValue) => {\n            logService.trace('NativeEditContext#handleFocusChange : ', newFocusValue);\n            this._screenReaderSupport.handleFocusChange(newFocusValue);\n            this._context.viewModel.setHasFocus(newFocusValue);\n        }));\n        const window = getWindow(this.domNode.domNode);\n        this._editContext = EditContext.create(window);\n        this.setEditContextOnDomNode();\n        this._screenReaderSupport = this._register(instantiationService.createInstance(ScreenReaderSupport, this.domNode, context, this._viewController));\n        this._register(addDisposableListener(this.domNode.domNode, 'copy', (e) => {\n            this.logService.trace('NativeEditContext#copy');\n            this._ensureClipboardGetsEditorSelection(e);\n        }));\n        this._register(addDisposableListener(this.domNode.domNode, 'cut', (e) => {\n            this.logService.trace('NativeEditContext#cut');\n            // Pretend here we touched the text area, as the `cut` event will most likely\n            // result in a `selectionchange` event which we want to ignore\n            this._screenReaderSupport.onWillCut();\n            this._ensureClipboardGetsEditorSelection(e);\n            this.logService.trace('NativeEditContext#cut (before viewController.cut)');\n            this._viewController.cut();\n        }));\n        this._register(addDisposableListener(this.domNode.domNode, 'keyup', (e) => this._onKeyUp(e)));\n        this._register(addDisposableListener(this.domNode.domNode, 'keydown', async (e) => this._onKeyDown(e)));\n        this._register(addDisposableListener(this._imeTextArea.domNode, 'keyup', (e) => this._onKeyUp(e)));\n        this._register(addDisposableListener(this._imeTextArea.domNode, 'keydown', async (e) => this._onKeyDown(e)));\n        this._register(addDisposableListener(this.domNode.domNode, 'beforeinput', async (e) => {\n            if (e.inputType === 'insertParagraph' || e.inputType === 'insertLineBreak') {\n                this._onType(this._viewController, { text: '\\n', replacePrevCharCnt: 0, replaceNextCharCnt: 0, positionDelta: 0 });\n            }\n        }));\n        this._register(addDisposableListener(this.domNode.domNode, 'paste', (e) => {\n            this.logService.trace('NativeEditContext#paste');\n            e.preventDefault();\n            if (!e.clipboardData) {\n                return;\n            }\n            let [text, metadata] = ClipboardEventUtils.getTextData(e.clipboardData);\n            this.logService.trace('NativeEditContext#paste with id : ', metadata?.id, ' with text.length: ', text.length);\n            if (!text) {\n                return;\n            }\n            metadata = metadata || InMemoryClipboardMetadataManager.INSTANCE.get(text);\n            let pasteOnNewLine = false;\n            let multicursorText = null;\n            let mode = null;\n            if (metadata) {\n                const options = this._context.configuration.options;\n                const emptySelectionClipboard = options.get(45 /* EditorOption.emptySelectionClipboard */);\n                pasteOnNewLine = emptySelectionClipboard && !!metadata.isFromEmptySelection;\n                multicursorText = typeof metadata.multicursorText !== 'undefined' ? metadata.multicursorText : null;\n                mode = metadata.mode;\n            }\n            this.logService.trace('NativeEditContext#paste (before viewController.paste)');\n            this._viewController.paste(text, pasteOnNewLine, multicursorText, mode);\n        }));\n        // Edit context events\n        this._register(editContextAddDisposableListener(this._editContext, 'textformatupdate', (e) => this._handleTextFormatUpdate(e)));\n        this._register(editContextAddDisposableListener(this._editContext, 'characterboundsupdate', (e) => this._updateCharacterBounds(e)));\n        let highSurrogateCharacter;\n        this._register(editContextAddDisposableListener(this._editContext, 'textupdate', (e) => {\n            const text = e.text;\n            if (text.length === 1) {\n                const charCode = text.charCodeAt(0);\n                if (isHighSurrogate(charCode)) {\n                    highSurrogateCharacter = text;\n                    return;\n                }\n                if (isLowSurrogate(charCode) && highSurrogateCharacter) {\n                    const textUpdateEvent = {\n                        text: highSurrogateCharacter + text,\n                        selectionEnd: e.selectionEnd,\n                        selectionStart: e.selectionStart,\n                        updateRangeStart: e.updateRangeStart - 1,\n                        updateRangeEnd: e.updateRangeEnd - 1\n                    };\n                    highSurrogateCharacter = undefined;\n                    this._emitTypeEvent(this._viewController, textUpdateEvent);\n                    return;\n                }\n            }\n            this._emitTypeEvent(this._viewController, e);\n        }));\n        this._register(editContextAddDisposableListener(this._editContext, 'compositionstart', (e) => {\n            this._updateEditContext();\n            // Utlimately fires onDidCompositionStart() on the editor to notify for example suggest model of composition state\n            // Updates the composition state of the cursor controller which determines behavior of typing with interceptors\n            this._viewController.compositionStart();\n            // Emits ViewCompositionStartEvent which can be depended on by ViewEventHandlers\n            this._context.viewModel.onCompositionStart();\n        }));\n        this._register(editContextAddDisposableListener(this._editContext, 'compositionend', (e) => {\n            this._updateEditContext();\n            // Utlimately fires compositionEnd() on the editor to notify for example suggest model of composition state\n            // Updates the composition state of the cursor controller which determines behavior of typing with interceptors\n            this._viewController.compositionEnd();\n            // Emits ViewCompositionEndEvent which can be depended on by ViewEventHandlers\n            this._context.viewModel.onCompositionEnd();\n        }));\n        let reenableTracking = false;\n        this._register(IME.onDidChange(() => {\n            if (IME.enabled && reenableTracking) {\n                this._focusTracker.resume();\n                this.domNode.focus();\n                reenableTracking = false;\n            }\n            if (!IME.enabled && this.isFocused()) {\n                this._focusTracker.pause();\n                this._imeTextArea.focus();\n                reenableTracking = true;\n            }\n        }));\n        this._register(NativeEditContextRegistry.register(ownerID, this));\n    }\n    // --- Public methods ---\n    dispose() {\n        // Force blue the dom node so can write in pane with no native edit context after disposal\n        this.domNode.domNode.editContext = undefined;\n        this.domNode.domNode.blur();\n        this.domNode.domNode.remove();\n        this._imeTextArea.domNode.remove();\n        super.dispose();\n    }\n    setAriaOptions(options) {\n        this._screenReaderSupport.setAriaOptions(options);\n    }\n    /* Last rendered data needed for correct hit-testing and determining the mouse position.\n     * Without this, the selection will blink as incorrect mouse position is calculated */\n    getLastRenderData() {\n        return this._primarySelection.getPosition();\n    }\n    prepareRender(ctx) {\n        this._screenReaderSupport.prepareRender(ctx);\n        this._updateSelectionAndControlBoundsData(ctx);\n    }\n    onDidRender() {\n        this._updateSelectionAndControlBoundsAfterRender();\n    }\n    render(ctx) {\n        this._screenReaderSupport.render(ctx);\n    }\n    onCursorStateChanged(e) {\n        this._primarySelection = e.modelSelections[0] ?? new Selection(1, 1, 1, 1);\n        this._screenReaderSupport.onCursorStateChanged(e);\n        this._updateEditContext();\n        return true;\n    }\n    onConfigurationChanged(e) {\n        this._screenReaderSupport.onConfigurationChanged(e);\n        this._updateDomAttributes();\n        return true;\n    }\n    onDecorationsChanged(e) {\n        // true for inline decorations that can end up relayouting text\n        return true;\n    }\n    onFlushed(e) {\n        return true;\n    }\n    onLinesChanged(e) {\n        this._updateEditContextOnLineChange(e.fromLineNumber, e.fromLineNumber + e.count - 1);\n        return true;\n    }\n    onLinesDeleted(e) {\n        this._updateEditContextOnLineChange(e.fromLineNumber, e.toLineNumber);\n        return true;\n    }\n    onLinesInserted(e) {\n        this._updateEditContextOnLineChange(e.fromLineNumber, e.toLineNumber);\n        return true;\n    }\n    _updateEditContextOnLineChange(fromLineNumber, toLineNumber) {\n        if (this._editContextPrimarySelection.endLineNumber < fromLineNumber || this._editContextPrimarySelection.startLineNumber > toLineNumber) {\n            return;\n        }\n        this._updateEditContext();\n    }\n    onScrollChanged(e) {\n        this._scrollLeft = e.scrollLeft;\n        this._scrollTop = e.scrollTop;\n        return true;\n    }\n    onZonesChanged(e) {\n        return true;\n    }\n    onWillPaste() {\n        this.logService.trace('NativeEditContext#onWillPaste');\n        this._onWillPaste();\n    }\n    _onWillPaste() {\n        this._screenReaderSupport.onWillPaste();\n    }\n    onWillCopy() {\n        this.logService.trace('NativeEditContext#onWillCopy');\n        this.logService.trace('NativeEditContext#isFocused : ', this.domNode.domNode === getActiveElement());\n    }\n    writeScreenReaderContent() {\n        this._screenReaderSupport.writeScreenReaderContent();\n    }\n    isFocused() {\n        return this._focusTracker.isFocused;\n    }\n    focus() {\n        this._focusTracker.focus();\n        // If the editor is off DOM, focus cannot be really set, so let's double check that we have managed to set the focus\n        this.refreshFocusState();\n    }\n    refreshFocusState() {\n        this._focusTracker.refreshFocusState();\n    }\n    // TODO: added as a workaround fix for https://github.com/microsoft/vscode/issues/229825\n    // When this issue will be fixed the following should be removed.\n    setEditContextOnDomNode() {\n        const targetWindow = getWindow(this.domNode.domNode);\n        const targetWindowId = getWindowId(targetWindow);\n        if (this._targetWindowId !== targetWindowId) {\n            this.domNode.domNode.editContext = this._editContext;\n            this._targetWindowId = targetWindowId;\n        }\n    }\n    // --- Private methods ---\n    _onKeyUp(e) {\n        this._viewController.emitKeyUp(new StandardKeyboardEvent(e));\n    }\n    _onKeyDown(e) {\n        const standardKeyboardEvent = new StandardKeyboardEvent(e);\n        // When the IME is visible, the keys, like arrow-left and arrow-right, should be used to navigate in the IME, and should not be propagated further\n        if (standardKeyboardEvent.keyCode === 114 /* KeyCode.KEY_IN_COMPOSITION */) {\n            standardKeyboardEvent.stopPropagation();\n        }\n        this._viewController.emitKeyDown(standardKeyboardEvent);\n    }\n    _updateDomAttributes() {\n        const options = this._context.configuration.options;\n        this.domNode.domNode.setAttribute('tabindex', String(options.get(140 /* EditorOption.tabIndex */)));\n    }\n    _updateEditContext() {\n        const editContextState = this._getNewEditContextState();\n        if (!editContextState) {\n            return;\n        }\n        this._editContext.updateText(0, Number.MAX_SAFE_INTEGER, editContextState.text ?? ' ');\n        this._editContext.updateSelection(editContextState.selectionStartOffset, editContextState.selectionEndOffset);\n        this._editContextPrimarySelection = editContextState.editContextPrimarySelection;\n        this._previousEditContextSelection = new OffsetRange(editContextState.selectionStartOffset, editContextState.selectionEndOffset);\n    }\n    _emitTypeEvent(viewController, e) {\n        if (!this._editContext) {\n            return;\n        }\n        const selectionEndOffset = this._previousEditContextSelection.endExclusive;\n        const selectionStartOffset = this._previousEditContextSelection.start;\n        this._previousEditContextSelection = new OffsetRange(e.selectionStart, e.selectionEnd);\n        let replaceNextCharCnt = 0;\n        let replacePrevCharCnt = 0;\n        if (e.updateRangeEnd > selectionEndOffset) {\n            replaceNextCharCnt = e.updateRangeEnd - selectionEndOffset;\n        }\n        if (e.updateRangeStart < selectionStartOffset) {\n            replacePrevCharCnt = selectionStartOffset - e.updateRangeStart;\n        }\n        let text = '';\n        if (selectionStartOffset < e.updateRangeStart) {\n            text += this._editContext.text.substring(selectionStartOffset, e.updateRangeStart);\n        }\n        text += e.text;\n        if (selectionEndOffset > e.updateRangeEnd) {\n            text += this._editContext.text.substring(e.updateRangeEnd, selectionEndOffset);\n        }\n        let positionDelta = 0;\n        if (e.selectionStart === e.selectionEnd && selectionStartOffset === selectionEndOffset) {\n            positionDelta = e.selectionStart - (e.updateRangeStart + e.text.length);\n        }\n        const typeInput = {\n            text,\n            replacePrevCharCnt,\n            replaceNextCharCnt,\n            positionDelta\n        };\n        this._onType(viewController, typeInput);\n    }\n    _onType(viewController, typeInput) {\n        if (typeInput.replacePrevCharCnt || typeInput.replaceNextCharCnt || typeInput.positionDelta) {\n            viewController.compositionType(typeInput.text, typeInput.replacePrevCharCnt, typeInput.replaceNextCharCnt, typeInput.positionDelta);\n        }\n        else {\n            viewController.type(typeInput.text);\n        }\n    }\n    _getNewEditContextState() {\n        const editContextPrimarySelection = this._primarySelection;\n        const model = this._context.viewModel.model;\n        if (!model.isValidRange(editContextPrimarySelection)) {\n            return;\n        }\n        const primarySelectionStartLine = editContextPrimarySelection.startLineNumber;\n        const primarySelectionEndLine = editContextPrimarySelection.endLineNumber;\n        const endColumnOfEndLineNumber = model.getLineMaxColumn(primarySelectionEndLine);\n        const rangeOfText = new Range(primarySelectionStartLine, 1, primarySelectionEndLine, endColumnOfEndLineNumber);\n        const text = model.getValueInRange(rangeOfText, 0 /* EndOfLinePreference.TextDefined */);\n        const selectionStartOffset = editContextPrimarySelection.startColumn - 1;\n        const selectionEndOffset = text.length + editContextPrimarySelection.endColumn - endColumnOfEndLineNumber;\n        return {\n            text,\n            selectionStartOffset,\n            selectionEndOffset,\n            editContextPrimarySelection\n        };\n    }\n    _editContextStartPosition() {\n        return new Position(this._editContextPrimarySelection.startLineNumber, 1);\n    }\n    _handleTextFormatUpdate(e) {\n        if (!this._editContext) {\n            return;\n        }\n        const formats = e.getTextFormats();\n        const editContextStartPosition = this._editContextStartPosition();\n        const decorations = [];\n        formats.forEach(f => {\n            const textModel = this._context.viewModel.model;\n            const offsetOfEditContextText = textModel.getOffsetAt(editContextStartPosition);\n            const startPositionOfDecoration = textModel.getPositionAt(offsetOfEditContextText + f.rangeStart);\n            const endPositionOfDecoration = textModel.getPositionAt(offsetOfEditContextText + f.rangeEnd);\n            const decorationRange = Range.fromPositions(startPositionOfDecoration, endPositionOfDecoration);\n            const thickness = f.underlineThickness.toLowerCase();\n            let decorationClassName = CompositionClassName.NONE;\n            switch (thickness) {\n                case 'thin':\n                    decorationClassName = CompositionClassName.SECONDARY;\n                    break;\n                case 'thick':\n                    decorationClassName = CompositionClassName.PRIMARY;\n                    break;\n            }\n            decorations.push({\n                range: decorationRange,\n                options: {\n                    description: 'textFormatDecoration',\n                    inlineClassName: decorationClassName,\n                }\n            });\n        });\n        this._decorations = this._context.viewModel.model.deltaDecorations(this._decorations, decorations);\n    }\n    _updateSelectionAndControlBoundsData(ctx) {\n        const viewSelection = this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(this._primarySelection);\n        if (this._primarySelection.isEmpty()) {\n            const linesVisibleRanges = ctx.visibleRangeForPosition(viewSelection.getStartPosition());\n            this._linesVisibleRanges = linesVisibleRanges;\n        }\n        else {\n            this._linesVisibleRanges = null;\n        }\n    }\n    _updateSelectionAndControlBoundsAfterRender() {\n        const options = this._context.configuration.options;\n        const contentLeft = options.get(165 /* EditorOption.layoutInfo */).contentLeft;\n        const viewSelection = this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(this._primarySelection);\n        const verticalOffsetStart = this._context.viewLayout.getVerticalOffsetForLineNumber(viewSelection.startLineNumber);\n        const verticalOffsetEnd = this._context.viewLayout.getVerticalOffsetAfterLineNumber(viewSelection.endLineNumber);\n        // Make sure this doesn't force an extra layout (i.e. don't call it before rendering finished)\n        const parentBounds = this._parent.getBoundingClientRect();\n        const top = parentBounds.top + verticalOffsetStart - this._scrollTop;\n        const height = verticalOffsetEnd - verticalOffsetStart;\n        let left = parentBounds.left + contentLeft - this._scrollLeft;\n        let width;\n        if (this._primarySelection.isEmpty()) {\n            if (this._linesVisibleRanges) {\n                left += this._linesVisibleRanges.left;\n            }\n            width = 0;\n        }\n        else {\n            width = parentBounds.width - contentLeft;\n        }\n        const selectionBounds = new DOMRect(left, top, width, height);\n        this._editContext.updateSelectionBounds(selectionBounds);\n        this._editContext.updateControlBounds(selectionBounds);\n    }\n    _updateCharacterBounds(e) {\n        const options = this._context.configuration.options;\n        const typicalHalfWidthCharacterWidth = options.get(59 /* EditorOption.fontInfo */).typicalHalfwidthCharacterWidth;\n        const contentLeft = options.get(165 /* EditorOption.layoutInfo */).contentLeft;\n        const parentBounds = this._parent.getBoundingClientRect();\n        const characterBounds = [];\n        const offsetTransformer = new PositionOffsetTransformer(this._editContext.text);\n        for (let offset = e.rangeStart; offset < e.rangeEnd; offset++) {\n            const editContextStartPosition = offsetTransformer.getPosition(offset);\n            const textStartLineOffsetWithinEditor = this._editContextPrimarySelection.startLineNumber - 1;\n            const characterStartPosition = new Position(textStartLineOffsetWithinEditor + editContextStartPosition.lineNumber, editContextStartPosition.column);\n            const characterEndPosition = characterStartPosition.delta(0, 1);\n            const characterModelRange = Range.fromPositions(characterStartPosition, characterEndPosition);\n            const characterViewRange = this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(characterModelRange);\n            const characterLinesVisibleRanges = this._visibleRangeProvider.linesVisibleRangesForRange(characterViewRange, true) ?? [];\n            const lineNumber = characterViewRange.startLineNumber;\n            const characterVerticalOffset = this._context.viewLayout.getVerticalOffsetForLineNumber(lineNumber);\n            const top = parentBounds.top + characterVerticalOffset - this._scrollTop;\n            let left = 0;\n            let width = typicalHalfWidthCharacterWidth;\n            if (characterLinesVisibleRanges.length > 0) {\n                for (const visibleRange of characterLinesVisibleRanges[0].ranges) {\n                    left = visibleRange.left;\n                    width = visibleRange.width;\n                    break;\n                }\n            }\n            const lineHeight = this._context.viewLayout.getLineHeightForLineNumber(lineNumber);\n            characterBounds.push(new DOMRect(parentBounds.left + contentLeft + left - this._scrollLeft, top, width, lineHeight));\n        }\n        this._editContext.updateCharacterBounds(e.rangeStart, characterBounds);\n    }\n    _ensureClipboardGetsEditorSelection(e) {\n        const options = this._context.configuration.options;\n        const emptySelectionClipboard = options.get(45 /* EditorOption.emptySelectionClipboard */);\n        const copyWithSyntaxHighlighting = options.get(31 /* EditorOption.copyWithSyntaxHighlighting */);\n        const selections = this._context.viewModel.getCursorStates().map(cursorState => cursorState.modelState.selection);\n        const dataToCopy = getDataToCopy(this._context.viewModel, selections, emptySelectionClipboard, copyWithSyntaxHighlighting);\n        let id = undefined;\n        if (this.logService.getLevel() === LogLevel.Trace) {\n            id = generateUuid();\n        }\n        const storedMetadata = {\n            version: 1,\n            id,\n            isFromEmptySelection: dataToCopy.isFromEmptySelection,\n            multicursorText: dataToCopy.multicursorText,\n            mode: dataToCopy.mode\n        };\n        InMemoryClipboardMetadataManager.INSTANCE.set(\n        // When writing \"LINE\\r\\n\" to the clipboard and then pasting,\n        // Firefox pastes \"LINE\\n\", so let's work around this quirk\n        (isFirefox ? dataToCopy.text.replace(/\\r\\n/g, '\\n') : dataToCopy.text), storedMetadata);\n        e.preventDefault();\n        if (e.clipboardData) {\n            ClipboardEventUtils.setTextData(e.clipboardData, dataToCopy.text, dataToCopy.html, storedMetadata);\n        }\n        this.logService.trace('NativeEditContext#_ensureClipboardGetsEditorSelectios with id : ', id, ' with text.length: ', dataToCopy.text.length);\n    }\n};\nNativeEditContext = __decorate([\n    __param(5, IInstantiationService),\n    __param(6, ILogService)\n], NativeEditContext);\n\nexport { NativeEditContext };\n"],"names":[],"mappings":"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","ignoreList":[0]}}]
}